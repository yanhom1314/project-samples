webpackJsonp([0],[function(e,t,i){function r(){var e=.8*a(window).width();return a("#list2").setGridWidth(e),console.log("width:"+e),e}var a=jQuery=i(1);i(2),i(11),i(13),i(14),i(15);var o=i(17).add;window.onload=function(){console.log(o(12,7)),jQuery("#list2").jqGrid({url:"jqgrid",datatype:"json",colNames:["id","firstName","lastName","address"],colModel:[{name:"id",index:"id",width:90,align:"left"},{name:"firstName",index:"firstName",width:90,align:"right"},{name:"lastName",index:"lastName",width:100},{name:"address",index:"address",width:150,sortable:!1}],width:r(),rowNum:10,rowList:[10,20,30],pager:"#pager2",sortname:"id",viewrecords:!0,sortorder:"desc",caption:"JSON Example"}),jQuery("#list2").jqGrid("navGrid","#pager2",{edit:!1,add:!1,del:!1}),a(window).resize(r)}},,,,,,,,,,,function(e,t,i){var r=i(12);"string"==typeof r&&(r=[[e.id,r,""]]);i(10)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,i){t=e.exports=i(4)(),t.push([e.id,"/*!\r\n * jqGrid 4.13.4 - free jqGrid: https://github.com/free-jqgrid/jqGrid \r\n * Date: 2016-07-23\r\n */.ui-jqgrid{position:relative;box-sizing:content-box;-ms-touch-action:none;touch-action:none}.ui-jqgrid div{line-height:normal}.ui-jqgrid table{border-collapse:separate;border-spacing:0;border-width:0;border-style:none}.ui-jqgrid table td{padding:0}.ui-jqgrid>.ui-jqgrid-view{position:relative;box-sizing:border-box;left:0;top:0;padding:0;font-size:11px}.ui-jqgrid>.ui-jqgrid-view *,.ui-jqgrid>.ui-jqgrid-view :after,.ui-jqgrid>.ui-jqgrid-view :before{box-sizing:inherit}.ui-jqdialog .ui-jqdialog-titlebar,.ui-jqgrid .ui-jqgrid-errorbar,.ui-jqgrid .ui-jqgrid-titlebar{padding:.3em;position:relative;font-size:12px;border-left:0 none;border-right:0 none;border-top:0 none}.ui-jqgrid-errorbar{max-height:100px;margin-bottom:0;overflow:auto}.ui-jqgrid .ui-jqgrid-caption,.ui-jqgrid .ui-jqgrid-errorbar-ltr{text-align:left}.ui-jqgrid .ui-jqgrid-caption-rtl,.ui-jqgrid .ui-jqgrid-errorbar-rtl{text-align:right}.ui-jqdialog-titlebar>.ui-jqdialog-titlebar-close,.ui-jqgrid-titlebar>.ui-jqgrid-titlebar-close{vertical-align:middle;text-align:center;text-decoration:none;position:absolute;top:50%;width:1.4em;line-height:1.5em;font-size:12px;margin:-.7em 0 0;padding:.2em;border:1px solid transparent;height:1.4em;cursor:pointer;box-sizing:border-box;-ms-touch-action:manipulation;touch-action:manipulation;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border-radius:.5em}.ui-jqgrid-jquery-ui .ui-jqdialog-titlebar>.ui-jqdialog-titlebar-close{margin:-8px 0 0}.ui-jqgrid .ui-jqgrid-caption .ui-jqgrid-titlebar-close{right:.1em}.ui-jqgrid .ui-jqgrid-caption-rtl .ui-jqgrid-titlebar-close{left:.1em}.ui-jqdialog .ui-jqdialog-titlebar-ltr .ui-jqdialog-titlebar-close{right:.3em}.ui-jqdialog .ui-jqdialog-titlebar-rtl .ui-jqdialog-titlebar-close{left:.3em}.ui-jqdialog .ui-jqdialog-titlebar-ltr .ui-jqdialog-title,.ui-jqgrid .ui-jqgrid-caption .ui-jqgrid-title,.ui-jqgrid .ui-jqgrid-errorbar-ltr .ui-jqgrid-error{position:relative;left:.1em}.ui-jqdialog .ui-jqdialog-titlebar-rtl .ui-jqdialog-title,.ui-jqgrid .ui-jqgrid-caption-rtl .ui-jqgrid-title,.ui-jqgrid .ui-jqgrid-errorbar-rtl .ui-jqgrid-error{position:relative;right:.1em}.ui-jqgrid-titlebar>.ui-jqgrid-titlebar-close span{margin-top:0;margin-left:0}.ui-jqdialog-titlebar>.ui-jqdialog-titlebar-close span,.ui-jqgrid-titlebar>.ui-jqgrid-titlebar-close span{display:block}.ui-jqdialog-titlebar>.ui-jqdialog-titlebar-close span.ui-icon,.ui-jqgrid-titlebar>.ui-jqgrid-titlebar-close span.ui-icon{position:relative;top:-2px}.ui-jqdialog-titlebar-ltr .ui-jqdialog-titlebar-close span.ui-icon,.ui-jqgrid .ui-jqgrid-caption .ui-jqgrid-titlebar-close span.ui-icon{right:3px}.ui-jqgrid .ui-jqgrid-titlebar>.ui-jqgrid-titlebar-close>span.ui-icon{margin-top:-1px}.ui-jqgrid .ui-jqgrid-titlebar>.ui-jqgrid-titlebar-close>span.fa,.ui-jqgrid .ui-jqgrid-titlebar>.ui-jqgrid-titlebar-close>span.glyphicon{font-size:14px;margin-top:-2px}.ui-jqdialog,.ui-jqgrid .ui-jqdialog,.ui-jqgrid>.loading,.ui-jqgrid>.ui-jqgrid-view button,.ui-jqgrid>.ui-jqgrid-view input,.ui-jqgrid>.ui-jqgrid-view select,.ui-jqgrid>.ui-jqgrid-view textarea{font-size:11px}.ui-jqgrid .ui-jqgrid-titlebar>.ui-jqgrid-titlebar-close>span.fa{margin-left:-1px}.ui-jqgrid .ui-jqgrid-titlebar>.ui-jqgrid-titlebar-close>span.glyphicon{margin-left:-2px}.ui-jqdialog-titlebar .ui-jqdialog-titlebar-close>span{margin-top:-1px}.ui-jqdialog-titlebar .ui-jqdialog-titlebar-close>span.glyphicon{margin-top:-.05em;margin-left:-.05em}.ui-jqdialog .ui-resizable-handle{right:-3px;bottom:-3px}.ui-jqdialog .ui-resizable-handle.fa{bottom:1px;right:-2px}.ui-jqdialog .ui-resizable-handle.glyphicon{right:-2px;bottom:-3.8px}.ui-jqgrid>.ui-jqgrid-view>.ui-jqgrid-hdiv{position:relative;margin:0;padding:0;overflow:hidden;border-left:0 none;border-top:0 none;border-right:0 none;height:auto}.ui-jqgrid .ui-jqgrid-hbox{float:left;padding-right:20px}.ui-jqgrid .ui-jqgrid-htable{table-layout:fixed;margin:0}.ui-jqgrid .ui-jqgrid-htable th{height:auto;padding:0 2px}.ui-jqgrid .ui-jqgrid-htable th.jqgh_cbox{padding:0}.ui-jqgrid .ui-jqgrid-htable .ui-jqgrid-labels th div{overflow:hidden;position:relative;height:auto;margin:2px}.ui-jqgrid .ui-jqgrid-htable .ui-jqgrid-labels>th.jqgh_cbox{vertical-align:middle}.ui-jqgrid .ui-jqgrid-htable .ui-jqgrid-labels .jqgh_cbox>div{text-align:center;vertical-align:baseline;margin:0}.ui-jqgrid-labels .ui-th-column-header,.ui-jqgrid .ui-jqgrid-labels th.ui-th-column,.ui-jqgrid .ui-jqgrid-legacy-subgrid .ui-th-subgrid{overflow:hidden;white-space:nowrap;text-align:center}.ui-jqgrid .ui-jqgrid-labels th.ui-th-column{border-top:0 none;border-bottom:0 none}.ui-jqgrid .ui-jqgrid-htable th.ui-th-ltr,.ui-th-ltr{border-left:0 none}.ui-jqgrid .ui-jqgrid-htable th.ui-th-rtl,.ui-th-rtl{border-right:0 none}.ui-first-th-ltr{border-right:1px solid}.ui-first-th-rtl{border-left:1px solid}.ui-jqgrid .ui-th-div-ie{white-space:nowrap;zoom:1;height:17px}.ui-jqgrid .ui-th-column>.jqgh_cbox{margin:3px 0}.ui-jqgrid .ui-th-column .cbox{margin:.1em;cursor:pointer;text-align:center;vertical-align:middle}.ui-jqgrid.ui-jqgrid-bootstrap .ui-th-column .cbox{height:18px;width:18px}.ui-jqgrid .ui-th-column .ui-th-div-ie>.cbox{margin-left:-1px;margin-right:-1px}.ui-jqgrid .ui-jqgrid-labels>.ui-th-column>.ui-jqgrid-resize{height:22px;width:.3em;position:relative;cursor:col-resize;-webkit-touch-callout:none;-ms-user-select:none;-moz-user-select:-moz-none;-webkit-user-select:none;user-select:none;display:inline;overflow:hidden}.ui-jqgrid .ui-grid-ico-sort{overflow:hidden;position:absolute;display:inline}.ui-grid-ico-sort{cursor:pointer}.ui-state-disabled.ui-grid-ico-sort{cursor:pointer!important}.ui-jqgrid .s-ico{position:relative;width:.87em;height:1.125em;display:inline-block;vertical-align:middle;margin:0 .1em}.ui-jqgrid .s-ico>.ui-grid-ico-sort{display:block;position:relative}.ui-jqgrid .s-ico>.ui-grid-ico-sort.ui-icon{width:12px}.ui-jqgrid .s-ico>.ui-icon-asc.ui-icon{top:-6px}.ui-jqgrid .s-ico>.ui-icon-desc.ui-icon{top:-16px}.ui-jqgrid .s-ico>.ui-icon-asc.ui-icon.ui-sort-ltr{margin-left:-3px}.ui-jqgrid .s-ico>.ui-icon-desc.ui-icon.ui-sort-ltr{margin-left:-4px}.ui-jqgrid .s-ico>.ui-icon-asc.ui-icon.ui-sort-rtl{margin-right:0}.ui-jqgrid .s-ico>.ui-icon-desc.ui-icon.ui-sort-rtl{margin-right:1px}.ui-jqgrid .ui-th-column>div{cursor:default}.ui-jqgrid .ui-th-column>div.ui-jqgrid-sortable{cursor:pointer}.ui-jqgrid .ui-jqgrid-hdiv .ui-search-toolbar,.ui-jqgrid .ui-jqgrid-hdiv .ui-search-toolbar .ui-th-column{border-top-width:1px;border-top-style:solid}.ui-jqgrid .ui-jqgrid-hdiv .ui-search-toolbar input,.ui-jqgrid .ui-jqgrid-hdiv .ui-search-toolbar select{margin:1px 0 0}.ui-jqgrid .ui-jqgrid-bdiv{min-height:1px;position:relative;margin:0;padding:0;overflow:auto;text-align:left}.ui-jqgrid .ui-jqgrid-btable{table-layout:fixed;margin:0;outline-style:none}.ui-jqgrid tr.jqgroup,.ui-jqgrid tr.jqgrow{outline-style:none}.ui-jqgrid tr.jqfoot>td,.ui-jqgrid tr.jqgroup>td,.ui-jqgrid tr.jqgrow>td,.ui-jqgrid tr.ui-subgrid>td,.ui-jqgrid tr.ui-subtblcell>td{overflow:hidden;white-space:pre;vertical-align:middle;text-align:center;height:22px;border-top:0 none;border-bottom-width:1px;border-bottom-style:solid}.ui-jqgrid-jquery-ui.ui-jqgrid tr.jqfoot>td,.ui-jqgrid-jquery-ui.ui-jqgrid tr.jqgroup>td,.ui-jqgrid-jquery-ui.ui-jqgrid tr.jqgrow>td,.ui-jqgrid-jquery-ui.ui-jqgrid tr.ui-subgrid>td{border-bottom-color:inherit}.ui-jqgrid tr.jqfoot>td,.ui-jqgrid tr.jqgroup>td,.ui-jqgrid tr.jqgrow>td{padding:0 2px;font-weight:400}.ui-jqgrid tr.ui-subgrid>td{padding:0}.ui-jqgrid tr.jqgfirstrow>td{padding:0 2px;border-top:0 none;border-left:0 none;border-right:1px solid;border-bottom:0 none}.ui-jqgrid-jquery-ui.ui-jqgrid .ui-jqgrid-bdiv tr.ui-row-ltr>td,.ui-jqgrid-jquery-ui.ui-jqgrid .ui-jqgrid-bdiv tr.ui-row-rtl>td{border-color:inherit}.ui-jqgrid tr.jqgfirstrow>td.td_cbox{padding:0}.ui-jqgrid tr.jqfoot>td{font-weight:700}.ui-jqgrid .ui-jqgrid-bdiv tr.ui-row-ltr>td{text-align:left;border-left-width:0;border-left-style:none;border-right-width:1px;border-right-style:solid}.ui-jqgrid .ui-jqgrid-bdiv tr.ui-row-rtl>td{text-align:right;border-right-width:0;border-right-style:none;border-left-width:1px;border-left-style:solid}.ui-jqgrid .jqgrow>td.td_cbox,.ui-jqgrid .jqgrow>td.ui-sgcollapsed,.ui-jqgrid .jqgrow>td>.cbox{text-align:center;vertical-align:middle}.ui-jqgrid .ui-jqgrid-btable td.jqgrid-rownum{padding:0 2px;margin:0;border-width:0 0 1px;border-style:none none solid}.ui-jqgrid-jquery-ui.ui-jqgrid .ui-jqgrid-btable td.jqgrid-rownum{border-bottom-color:inherit}.ui-jqgrid .jqgrow>td.td_cbox,.ui-jqgrid tr.jqgrow>td.td_cbox{padding:0}.ui-jqgrid .jqgrow>td>.cbox{height:14px;width:14px;cursor:pointer}.ui-jqgrid>.ui-jqgrid-resize-mark,body>.ui-jqgrid-resize-mark{width:0;left:0;cursor:col-resize;-webkit-touch-callout:none;-ms-user-select:none;-moz-user-select:-moz-none;-webkit-user-select:none;user-select:none;position:absolute;top:0;overflow:hidden;display:none;border-left-width:1px;border-right-width:1px;z-index:99999}span.ui-jqgrid-cell-wrapper{margin:0!important;padding:0!important}.ui-jqgrid>.ui-jqgrid-view>.ui-jqgrid-sdiv{position:relative;margin:0;padding:0;overflow:hidden;border-left:0 none;border-top:0 none;border-right:0 none}.ui-jqgrid-jquery-ui.ui-jqgrid tr.footrow-ltr td,.ui-jqgrid-jquery-ui.ui-jqgrid tr.footrow-rtl td{border-color:inherit}.ui-jqgrid .ui-jqgrid-ftable{table-layout:fixed;margin-bottom:0}.ui-jqgrid tr.footrow td{font-weight:700;overflow:hidden;white-space:nowrap;height:21px;padding:0 2px;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid}.ui-jqgrid-jquery-ui.ui-jqgrid tr.footrow td{border-top-color:inherit;border-bottom-color:inherit}.ui-jqgrid tr.footrow-ltr td{text-align:left;border-left-width:0;border-left-style:none;border-right-width:1px;border-right-style:solid}.ui-jqgrid tr.footrow-rtl td{text-align:right;border-left-width:1px;border-left-style:solid;border-right-width:0;border-right-style:none}.ui-jqgrid>.ui-jqgrid-pager{border:0;margin:0;padding:0;position:relative;box-sizing:border-box;height:auto;min-height:22px;overflow:hidden;font-size:11px}.ui-jqgrid>.ui-jqgrid-pager *,.ui-jqgrid>.ui-jqgrid-pager :after,.ui-jqgrid>.ui-jqgrid-pager :before{box-sizing:inherit}.ui-jqgrid .ui-jqgrid-pager .ui-pager-control,.ui-jqgrid .ui-jqgrid-toppager .ui-pager-control{position:relative;border-left:0;border-bottom:0;border-top:0}.ui-jqgrid .ui-pg-table{position:relative;padding:0;width:auto;margin:0}.jqgrow .ui-jqgrid-actions{background:inherit;border-style:none}.jqgrow .ui-jqgrid-actions .ui-pg-div:not(.ui-state-hover),.ui-jqgrid .ui-pg-button:not(.ui-state-hover){border:1px solid transparent}.ui-pager-control .ui-pg-table{border-color:inherit}.jqgrow .ui-jqgrid-actions .ui-pg-div.ui-state-hover,.jqgrow .ui-jqgrid-actions .ui-pg-div:focus,.jqgrow .ui-jqgrid-actions .ui-pg-div:hover,.ui-jqgrid .ui-pg-button.ui-state-hover,.ui-jqgrid .ui-pg-button:focus,.ui-jqgrid .ui-pg-button:hover{border-style:solid;border-color:inherit}.ui-jqgrid .ui-pg-table td{font-weight:400;vertical-align:middle;padding:1px}.ui-jqgrid .ui-pager-control .ui-pg-button{display:inline-block;height:auto}.ui-jqgrid .ui-pg-button span{display:block;margin:1px;float:left}.ui-jqgrid .ui-pg-table .ui-pg-input,.ui-jqgrid .ui-pg-table .ui-pg-selbox{height:auto;width:auto;margin:0;line-height:inherit}.ui-jqgrid .ui-pg-table .ui-pg-selbox{display:block;padding:1px}.ui-jqgrid .ui-separator{height:12px;border-left:1px solid #ccc;border-right:1px solid #ccc;margin:-1px;float:right}.ui-jqgrid .ui-paging-info{font-weight:400;height:auto;margin:0 .2em;display:inline}.ui-jqgrid .ui-jqgrid-pager .ui-pg-div{padding:1px 0;float:left;position:relative}.ui-jqgrid .ui-jqgrid-pager .ui-pg-button{cursor:pointer}.ui-jqgrid .ui-jqgrid-pager .ui-pg-div span.ui-icon{float:left;margin:0 2px}.ui-jqgrid td input,.ui-jqgrid td select,.ui-jqgrid td textarea{margin:0}.ui-jqgrid td textarea{width:auto;height:auto}.ui-jqgrid>.ui-jqgrid-view>.ui-jqgrid-toppager{border-left:0 none;border-right:0 none;border-top:0 none;margin:0;padding:0;position:relative;height:auto;min-height:22px;overflow:hidden}.ui-jqgrid .ui-jqgrid-toppager .ui-pg-div{padding:1px 0;float:left;position:relative}.ui-jqgrid .ui-jqgrid-toppager .ui-pg-button{cursor:pointer}.ui-jqgrid .ui-jqgrid-toppager .ui-pg-div span.ui-icon{float:left;margin:0 2px}.ui-jqgrid .ui-pg-table .ui-pg-button{margin:2px;vertical-align:middle}.ui-jqgrid .navtable .ui-pg-div span.ui-pg-button-text{padding-left:.2em;padding-right:.2em}.ui-jqgrid .ui-pg-div{text-align:center;vertical-align:middle;display:inline-block}.ui-jqgrid .navtable .ui-pg-div>span.ui-pg-button-icon-over-text{margin-left:auto;margin-right:auto;float:none}.ui-jqgrid .ui-jqgrid-btable .jqgrow>.ui-sgcollapsed{text-align:center;vertical-align:middle}.ui-jqgrid .ui-jqgrid-btable .ui-sgcollapsed span{display:inline-block}.ui-jqgrid .ui-subgrid{margin:0;padding:0;width:100%}.sgbutton{cursor:pointer}.ui-jqgrid .ui-subgrid table{table-layout:fixed}.ui-jqgrid .ui-subgrid tr.ui-subtblcell td{height:18px;border-top:0 none;border-bottom-width:1px;border-bottom-style:solid}.ui-jqgrid-jquery-ui.ui-jqgrid .ui-subgrid tr.ui-subtblcell td{border-bottom-color:inherit}.ui-jqgrid .ui-th-subgrid{height:20px}.ui-jqgrid .ui-row-ltr.ui-subgrid>.subgrid-cell>span{float:right}.ui-jqdialog-content td.navButton-ltr>.fm-button,.ui-jqgrid .ui-row-rtl.ui-subgrid>.subgrid-cell>span{float:left}.ui-jqgrid>.loading{position:absolute;top:45%;left:45%;width:auto;z-index:101;padding:6px;margin:5px;text-align:center;font-weight:700;display:none;border-width:2px}.EditTable td input,.EditTable td select,.EditTable td textarea,.ui-jqdialog-content .FormGrid{margin:0}.ui-jqgrid .jqgrid-overlay{display:none;z-index:100}* .jqgrid-overlay iframe{position:absolute;top:0;left:0;z-index:-1}.ui-jqgrid>.ui-jqgrid-view>.ui-userdata{border-left:0 none;border-right:0 none;height:21px;overflow:hidden}.ui-jqdialog,.ui-jqdialog .ui-jqconfirm{position:absolute;overflow:visible;display:none}.ui-jqdialog{width:300px;padding:.2em}.ui-jqdialog-content,.ui-jqdialog .ui-jqdialog-content{border:0;padding:.3em .2em;background:0 0;height:auto}.ui-jqdialog .ui-jqconfirm{padding:.4em 1em;border-width:3px;bottom:10px;right:10px;height:80px;width:220px;text-align:center}.ui-jqdialog-content td.EditButton,.ui-jqdialog-content td.navButton{border-left:0 none;border-top:0 none;border-right:0 none;padding:5px 0}.ui-jqdialog.ui-jqgrid-bootstrap .modal-content,.ui-jqdialog.ui-widget,.ui-jqgrid .tree-wrap,.ui-jqgrid .treeclick{overflow:hidden}.ui-jqdialog>.ui-resizable-se,.ui-jqgrid>.ui-resizable-se{bottom:-3px;right:-3px}.ui-jqdialog-content .DelTable,.ui-jqdialog-content .EditTable{width:100%;margin-bottom:0}.ui-jqdialog .EditButton-ltr .fm-button-icon-left .fm-button-icon,.ui-jqdialog .EditButton-rtl .fm-button-icon-right .fm-button-icon{margin-right:.2em}.ui-jqdialog .EditButton-ltr .fm-button-icon-right .fm-button-icon,.ui-jqdialog .EditButton-rtl .fm-button-icon-left .fm-button-icon{margin-left:.2em}.EditTable td textarea{width:auto;height:auto}.ui-jqdialog-content td.EditButton-ltr{text-align:right}.ui-jqdialog-content td.EditButton-rtl,.ui-jqdialog-content td.navButton,.ui-jqdialog-content td.navButton-ltr{text-align:left}.ui-jqdialog-content td.navButton-rtl{text-align:right}.ui-jqdialog-content td.navButton-rtl>.fm-button{float:right}.ui-jqdialog-content input.FormElement,.ui-jqdialog-content select.FormElement{padding:.3em}.ui-jqdialog-content .data-line{padding-top:.1em;border:0}.ui-jqdialog-content .CaptionTD{vertical-align:middle;border:0;padding:2px;white-space:nowrap}.ui-jqdialog-content .DataTD{padding:2px;border:0;vertical-align:top}.ui-jqdialog .fm-button>span,.ui-jqgrid .cell-wrapper,.ui-jqgrid .cell-wrapperleaf,.ui-jqgrid .jqgrow .ui-jqgrid-actions,.ui-jqgrid .tree-wrap,.ui-jqgrid .treeclick{display:inline-block;vertical-align:middle}.ui-jqdialog-content .form-view-data{white-space:pre}.ui-jqdialog .fm-button{display:inline-block;padding:.4em .5em;text-decoration:none;cursor:pointer;position:relative;text-align:center;zoom:1}.ui-jqdialog .fm-button .fm-button-text{padding:0 .2em}.delmsg{padding:.5em}.ui-jqgrid .selected-row,.ui-jqgrid .selected-row td{font-style:normal;border-left:0 none}.ui-jqgrid .jqgrow .ui-jqgrid-actions{margin:0}.jqgrow .ui-jqgrid-actions .ui-pg-div{cursor:pointer;float:left;margin:0 1px}.ui-jqgrid .tree-wrap{white-space:nowrap}.ui-jqgrid .treeclick{cursor:pointer;width:18px}.ui-jqgrid .ui-jqgrid-bdiv .jqgroup .tree-wrap{text-align:center;padding-left:.1em}.ui-jqgrid .ui-jqgrid-bdiv .jqgroup .tree-wrap.glyphicon{margin-top:-.18em}* iframe.jqm{position:absolute;top:0;left:0;z-index:-1}.ui-jqgrid-dnd tr td{border-right-width:1px;border-right-color:inherit;border-right-style:solid;height:20px}.ui-jqgrid .ui-jqgrid-caption-rtl{text-align:right}.ui-jqgrid .ui-jqgrid-hbox-rtl{float:right;padding-left:20px}.ui-jqgrid .ui-jqgrid-resize-ltr{float:right;margin:-2px -2px -2px 0}.ui-jqgrid .ui-jqgrid-resize-rtl{float:left;margin:-2px 0 -1px -3px}.ui-jqgrid .ui-sort-rtl{left:0}.ui-jqgrid .ui-ellipsis{-moz-text-overflow:ellipsis;text-overflow:ellipsis}.ui-search-menu{position:absolute;padding:.2em}.ui-search-menu.ui-menu .ui-menu-item{list-style-image:none;padding-right:0;padding-left:0}.ui-search-menu.ui-menu .ui-menu-item a{text-decoration:none;display:block}.ui-search-toolbar>.ui-th-column>div{position:relative;height:auto;overflow:hidden}.ui-search-toolbar .ui-search-table{padding:0;border:0;height:20px;width:100%}.ui-jqgrid .ui-jqgrid-htable .ui-search-toolbar th,.ui-search-toolbar .ui-th-column .ui-search-table .ui-search-input{padding:0 .1em}.ui-jqgrid-jquery-ui .ui-search-clear .clearsearchclass:not(.ui-state-hover),.ui-jqgrid-jquery-ui .ui-search-oper .soptclass:not(.ui-state-hover),.ui-menu-jqueryui .ui-menu-item .g-menu-item:not(.ui-state-hover){border:1px solid transparent}.ui-search-toolbar .ui-search-table .ui-search-oper{width:20px;text-align:center}.ui-search-input input{width:100%}a.clearsearchclass,a.g-menu-item,a.soptclass{text-decoration:none;cursor:pointer}.ui-search-menu .ui-menu-item .g-menu-item{padding:.2em}.ui-menu-jqueryui .ui-menu-item .g-menu-item:hover{font-weight:400}.ui-search-oper{padding:0}.ui-search-clear{text-align:center;padding:0}.ui-search-clear .clearsearchclass,.ui-search-oper .soptclass{padding:.1em;line-height:1em}.ui-search-clear .clearsearchclass span{position:relative}.ui-jqgrid .ui-search-table .ui-search-input>input,.ui-jqgrid .ui-search-table .ui-search-input>select{display:block;box-sizing:border-box}.ui-jqgrid .s-ico>.ui-grid-ico-sort.glyphicon{font-size:10px}.jqgrow .ui-pg-div>span.fa,.jqgrow>.ui-sgcollapsed span.fa,.ui-subgrid>.subgrid-cell span.fa{font-size:12px;border:0;background:0 0;font-weight:400}.ui-jqgrid .s-ico>.ui-icon-asc.glyphicon{margin-top:-.23em}.ui-jqgrid .s-ico>.ui-icon-desc.glyphicon{margin-top:-.34em}.ui-jqgrid .s-ico>.ui-grid-ico-sort.fa{width:.63em}.ui-jqgrid .s-ico>.ui-icon-asc.fa{top:.07em}.ui-jqgrid .s-ico>.ui-icon-desc.fa{top:-.75em}.ui-jqgrid .s-ico>.ui-icon-asc.fa.ui-sort-ltr,.ui-jqgrid .s-ico>.ui-icon-desc.fa.ui-sort-ltr{left:0}.ui-jqgrid .s-ico>.ui-icon-asc.fa.ui-sort-rtl,.ui-jqgrid .s-ico>.ui-icon-desc.fa.ui-sort-rtl{right:0}.ui-jqgrid .s-ico>.ui-state-disabled.fa{padding:0}.jqgrow .ui-pg-div>span.fa{vertical-align:baseline}.ui-subgrid>.subgrid-cell span.fa{text-indent:0;margin-bottom:4px}.jqgrow>.ui-sgcollapsed span.fa{text-indent:0;margin:0}.ui-jqgrid .ui-resizable-se.fa{-webkit-filter:alpha(opacity=40);-moz-filter:alpha(opacity=40);-o-filter:alpha(opacity=40);filter:alpha(opacity=40);-ms-opacity:.4;opacity:.4;background:0 0;border-style:none;right:-3px;font-weight:400}.ui-jqgrid-ltr .ui-resizable-se.fa{right:-3px;bottom:0}.ui-jqgrid-rtl .ui-resizable-se.fa{left:0;bottom:1px}.jqContextMenu .ui-menu .ui-menu-item.ui-state-hover,.jqContextMenu .ui-menu .ui-menu-item a.ui-state-hover{font-weight:400;margin:-1px}.jqContextMenu .ui-menu-icons>.ui-menu-item{font-size:11px}.ui-jqgrid-showHideColumnMenu .ui-menu-item:hover{font-weight:400}.ui-jqgrid-disablePointerEvents{pointer-events:none}.ui-jqgrid.ui-jqgrid-bootstrap{border:1px solid #ddd;border-radius:6px}.ui-jqgrid.ui-jqgrid-bootstrap>.ui-jqgrid-view>.ui-jqgrid-toppager{border-bottom-left-radius:0;border-bottom-right-radius:0}.ui-jqgrid.ui-jqgrid-bootstrap>.ui-jqgrid-view>.ui-userdata{background-color:#f0f0f0}.ui-jqgrid.ui-jqgrid-bootstrap .ui-jqgrid-hdiv,.ui-jqgrid.ui-jqgrid-bootstrap .ui-jqgrid-legacy-subgrid>thead{background-color:#e5e5e5}.ui-jqgrid.ui-jqgrid-bootstrap>.ui-jqgrid-view>.ui-jqgrid-sdiv td{background-color:#f9f9f9}.ui-jqdialog.ui-jqgrid-bootstrap .ui-jqdialog-titlebar .ui-jqdialog-title,.ui-jqgrid.ui-jqgrid-bootstrap .ui-jqgrid-errorbar .ui-jqgrid-error,.ui-jqgrid.ui-jqgrid-bootstrap .ui-jqgrid-titlebar .ui-jqgrid-title{font-size:16px}.ui-jqgrid.ui-jqgrid-bootstrap>.ui-jqgrid-view{font-size:12px}.ui-jqdialog.ui-jqgrid-bootstrap,.ui-jqgrid.ui-jqgrid-bootstrap>.ui-jqgrid-view .fa{font-size:14px}.ui-jqdialog.ui-jqgrid-bootstrap .ui-jqdialog-content .CaptionTD{padding:.5em}.ui-jqgrid.ui-jqgrid-bootstrap tr.jqfoot>td,.ui-jqgrid.ui-jqgrid-bootstrap tr.jqgfirstrow>td,.ui-jqgrid.ui-jqgrid-bootstrap tr.jqgroup>td,.ui-jqgrid.ui-jqgrid-bootstrap tr.jqgrow>td{padding:.2em .3em}.ui-jqgrid.ui-jqgrid-bootstrap tr.jqgfirstrow>td{padding:0 .3em}.ui-jqgrid.ui-jqgrid-bootstrap tr.jqgfirstrow>td.td_cbox,.ui-jqgrid.ui-jqgrid-bootstrap tr.jqgrow>td.td_cbox{padding:0}.ui-jqgrid.ui-jqgrid-bootstrap .jqgrow>td>.cbox{height:18px;width:18px;display:inline-block;vertical-align:middle;text-align:center}.ui-jqgrid.ui-jqgrid-bootstrap .ui-jqgrid-btable td.jqgrid-rownum{padding:.2em .3em}.ui-jqdialog.ui-jqgrid-bootstrap .ui-jqdialog-titlebar,.ui-jqgrid.ui-jqgrid-bootstrap .ui-jqgrid-caption{background-color:#cacaca;border-top-left-radius:6px;border-top-right-radius:6px}.modal-backdrop.jqgrid-overlay{-ms-opacity:.35;opacity:.35;-webkit-filter:Alpha(Opacity=35);-moz-filter:Alpha(Opacity=35);-o-filter:Alpha(Opacity=35);filter:Alpha(Opacity=35)}.ui-jqdialog.ui-jqgrid-bootstrap .ui-jqdialog-content{border:0;padding:.3em .2em;background:#fff;height:auto}.ui-jqdialog.ui-jqgrid-bootstrap .modal-dialog{width:auto}.ui-jqdialog .ui-resizable-handle{cursor:se-resize;position:absolute;-ms-touch-action:none;touch-action:none}.ui-jqdialog.ui-jqgrid-bootstrap .modal-content>.ui-resizable-handle.fa{bottom:1px;right:1px;height:12px;width:12px}.ui-jqdialog.ui-jqgrid-bootstrap .modal-content>.ui-resizable-handle.glyphicon{right:-.4em}.ui-jqgrid.ui-jqgrid-bootstrap .disabled{opacity:.35;filter:Alpha(Opacity=35)}.ui-jqgrid-bootstrap.ui-jqgrid-resize-mark{border:1px solid #aaa;background-color:#ccc;color:#222;font-weight:700}.ui-jqgrid .jqgfirstrow{border:0}.ui-jqgrid.ui-jqgrid-bootstrap .jqgfirstrow td{border:none}.ui-jqgrid.ui-jqgrid-bootstrap .navtable .ui-pg-button.ui-state-disabled:hover,.ui-jqgrid.ui-jqgrid-bootstrap .ui-pg-table .ui-pg-button.ui-state-disabled:hover{margin:0}.ui-jqgrid.ui-jqgrid-bootstrap .ui-pg-table .ui-pg-button{margin:.2em 0;padding:.2em 0;border-radius:.4em}.ui-search-input .form-control{height:18px}.ui-search-input input[type=text]{padding:0}.ui-search-input input[type=text].form-control{padding:.3em}.ui-search-input select.form-control{padding:0}.ui-jqgrid.ui-jqgrid-bootstrap .ui-jqgrid-actions .ui-pg-div.btn{padding:0;margin:0;box-shadow:none}.ui-jqgrid.ui-jqgrid-bootstrap tr.jqgrow .sgbutton-div .sgbutton.btn{padding:0;cursor:pointer;border:1px solid transparent;margin:-.3em}.ui-jqgrid.ui-jqgrid-bootstrap .sgbutton-div .sgbutton.btn:focus,.ui-jqgrid.ui-jqgrid-bootstrap .sgbutton-div .sgbutton.btn:hover{border:1px solid #333}.ui-jqdialog.ui-jqgrid-bootstrap .ui-jqdialog-content{border-top-left-radius:0;border-top-right-radius:0}.ui-jqgrid.ui-jqgrid-bootstrap .ui-pager-control .ui-pg-input{display:inline-block;font-size:12px;padding:.3em}.ui-jqgrid.ui-jqgrid-bootstrap>.ui-jqgrid-pager{font-size:12px}.ui-jqgrid.ui-jqgrid-bootstrap .ui-jqgrid-bootstrap-corner-top{border-top-left-radius:6px;border-top-right-radius:6px}.ui-jqgrid.ui-jqgrid-bootstrap .ui-jqgrid-bootstrap-corner-bottom{border-bottom-left-radius:6px;border-bottom-right-radius:6px}.ui-jqgrid.ui-jqgrid-bootstrap .ui-pager-control .ui-pg-selbox{font-size:12px;padding:0}.ui-jqdialog.ui-jqgrid-bootstrap .FormData .CaptionTD{font-size:14px}.FormData .DataTD,.FormData .DataTD input[type=checkbox]{vertical-align:middle}.ui-jqdialog.ui-jqgrid-bootstrap .FormData .DataTD input.form-control[type=checkbox]{width:34px}.DelTable .delmsg{padding:.2em}.queryresult{margin-bottom:1em}.group.modal-content tr td{padding:.2em .1em}.searchFilter .form-control{padding:.1em;height:22px}.ui-jqgrid .searchFilter table.group td{padding:1px}.ui-jqgrid .searchFilter table{border-spacing:2px}.ui-jqdialog.ui-jqgrid-bootstrap .modal-header .close{margin-top:-.7em}.ui-jqdialog .glyphicon,.ui-jqgrid .glyphicon{font-size:12px;top:auto}.ui-jqdialog.ui-jqgrid-bootstrap .glyphicon,.ui-jqgrid.ui-jqgrid-bootstrap .glyphicon{font-size:14px;top:auto;height:1em;width:1.28em}.ui-jqgrid .ui-pg-button span.glyphicon{display:inline-block;text-align:center;vertical-align:middle}.ui-jqgrid-actions .glyphicon{padding:.1em}.ui-jqgrid.ui-jqgrid-bootstrap .ui-jqgrid-titlebar>.ui-jqgrid-titlebar-close>span.glyphicon{margin-top:-.125em;margin-left:-.275em}.ui-jqdialog.ui-jqgrid-bootstrap .ui-jqdialog-titlebar>.ui-jqdialog-titlebar-close>span.glyphicon{margin-top:-.1em;margin-left:-.28em}.tree-wrap>.treeclick{line-height:1}.tree-wrap>.treeclick.glyphicon{margin-top:-.2em;font-size:12px}.subgrid-data .ui-jqgrid-bootstrap .ui-jqgrid-bdiv .ui-jqgrid-btable,.subgrid-data .ui-jqgrid-bootstrap .ui-jqgrid-hdiv .ui-jqgrid-htable{background-color:transparent}.subgrid-data .ui-jqgrid-legacy-subgrid{margin:0}",""])},function(e,t,i){var r,a,o;!function(l){a=[i(1)],r=l,o="function"==typeof r?r.apply(t,a):r,!(void 0!==o&&(e.exports=o))}(function(e){var t={isRTL:!1,defaults:{recordtext:"{0} - {1}　共 {2} 条",emptyrecords:"无数据显示",loadtext:"读取中...",pgtext:" {0} 共 {1} 页",pgfirst:"First Page",pglast:"Last Page",pgnext:"Next Page",pgprev:"Previous Page",pgrecs:"Records per Page",showhide:"Toggle Expand Collapse Grid",savetext:"正在保存..."},search:{caption:"搜索...",Find:"查找",Reset:"重置",odata:[{oper:"eq",text:"等于　　"},{oper:"ne",text:"不等　　"},{oper:"lt",text:"小于　　"},{oper:"le",text:"小于等于"},{oper:"gt",text:"大于　　"},{oper:"ge",text:"大于等于"},{oper:"bw",text:"开始于"},{oper:"bn",text:"不开始于"},{oper:"in",text:"属于　　"},{oper:"ni",text:"不属于"},{oper:"ew",text:"结束于"},{oper:"en",text:"不结束于"},{oper:"cn",text:"包含　　"},{oper:"nc",text:"不包含"},{oper:"nu",text:"不存在"},{oper:"nn",text:"存在"}],groupOps:[{op:"AND",text:"所有"},{op:"OR",text:"任一"}],addGroupTitle:"Add subgroup",deleteGroupTitle:"Delete group",addRuleTitle:"Add rule",deleteRuleTitle:"Delete rule",operandTitle:"Click to select search operation.",resetTitle:"Reset Search Value"},edit:{addCaption:"添加记录",editCaption:"编辑记录",bSubmit:"提交",bCancel:"取消",bClose:"关闭",saveData:"数据已改变，是否保存？",bYes:"是",bNo:"否",bExit:"取消",msg:{required:"此字段必需",number:"请输入有效数字",minValue:"输值必须大于等于 ",maxValue:"输值必须小于等于 ",email:"这不是有效的e-mail地址",integer:"请输入有效整数",date:"请输入有效时间",url:"无效网址。前缀必须为 ('http://' 或 'https://')",nodefined:" 未定义！",novalue:" 需要返回值！",customarray:"自定义函数需要返回数组！",customfcheck:"必须有自定义函数!"}},view:{caption:"查看记录",bClose:"关闭"},del:{caption:"删除",msg:"删除所选记录？",bSubmit:"删除",bCancel:"取消"},nav:{edittext:"",edittitle:"编辑所选记录",addtext:"",addtitle:"添加新记录",deltext:"",deltitle:"删除所选记录",searchtext:"",searchtitle:"查找",refreshtext:"",refreshtitle:"刷新表格",alertcap:"注意",alerttext:"请选择记录",viewtext:"",viewtitle:"查看所选记录",savetext:"",savetitle:"Save row",canceltext:"",canceltitle:"Cancel row editing"},col:{caption:"选择列",bSubmit:"确定",bCancel:"取消"},errors:{errcap:"错误",nourl:"没有设置url",norecords:"没有要处理的记录",model:"colNames 和 colModel 长度不等！"},formatter:{integer:{thousandsSeparator:",",defaultValue:"0"},number:{decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,defaultValue:"0.00"},currency:{decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,prefix:"",suffix:"",defaultValue:"0.00"},date:{dayNames:"日 一 二 三 四 五 六 星期日 星期一 星期二 星期三 星期四 星期五 星期六".split(" "),monthNames:"一 二 三 四 五 六 七 八 九 十 十一 十二 一月 二月 三月 四月 五月 六月 七月 八月 九月 十月 十一月 十二月".split(" "),AmPm:["am","pm","上午","下午"],S:function(){return""},srcformat:"Y-m-d",newformat:"Y-m-d",masks:{ShortDate:"n/j/Y",LongDate:"l, F d, Y",FullDateTime:"l, F d, Y g:i:s A",MonthDay:"F d",ShortTime:"g:i A",LongTime:"g:i:s A",YearMonth:"F, Y"}}}};e.jgrid=e.jgrid||{},e.extend(!0,e.jgrid,{defaults:{locale:"cn"},locales:{cn:e.extend({},t,{name:"中文",nameEnglish:"Chinese"}),zh:e.extend({},t,{name:"中文",nameEnglish:"Chinese"}),"zh-CN":e.extend({},t,{name:"中文(中华人民共和国)",nameEnglish:"Chinese (Simplified, PRC)"})}})})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(e){"use strict";__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(1)],__WEBPACK_AMD_DEFINE_FACTORY__=e,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(function($){"use strict";function Aggregation(e,t,i){return this instanceof Aggregation?(this.aggregator=e,this.finilized=!1,this.context=t,void(this.pivotOptions=i)):new Aggregation(e)}function ArrayOfFieldsets(e,t,i,r,a){var o,l,n=r.length,s=this,d=function(e,t){var i=e,r=t;if(null==i&&(i=""),null==r&&(r=""),i=String(i),r=String(r),this.caseSensitive||(i=i.toUpperCase(),r=r.toUpperCase()),i===r){if(e===t)return 0;if(void 0===e)return-1;if(void 0===t)return 1;if(null===e)return-1;if(null===t)return 1}return i<r?-1:1},c=function(e,t){return e=Number(e),t=Number(t),e===t?0:e<t?-1:1},u=function(e,t){return e=Math.floor(Number(e)),t=Math.floor(Number(t)),e===t?0:e<t?-1:1};for(s.items=[],s.indexesOfSourceData=[],s.trimByCollect=e,s.caseSensitive=t,s.skipSort=i,s.fieldLength=n,s.fieldNames=new Array(n),s.fieldSortDirection=new Array(n),s.fieldCompare=new Array(n),o=0;o<n;o++){switch(l=r[o],s.fieldNames[o]=l[a||"dataName"],l.sorttype){case"integer":case"int":s.fieldCompare[o]=u;break;case"number":case"currency":case"float":s.fieldCompare[o]=c;break;default:s.fieldCompare[o]=$.isFunction(l.compare)?l.compare:d}s.fieldSortDirection[o]="desc"===l.sortorder?-1:1}}var englishLanguageDefaults={name:"English (United States)",nameEnglish:"English (United States)",isRTL:!1,defaults:{recordtext:"View {0} - {1} of {2}",emptyrecords:"No records to view",loadtext:"Loading...",pgtext:"Page {0} of {1}",pgfirst:"First Page",pglast:"Last Page",pgnext:"Next Page",pgprev:"Previous Page",pgrecs:"Records per Page",showhide:"Toggle Expand Collapse Grid",savetext:"Saving..."},search:{caption:"Search...",Find:"Find",Reset:"Reset",odata:[{oper:"eq",text:"equal"},{oper:"ne",text:"not equal"
},{oper:"lt",text:"less"},{oper:"le",text:"less or equal"},{oper:"gt",text:"greater"},{oper:"ge",text:"greater or equal"},{oper:"bw",text:"begins with"},{oper:"bn",text:"does not begin with"},{oper:"in",text:"is in"},{oper:"ni",text:"is not in"},{oper:"ew",text:"ends with"},{oper:"en",text:"does not end with"},{oper:"cn",text:"contains"},{oper:"nc",text:"does not contain"},{oper:"nu",text:"is null"},{oper:"nn",text:"is not null"}],groupOps:[{op:"AND",text:"all"},{op:"OR",text:"any"}],addGroupTitle:"Add subgroup",deleteGroupTitle:"Delete group",addRuleTitle:"Add rule",deleteRuleTitle:"Delete rule",operandTitle:"Click to select search operation.",resetTitle:"Reset Search Value"},edit:{addCaption:"Add Record",editCaption:"Edit Record",bSubmit:"Submit",bCancel:"Cancel",bClose:"Close",saveData:"Data has been changed! Save changes?",bYes:"Yes",bNo:"No",bExit:"Cancel",msg:{required:"Field is required",number:"Please, enter valid number",minValue:"value must be greater than or equal to ",maxValue:"value must be less than or equal to",email:"is not a valid e-mail",integer:"Please, enter valid integer value",date:"Please, enter valid date value",url:"is not a valid URL. Prefix required ('http://' or 'https://')",nodefined:" is not defined!",novalue:" return value is required!",customarray:"Custom function should return array!",customfcheck:"Custom function should be present in case of custom checking!"}},view:{caption:"View Record",bClose:"Close"},del:{caption:"Delete",msg:"Delete selected record(s)?",bSubmit:"Delete",bCancel:"Cancel"},nav:{edittext:"",edittitle:"Edit selected row",addtext:"",addtitle:"Add new row",deltext:"",deltitle:"Delete selected row",searchtext:"",searchtitle:"Find records",refreshtext:"",refreshtitle:"Reload Grid",alertcap:"Warning",alerttext:"Please, select row",viewtext:"",viewtitle:"View selected row",savetext:"",savetitle:"Save row",canceltext:"",canceltitle:"Cancel row editing"},col:{caption:"Select columns",bSubmit:"Ok",bCancel:"Cancel"},errors:{errcap:"Error",nourl:"No url is set",norecords:"No records to process",model:"Length of colNames <> colModel!"},formatter:{integer:{thousandsSeparator:",",defaultValue:"0"},number:{decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,defaultValue:"0.00"},currency:{decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,prefix:"",suffix:"",defaultValue:"0.00"},date:{dayNames:["Sun","Mon","Tue","Wed","Thr","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],AmPm:["am","pm","AM","PM"],S:function(e){var t=["st","nd","rd","th"];return e<11||e>13?t[Math.min((e-1)%10,3)]:"th"},srcformat:"Y-m-d",newformat:"n/j/Y",masks:{ShortDate:"n/j/Y",LongDate:"l, F d, Y",FullDateTime:"l, F d, Y g:i:s A",MonthDay:"F d",ShortTime:"g:i A",LongTime:"g:i:s A",YearMonth:"F, Y"}}}};$.jgrid=$.jgrid||{};var jgrid=$.jgrid;jgrid.locales=jgrid.locales||{};var locales=jgrid.locales,COMPONENT_NAMES={GRID_BOX_DIV:0,GRID_OVERLAY_DIV:1,LOADING_DIV:2,DIALOG_ALERT_DIV:3,DIALOG_SEARCH_DIV:4,DIALOG_VIEW_DIV:5,DIALOG_EDIT_DIV:6,DIALOG_DELETE_DIV:7,GRID_VIEW_DIV:8,TITLE_BAR_DIV:9,UPPER_TOOLBAR_DIV:10,TOP_PAGER_DIV:11,HEADER_DIV:12,HEADER_BOX_DIV:13,HEADER_TABLE:14,HEADER_COLS_ROW:15,HEADER_COLS:16,HEADER_ROWS:47,HEADER_TH:48,HEADER_SORTABLE_DIV:49,HEADER_RESIZABLE_SPAN:50,HEADER_SELECT_ALL_ROWS_CHECKBOX:45,SEARCH_TOOLBAR:17,BODY_DIV:18,BODY_SCROLL_FULL_DIV:19,BODY_SCROLL_TOP_DIV:20,BODY_TABLE:21,GRID:21,BODY_COLS_ROW:22,BODY_COLS:23,BODY_DATA_ROWS:24,FOOTER_DIV:25,FOOTER_BOX_DIV:26,FOOTER_TABLE:27,FOOTER_DATA_ROWS:28,BOTTOM_TOOLBAR_DIV:29,FROZEN_HEADER_DIV:30,FROZEN_HEADER_TABLE:31,FROZEN_HEADER_COLS_ROW:32,FROZEN_HEADER_COLS:33,FROZEN_SEARCH_TOOLBAR:34,FROZEN_FOOTER_DIV:35,FROZEN_FOOTER_TABLE:36,FROZEN_FOOTER_DATA_ROWS:37,FROZEN_BODY_DIV:38,FROZEN_BODY_TABLE:39,FROZEN_BODY_COLS_ROW:40,FROZEN_BODY_COLS:41,FROZEN_BODY_DATA_ROWS:42,COLUMN_RESIZER_DIV:43,BOTTOM_PAGER_DIV:44,SEARCH_OPERATION_MENU_UL:46};(null==jgrid.defaults||$.isEmptyObject(locales)||void 0===locales["en-US"])&&(void 0===locales["en-US"]&&$.extend(!0,jgrid,{locales:{"en-US":englishLanguageDefaults}}),jgrid.defaults=jgrid.defaults||{},void 0===jgrid.defaults.locale&&(jgrid.defaults.locale="en-US")),jgrid.defaults=jgrid.defaults||{};var defaults=jgrid.defaults;$.extend(!0,jgrid,{version:"4.13.4",productName:"free jqGrid",defaults:{},search:{},edit:{},view:{},del:{},nav:{},col:{},errors:{},formatter:{unused:""},icons:{jQueryUI:{common:"ui-icon",pager:{first:"ui-icon-seek-first",prev:"ui-icon-seek-prev",next:"ui-icon-seek-next",last:"ui-icon-seek-end"},sort:{asc:"ui-icon-triangle-1-n",desc:"ui-icon-triangle-1-s"},gridMinimize:{visible:"ui-icon-circle-triangle-n",hidden:"ui-icon-circle-triangle-s"},nav:{edit:"ui-icon-pencil",add:"ui-icon-plus",del:"ui-icon-trash",search:"ui-icon-search",refresh:"ui-icon-refresh",view:"ui-icon-document",save:"ui-icon-disk",cancel:"ui-icon-cancel",newbutton:"ui-icon-newwin"},actions:{edit:"ui-icon-pencil",del:"ui-icon-trash",save:"ui-icon-disk",cancel:"ui-icon-cancel"},form:{close:"ui-icon-closethick",prev:"ui-icon-triangle-1-w",next:"ui-icon-triangle-1-e",save:"ui-icon-disk",undo:"ui-icon-close",del:"ui-icon-scissors",cancel:"ui-icon-cancel",resizableLtr:"ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se"},search:{search:"ui-icon-search",reset:"ui-icon-arrowreturnthick-1-w",query:"ui-icon-comment"},subgrid:{plus:"ui-icon-plus",minus:"ui-icon-minus",openLtr:"ui-icon-carat-1-sw",openRtl:"ui-icon-carat-1-se"},grouping:{plus:"ui-icon-circlesmall-plus",minus:"ui-icon-circlesmall-minus"},treeGrid:{minus:"ui-icon-triangle-1-s",leaf:"ui-icon-radio-off",plusLtr:"ui-icon-triangle-1-e",plusRtl:"ui-icon-triangle-1-w"}},fontAwesome:{common:"fa",pager:{common:"fa-fw",first:"fa-step-backward",prev:"fa-backward",next:"fa-forward",last:"fa-step-forward"},sort:{common:"fa-lg",asc:"fa-sort-asc",desc:"fa-sort-desc"},gridMinimize:{visible:"fa-chevron-circle-up",hidden:"fa-chevron-circle-down"},nav:{common:"fa-lg fa-fw",edit:"fa-pencil",add:"fa-plus",del:"fa-trash-o",search:"fa-search",refresh:"fa-refresh",view:"fa-file-o",save:"fa-floppy-o",cancel:"fa-ban",newbutton:"fa-external-link"},actions:{common:"fa-fw",edit:"fa-pencil",del:"fa-trash-o",save:"fa-floppy-o",cancel:"fa-ban"},form:{close:"fa-times",prev:"fa-caret-left",next:"fa-caret-right",save:"fa-floppy-o",undo:"fa-undo",del:"fa-trash-o",cancel:"fa-ban",resizableLtr:"fa-rss fa-rotate-270"},search:{search:"fa-search",reset:"fa-undo",query:"fa-comments-o"},subgrid:{common:"fa-fw",plus:"fa-plus",minus:"fa-minus",openLtr:"fa-reply fa-rotate-180",openRtl:"fa-share fa-rotate-180"},grouping:{common:"fa-fw",plus:"fa-plus-square-o",minus:"fa-minus-square-o"},treeGrid:{common:"fa-fw",minus:"fa-lg fa-sort-desc",leaf:"fa-dot-circle-o",plusLtr:"fa-lg fa-caret-right",plusRtl:"fa-lg fa-caret-left"}},glyph:{common:"glyphicon",pager:{common:"",first:"glyphicon-step-backward",prev:"glyphicon-backward",next:"glyphicon-forward",last:"glyphicon-step-forward"},sort:{common:"",asc:"glyphicon-triangle-top",desc:"glyphicon-triangle-bottom"},gridMinimize:{visible:"glyphicon-circle-arrow-up",hidden:"glyphicon-circle-arrow-down"},nav:{common:"",edit:"glyphicon-edit",add:"glyphicon-plus",del:"glyphicon-trash",search:"glyphicon-search",refresh:"glyphicon-refresh",view:"glyphicon-file",save:"glyphicon-save",cancel:"glyphicon-ban-circle",newbutton:"glyphicon-new-window"},actions:{common:"",edit:"glyphicon-edit",del:"glyphicon-trash",save:"glyphicon-save",cancel:"glyphicon-ban-circle"},form:{close:"glyphicon-remove-circle",prev:"glyphicon-step-backward",next:"glyphicon-step-forward",save:"glyphicon-save",undo:"glyphicon-repeat",del:"glyphicon-trash",cancel:"glyphicon-ban-circle",resizableLtr:"glyphicon-import"},search:{search:"glyphicon-search",reset:"glyphicon-repeat",query:"glyphicon-cog"},subgrid:{common:"",plus:"glyphicon-zoom-in",minus:"glyphicon-zoom-out",openLtr:"glyphicon-indent-left",openRtl:"glyphicon-indent-left"},grouping:{common:"",plus:"glyphicon-expand",minus:"glyphicon-collapse-down"},treeGrid:{common:"",minus:"glyphicon-triangle-bottom",leaf:"glyphicon-record",plusLtr:"glyphicon-triangle-right",plusRtl:"glyphicon-triangle-left"}}},guiStyles:{jQueryUI:{gBox:"ui-jqgrid-jquery-ui ui-widget ui-widget-content ui-corner-all",gView:"",overlay:"ui-widget-overlay",loading:"ui-state-default ui-state-active",hDiv:"ui-state-default ui-corner-top",hTable:"",colHeaders:"ui-state-default",states:{select:"ui-state-highlight",disabled:"ui-state-disabled ui-jqgrid-disablePointerEvents",hover:"ui-state-hover",error:"ui-state-error",active:"ui-state-active",textOfClickable:"ui-state-default"},dialog:{header:"ui-widget-header ui-dialog-titlebar ui-corner-all ui-helper-clearfix",window:"ui-jqgrid-jquery-ui ui-widget ui-widget-content ui-corner-all ui-front",document:"",subdocument:"",body:"",footer:"",content:"ui-widget-content",hr:"ui-widget-content",closeButton:"ui-corner-all",fmButton:"ui-state-default",dataField:"ui-widget-content ui-corner-all",viewLabel:"ui-widget-content",viewData:"ui-widget-content",leftCorner:"ui-corner-left",rightCorner:"ui-corner-right",defaultCorner:"ui-corner-all"},filterToolbar:{dataField:"ui-widget-content"},subgrid:{thSubgrid:"ui-state-default",rowSubTable:"ui-widget-content",row:"ui-widget-content",tdStart:"",tdWithIcon:"ui-widget-content",buttonDiv:"",button:"",tdData:"ui-widget-content",legacyTable:""},grid:"",gridRow:"ui-widget-content",rowNum:"ui-state-default",gridFooter:"",rowFooter:"ui-widget-content",gridTitle:"ui-widget-header ui-corner-top",gridError:"ui-state-error",gridErrorText:"",titleButton:"ui-corner-all",toolbarUpper:"ui-state-default",toolbarBottom:"ui-state-default",actionsDiv:"ui-widget-content",actionsButton:"ui-corner-all",pager:{pager:"ui-state-default",pagerButton:"ui-corner-all",pagerInput:"ui-widget-content",pagerSelect:"ui-widget-content"},navButton:"ui-corner-all",searchDialog:{operator:"ui-corner-all",label:"ui-corner-all",elem:"ui-corner-all",operationGroup:"",addRuleButton:"ui-corner-all",deleteRuleButton:"ui-corner-all",operationSelect:"ui-corner-all",addGroupButton:"ui-corner-all",deleteGroupButton:"ui-corner-all"},searchToolbar:{menu:"ui-menu-jqueryui",operButton:"ui-corner-all",clearButton:"ui-corner-all"},top:"ui-corner-top",bottom:"ui-corner-bottom",resizer:"ui-widget-header"},bootstrap:{gBox:"ui-jqgrid-bootstrap",gView:"panel-info",overlay:"modal-backdrop",loading:"alert alert-info",hDiv:"",hTable:"table table-hover table-condensed table-bordered",colHeaders:"",states:{select:"success",disabled:"disabled ui-jqgrid-disablePointerEvents",hover:"active",error:"danger",active:"active",textOfClickable:""},dialog:{header:"modal-header",window:"modal ui-jqgrid-bootstrap",document:"modal-dialog",subdocument:"modal-content",body:"modal-body",footer:"modal-footer",content:"modal-content",hr:"hidden",closeButton:"btn btn-xs btn-default",fmButton:"btn btn-default",dataField:"form-control",viewLabel:"",viewData:"form-control",leftCorner:"",rightCorner:"",defaultCorner:""},filterToolbar:{dataField:"form-control"},subgrid:{thSubgrid:"",rowSubTable:"",row:"",tdStart:"",tdWithIcon:"",buttonDiv:"",button:"btn btn-xs",tdData:"",legacyTable:"table table-condensed table-hover table-bordered"},grid:"table table-condensed table-hover table-bordered",gridRow:"",rowNum:"",gridFooter:"table table-hover table-condensed table-bordered",rowFooter:"",gridTitle:"",gridError:"alert alert-danger",gridErrorText:"sr-only",titleButton:"btn btn-xs btn-default",actionsDiv:"",actionsButton:"btn btn-xs btn-default",toolbarUpper:"",toolbarBottom:"",pager:{pager:"panel-footer",pagerButton:"btn btn-xs",pagerInput:"form-control",pagerSelect:"form-control"},navButton:"btn btn-xs",searchDialog:{operator:"form-control",label:"form-control",elem:"form-control",operationGroup:"form-inline",addRuleButton:"btn btn-xs btn-default",deleteRuleButton:"btn btn-xs btn-default",operationSelect:"form-control",addGroupButton:"btn btn-xs btn-default",deleteGroupButton:"btn btn-xs btn-default"},searchToolbar:{menu:"dropdown-menu",operButton:"btn btn-xs btn-default",clearButton:"btn btn-xs btn-default"},top:"ui-jqgrid-bootstrap-corner-top",bottom:"ui-jqgrid-bootstrap-corner-bottom",resizer:"ui-jqgrid-bootstrap"},bootstrapPrimary:{baseGuiStyle:"bootstrap",dialog:{closeButton:"btn btn-xs close",fmButton:"btn btn-primary"},searchDialog:{addRuleButton:"btn btn-xs btn-primary",deleteRuleButton:"btn btn-xs btn-primary",addGroupButton:"btn btn-xs btn-primary",deleteGroupButton:"btn btn-xs btn-primary"}}},htmlDecode:function(e){return e&&("&nbsp;"===e||"&#160;"===e||1===e.length&&160===e.charCodeAt(0))?"":e?String(e).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&#x27;/g,"'").replace(/&#x2F;/g,"/").replace(/&#39;/g,"'").replace(/&#47;/g,"/").replace(/&quot;/g,'"').replace(/&amp;/g,"&"):e},htmlEncode:function(e){return e?String(e).replace(/&/g,"&amp;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;").replace(/\//g,"&#47;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):e},oldEncodePostedData:function(e){return e?String(e).replace(/&/g,"&amp;").replace(/\"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):e},oldDecodePostedData:function(e){return e&&("&nbsp;"===e||"&#160;"===e||1===e.length&&160===e.charCodeAt(0))?"":e?String(e).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&amp;/g,"&"):e},clearArray:function(e){for(;e.length>0;)e.pop()},format:function(e){var t=$.makeArray(arguments).slice(1);return null==e&&(e=""),e.replace(/\{(\d+)\}/g,function(e,i){return t[i]})},template:function(e){var t,i=$.makeArray(arguments).slice(1),r=i.length;return null==e&&(e=""),e.replace(/\{([\w\-]+)(?:\:([\w\.]*)(?:\((\.*?)?\))?)?\}/g,function(e,a){var o,l;if(!isNaN(parseInt(a,10)))return i[parseInt(a,10)];for(t=0;t<r;t++)if($.isArray(i[t]))for(o=i[t],l=o.length;l--;)if(a===o[l].nm)return o[l].v})},msie:"Microsoft Internet Explorer"===navigator.appName,msiever:function(){var e=-1,t=/(MSIE) ([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent);return null!=t&&3===t.length&&(e=parseFloat(t[2]||-1)),e},fixMaxHeightOfDiv:function(e){return"Microsoft Internet Explorer"===navigator.appName?Math.min(e,1533917):null!=/(Firefox)/.exec(navigator.userAgent)?Math.min(e,17895696):e},getCellIndex:function(e){var t=$(e);return t.is("tr")?-1:(t=(t.is("td")||t.is("th")?t:t.closest("td,th"))[0],null==t?-1:jgrid.msie?$.inArray(t,t.parentNode.cells):t.cellIndex)},stripHtml:function(e){return e=String(e),e?(e=e.replace(/<("[^"]*"|'[^']*'|[^'">])*>/gi,""),e&&"&nbsp;"!==e&&"&#160;"!==e?e.replace(/\"/g,"'"):""):e},stripPref:function(e,t){var i=$.type(e);return"string"!==i&&"number"!==i||(e=String(e),t=""!==e?String(t).replace(String(e),""):t),t},getRes:function(e,t){var i,r=t.split("."),a=r.length;if(null!=e){for(i=0;i<a;i++){if(!r[i])return null;if(e=e[r[i]],void 0===e)break;if("string"==typeof e)return e}return e}},parseDate:function(e,t,i,r){var a,o,l,n=/\\.|[dDjlNSwzWFmMntLoYyaABgGhHisueIOPTZcrU]/g,s=0,d=0,c=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[\-+]\d{4})?)\b/g,u=/[^\-+\dA-Z]/g,p="string"==typeof t?t.match(/^\/Date\((([\-+])?[0-9]+)(([\-+])([0-9]{2})([0-9]{2}))?\)\/$/):null,g=function(e,t){for(e=String(e),t=parseInt(t,10)||2;e.length<t;)e="0"+e;return e},h={m:1,d:1,y:1970,h:0,i:0,s:0,u:0},f=function(e,t){return 0===e?12===t&&(t=0):12!==t&&(t+=12),t},m=function(e,t){var i,r,a=["AmPm","dayNames","masks","monthNames","userLocalTime","parseRe","S","srcformat"],o=t||{},l=(jgrid.formatter||{}).date||{},n=null==e||null==e.locale?{}:((locales[e.locale]||{}).formatter||{}).date,s=a.length,d={};for(i=0;i<s;i++)r=a[i],void 0!==o[r]?d[r]=o[r]:void 0!==l[r]?d[r]=l[r]:void 0!==n[r]&&(d[r]=n[r]);return d};if(r=m(this.p,r),void 0===r.parseRe&&(r.parseRe=/[#%\\\/:_;.,\t\s\-]/),r.masks.hasOwnProperty(e)&&(e=r.masks[e]),t&&null!=t)if(isNaN(t)||"u"!==String(e).toLowerCase())if(isNaN(t)||"u1000"!==String(e).toLowerCase())if(t.constructor===Date)s=t;else if(null!==p)s=new Date(parseInt(p[1],10)),p[3]&&(d=60*Number(p[5])+Number(p[6]),d*="-"===p[4]?1:-1,d-=s.getTimezoneOffset(),s.setTime(Number(Number(s)+60*d*1e3)));else{for("ISO8601Long"===r.srcformat&&"Z"===t.charAt(t.length-1)&&(d-=(new Date).getTimezoneOffset()),t=String(t).replace(/\T/g,"#").replace(/\t/,"%").split(r.parseRe),e=e.replace(/\T/g,"#").replace(/\t/,"%").split(r.parseRe),o=0,l=Math.min(e.length,t.length);o<l;o++){switch(e[o]){case"M":a=$.inArray(t[o],r.monthNames),a!==-1&&a<12&&(t[o]=a+1,h.m=t[o]);break;case"F":a=$.inArray(t[o],r.monthNames,12),a!==-1&&a>11&&(t[o]=a+1-12,h.m=t[o]);break;case"n":h.m=parseInt(t[o],10);break;case"j":h.d=parseInt(t[o],10);break;case"g":h.h=parseInt(t[o],10);break;case"a":a=$.inArray(t[o],r.AmPm),a!==-1&&a<2&&t[o]===r.AmPm[a]&&(t[o]=a,h.h=f(t[o],h.h));break;case"A":a=$.inArray(t[o],r.AmPm),a!==-1&&a>1&&t[o]===r.AmPm[a]&&(t[o]=a-2,h.h=f(t[o],h.h))}void 0!==t[o]&&(h[e[o].toLowerCase()]=parseInt(t[o],10))}if(h.f&&(h.m=h.f),0===h.m&&0===h.y&&0===h.d)return"&#160;";h.m=parseInt(h.m,10)-1;var v=h.y;v>=70&&v<=99?h.y=1900+h.y:v>=0&&v<=69&&(h.y=2e3+h.y),s=new Date(h.y,h.m,h.d,h.h,h.i,h.s,h.u),d>0&&s.setTime(Number(Number(s)+60*d*1e3))}else s=new Date(parseFloat(t));else s=new Date(1e3*parseFloat(t));else s=new Date(h.y,h.m,h.d,h.h,h.i,h.s,h.u);if(r.userLocalTime&&0===d&&(d-=(new Date).getTimezoneOffset(),d>0&&s.setTime(Number(Number(s)+60*d*1e3))),void 0===i)return s;r.masks.hasOwnProperty(i)?i=r.masks[i]:i||(i="Y-m-d");var b=s.getHours(),w=s.getMinutes(),j=s.getDate(),y=s.getMonth()+1,x=s.getTimezoneOffset(),q=s.getSeconds(),C=s.getMilliseconds(),D=s.getDay(),_=s.getFullYear(),S=(D+6)%7+1,F=(new Date(_,y-1,j)-new Date(_,0,1))/864e5,R=S<5?Math.floor((F+S-1)/7)+1:Math.floor((F+S-1)/7)||((new Date(_-1,0,1).getDay()+6)%7<4?53:52),G={d:g(j),D:r.dayNames[D],j:j,l:r.dayNames[D+7],N:S,S:r.S(j),w:D,z:F,W:R,F:r.monthNames[y-1+12],m:g(y),M:r.monthNames[y-1],n:y,t:"?",L:"?",o:"?",Y:_,y:String(_).substring(2),a:b<12?r.AmPm[0]:r.AmPm[1],A:b<12?r.AmPm[2]:r.AmPm[3],B:"?",g:b%12||12,G:b,h:g(b%12||12),H:g(b),i:g(w),s:g(q),u:C,e:"?",I:"?",O:(x>0?"-":"+")+g(100*Math.floor(Math.abs(x)/60)+Math.abs(x)%60,4),P:"?",T:(String(s).match(c)||[""]).pop().replace(u,""),Z:"?",c:"?",r:"?",U:Math.floor(s/1e3)};return i.replace(n,function(e){return G.hasOwnProperty(e)?G[e]:e.substring(1)})},parseDateToNumber:function(e,t){var i=jgrid.parseDate.call(this,e,t);return i instanceof Date?i.getTime():0},jqID:function(e){return String(e).replace(/[!"#$%&'()*+,.\/:; <=>?@\[\\\]\^`{|}~]/g,"\\$&")},getGridComponentId:function(e){var t=this;if(null==t.p||!t.p.id)return"";var i=t.p.id;switch(e){case COMPONENT_NAMES.GRID:return i;case COMPONENT_NAMES.GRID_BOX_DIV:return"gbox_"+i;case COMPONENT_NAMES.GRID_VIEW_DIV:return"gview_"+i;case COMPONENT_NAMES.DIALOG_ALERT_DIV:return"alertmod_"+i;case COMPONENT_NAMES.COLUMN_RESIZER_DIV:return"rs_m"+i;case COMPONENT_NAMES.HEADER_SELECT_ALL_ROWS_CHECKBOX:return"cb_"+i;case COMPONENT_NAMES.SEARCH_OPERATION_MENU_UL:return"sopt_menu";default:return""}},getGridComponentIdSelector:function(e){var t=jgrid.getGridComponentId.call(this,e);return t?"#"+jgrid.jqID(t):""},isHTMLElement:function(e){return"object"==typeof HTMLElement||"function"==typeof HTMLElement?e instanceof HTMLElement:null!=e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName},getGridComponent:function(e,t){var i;if(t instanceof $||t.length>0)i=t[0];else{if(!jgrid.isHTMLElement(t))return $();i=t,t=$(i)}switch(e){case COMPONENT_NAMES.BODY_TABLE:return t.hasClass("ui-jqgrid-bdiv")?t.find(">div>.ui-jqgrid-btable"):$();case COMPONENT_NAMES.HEADER_TABLE:return t.hasClass("ui-jqgrid-hdiv")?t.find(">div>.ui-jqgrid-htable"):$();case COMPONENT_NAMES.FOOTER_TABLE:return t.hasClass("ui-jqgrid-sdiv")?t.find(">div>.ui-jqgrid-ftable"):$();case COMPONENT_NAMES.FROZEN_HEADER_TABLE:return t.hasClass("ui-jqgrid-hdiv")?t.children(".ui-jqgrid-htable"):$();case COMPONENT_NAMES.FROZEN_FOOTER_TABLE:return t.hasClass("ui-jqgrid-sdiv")?t.children(".ui-jqgrid-ftable"):$();case COMPONENT_NAMES.BODY_DIV:return t.hasClass("ui-jqgrid-btable")&&null!=i.grid?$(i.grid.bDiv):$();case COMPONENT_NAMES.HEADER_DIV:return t.hasClass("ui-jqgrid-btable")&&null!=i.grid?$(i.grid.hDiv):$();case COMPONENT_NAMES.FOOTER_DIV:return t.hasClass("ui-jqgrid-btable")&&null!=i.grid?$(i.grid.sDiv):$();default:return $()}},fixScrollOffsetAndhBoxPadding:function(){var e=this,t=e.grid;if(t){var i=e.p,r=t.bDiv,a=function(e){var t=$(e).children("div").first();t.css(t.hasClass("ui-jqgrid-hbox-rtl")?"padding-left":"padding-right",i.scrollOffset),e.scrollLeft=r.scrollLeft};$(r).width()>0&&(i.scrollOffset=r.offsetWidth-r.clientWidth,a(t.hDiv),t.sDiv&&a(t.sDiv))}},mergeCssClasses:function(){var e,t,i,r,a=$.makeArray(arguments),o={},l=[];for(e=0;e<a.length;e++)for(i=String(a[e]).replace(/[\t\r\n\f]/g," ").split(" "),t=0;t<i.length;t++)r=i[t],""===r||o.hasOwnProperty(r)||(o[r]=!0,l.push(r));return l.join(" ")},hasOneFromClasses:function(e,t){var i,r=$(e),a=String(t).replace(/[\t\r\n\f]/g," ").split(" "),o=a.length;for(i=0;i<o;i++)if(r.hasClass(a[i]))return!0;return!1},hasAllClasses:function(e,t){var i,r=$(e),a=String(t).replace(/[\t\r\n\f]/g," ").split(" "),o=a.length;for(i=0;i<o;i++)if(!r.hasClass(a[i]))return!1;return!0},detectRowEditing:function(e){var t,i,r,a=this,o=a.rows,l=a.p,n=$.isFunction;if(!a.grid||null==o||null==l)return null;if(void 0===l.savedRow||0===l.savedRow.length)return null;for(t=0;t<l.savedRow.length;t++)if(i=l.savedRow[t],"number"==typeof i.id&&"number"==typeof i.ic&&void 0!==i.name&&void 0!==i.v&&null!=o[i.id]&&o[i.id].id===e&&n($.fn.jqGrid.restoreCell)){if(r=o[i.id],null!=r&&r.id===e)return{mode:"cellEditing",savedRow:i}}else if(i.id===e&&n($.fn.jqGrid.restoreRow))return{mode:"inlineEditing",savedRow:i};return null},getCell:function(e,t){var i,r,a=this.grid,o=this.p;return a&&o?((e instanceof $||e.length>0)&&(e=e[0]),("object"==typeof HTMLTableRowElement||"function"==typeof HTMLTableRowElement)&&e instanceof HTMLTableRowElement&&null!=e.cells?(r=$(e.cells[t]),i=a.fbRows,null!=i&&t<i[0].cells.length?r.add(i[e.rowIndex].cells[t]):r):$()):$()},getDataFieldOfCell:function(e,t){var i=this.p,r=jgrid.getCell.call(this,e,t);return i.treeGrid&&r.children("div.tree-wrap").length>0&&(r=r.children("span.cell-wrapperleaf,span.cell-wrapper")),i.colModel[t].autoResizable?r.children("span."+i.autoResizing.wrapperClassName):r},enumEditableCells:function(e,t,i){var r=this,a=r.grid,o=r.rows,l=r.p;if(null==a||null==o||null==l||null==e||null==e.rowIndex||!e.id||!$.isFunction(i))return null;var n,s,d,c,u,p,g,h,f=l.colModel,m=f.length,v=e.rowIndex,b=a.fbRows,w=null!=b,j=w?b[v]:null;for(w&&(e=r.rows[v]),n=0;n<m&&(s=f[n],d=s.name,"cb"===d||"subgrid"===d||"rn"===d||(w&&!s.frozen&&(w=!1),p=(w?j:e).cells[n],g=$(p),g.hasClass("not-editable-cell")||(h=g.width(),l.treeGrid===!0&&d===l.ExpandColumn?(h-=g.children("div.tree-wrap").outerWidth(),g=g.children("span.cell-wrapperleaf,span.cell-wrapper").first()):h=0,c={rowid:e.id,iCol:n,iRow:v,cmName:d,cm:s,mode:t,td:p,tr:e,trFrozen:j,dataElement:g[0],dataWidth:h},s.edittype||(s.edittype="text"),u=s.editable,u=$.isFunction(u)?u.call(r,c):u,u!==!0&&"hidden"!==u||(c.editable=u,i.call(r,c)!==!1))));n++);},getEditedValue:function(e,t,i,r){var a,o,l,n,s,d,c=t.formatoptions||{},u=t.editoptions||{},p=u.custom_value,g="[name="+jgrid.jqID(t.name)+"]",h=this,f=$(h);if("hidden"===r||"readonly"===r)return $(h).jqGrid("getCell",e.closest("tr.jqgrow").attr("id"),t.name);switch(t.edittype){case"checkbox":o=["Yes","No"],"string"==typeof u.value&&(o=u.value.split(":")),a=e.find("input[type=checkbox]").is(":checked")?o[0]:o[1];break;case"text":case"password":case"textarea":case"button":n=e.find("input"+g+",textarea"+g),a=n.val(),"date"===n.prop("type")&&3===String(a).split("-").length&&(l=c.newformat||f.jqGrid("getGridRes","formatter.date.newformat"),a=jgrid.parseDate.call(h,"Y-m-d",a,l));break;case"select":n=e.find("select option:selected"),u.multiple?(s=[],d=[],n.each(function(){s.push($(this).val()),d.push($(this).text())}),a=s.join(","),i.text=d.join(",")):(a=n.val(),i.text=n.text()),i.value=a;break;case"custom":try{if(!$.isFunction(p))throw"e1";if(a=p.call(h,e.find(".customelement"),"get"),void 0===a)throw"e2"}catch(m){var v,b=jgrid.info_dialog,w=function(e){f.jqGrid("getGridRes",e)};switch(String(m)){case"e1":v="function 'custom_value' "+w("edit.msg.nodefined");break;case"e2":break;default:v=m.message}b&&$.isFunction(b)?b.call(h,w("errors.errcap"),v,w("edit.bClose")):($.isFunction(defaults.fatalError)?defaults.fatalError:alert)(v)}break;default:a=e.find("*"+g).text()}return a},guid:1,uidPref:"jqg",randId:function(e){return(e||jgrid.uidPref)+jgrid.guid++},getAccessor:function(e,t){var i,r,a,o=[];if($.isFunction(t))return t(e);if(i=e[t],void 0===i)try{if("string"==typeof t&&(o=t.split(".")),a=o.length)for(i=e;i&&a--;)r=o.shift(),i=i[r]}catch(l){}return i},getXmlData:function(e,t,i){var r="string"==typeof t?t.match(/^(.*)\[(\w+)\]$/):null;if($.isFunction(t))return t(e);if(r&&r[2])return r[1]?$(r[1],e).attr(r[2]):$(e).attr(r[2]);if(void 0!==e){var a=$(e).find(t);return i?a:a.length>0?$(a).text():void 0}},cellWidth:function(){var e=$("<div class='ui-jqgrid' style='left:10000px'><div class='ui-jqgrid-view'><div class='ui-jqgrid-bdiv'><table class='ui-jqgrid-btable' style='width:5px;'><tr class='jqgrow'><td style='width:5px;display:block;'></td></tr></table></div></div></div>"),t=e.appendTo("body").find("td").width();return e.remove(),Math.abs(t-5)>.1},isCellClassHidden:function(e){var t=$("<div class='ui-jqgrid' style='left:10000px'><div class='ui-jqgrid-view'><div class='ui-jqgrid-bdiv'><table class='ui-jqgrid-btable' style='width:5px;'><tr class='jqgrow'><td style='width:5px;' class='"+(e||"")+"'></td></tr></table></div></div></div>"),i=t.appendTo("body").find("td").is(":hidden");return t.remove(),i},cell_width:!0,ajaxOptions:{},from:function(source){var context=this,QueryObject=function(d,q){var self=this,_data=d,_usecase=!0,_trim=!1,_query=q,_stripNum=/[\$,%]/g,_lastCommand=null,_lastField=null,_orDepth=0,_negate=!1,_queuedOperator="",_sorting=[],toString=Object.prototype.toString,_useProperties=!0;if("object"!=typeof d||!d.push)throw"data provides is not an array";return d.length>0&&(_useProperties="object"==typeof d[0]),this._hasData=function(){return null!==_data&&0!==_data.length},this._getStr=function(e){var t=[];return _trim&&t.push("jQuery.trim("),t.push("String("+e+")"),_trim&&t.push(")"),_usecase||t.push(".toUpperCase()"),t.join("")},this._strComp=function(e){return"string"==typeof e?".toString()":""},this._group=function(e,t){return{field:e.toString(),unique:t,items:[]}},this._toStr=function(e){return _trim&&(e=$.trim(e)),e=e.toString().replace(/\\/g,"\\\\").replace(/\"/g,'\\"'),_usecase?e:e.toUpperCase()},this._funcLoop=function(e){var t=[];return $.each(_data,function(i,r){t.push(e(r))}),t},this._append=function(e){var t;for(null===_query?_query="":_query+=""===_queuedOperator?" && ":_queuedOperator,t=0;t<_orDepth;t++)_query+="(";_negate&&(_query+="!"),_query+="("+e+")",_negate=!1,_queuedOperator="",_orDepth=0},this._setCommand=function(e,t){_lastCommand=e,_lastField=t},this._resetNegate=function(){_negate=!1},this._repeatCommand=function(e,t){return null===_lastCommand?self:null!==e&&null!==t?_lastCommand(e,t):null===_lastField?_lastCommand(e):_useProperties?_lastCommand(_lastField,e):_lastCommand(e)},this._equals=function(e,t){return 0===self._compare(e,t,1)},this._compare=function(e,t,i){return void 0===i&&(i=1),void 0===e&&(e=null),void 0===t&&(t=null),null===e&&null===t?0:null===e&&null!==t?1:null!==e&&null===t?-1:"[object Date]"===toString.call(e)&&"[object Date]"===toString.call(t)?e<t?-i:e>t?i:0:(_usecase||"number"==typeof e||"number"==typeof t||(e=String(e),t=String(t)),e<t?-i:e>t?i:0)},this._performSort=function(){0!==_sorting.length&&(_data=self._doSort(_data,0))},this._doSort=function(e,t){var i=_sorting[t].by,r=_sorting[t].dir,a=_sorting[t].type,o=_sorting[t].datefmt,l=_sorting[t].sfunc;if(t===_sorting.length-1)return self._getOrder(e,i,r,a,o,l);t++;var n,s,d,c=self._getGroup(e,i,r,a,o),u=[];for(n=0;n<c.length;n++)for(d=self._doSort(c[n].items,t),s=0;s<d.length;s++)u.push(d[s]);return u},this._getOrder=function(e,t,i,r,a,o){var l,n,s,d=[],c=[],u="a"===i?1:-1;void 0===r&&(r="text"),s="float"===r||"number"===r||"currency"===r||"numeric"===r?function(e){var t=parseFloat(String(e).replace(_stripNum,""));return isNaN(t)?Number.NEGATIVE_INFINITY:t}:"int"===r||"integer"===r?function(e){return e?parseFloat(String(e).replace(_stripNum,"")):Number.NEGATIVE_INFINITY}:"date"===r||"datetime"===r?function(e){return jgrid.parseDateToNumber.call(context,a,e)}:$.isFunction(r)?r:function(e){return e=null!=e?$.trim(String(e)):"",_usecase?e:e.toUpperCase()},$.each(e,function(e,i){n=""!==t?jgrid.getAccessor(i,t):i,void 0===n&&(n=""),n=s(n,i),c.push({vSort:n,data:i,index:e})}),$.isFunction(o)?c.sort(function(e,t){return o.call(context,e.vSort,t.vSort,u,e.data,t.data)}):c.sort(function(e,t){return self._compare(e.vSort,t.vSort,u)});for(var p=0,g=e.length;p<g;)l=c[p].index,d.push(e[l]),p++;return d},this._getGroup=function(e,t,i,r,a){var o=[],l=null,n=null;return $.each(self._getOrder(e,t,i,r,a),function(e,i){var r=jgrid.getAccessor(i,t);null==r&&(r=""),self._equals(n,r)||(n=r,null!==l&&o.push(l),l=self._group(t,r)),l.items.push(i)}),null!==l&&o.push(l),o},this.ignoreCase=function(){return _usecase=!1,self},this.useCase=function(){return _usecase=!0,self},this.trim=function(){return _trim=!0,self},this.noTrim=function(){return _trim=!1,self},this.execute=function(){var match=_query,results=[];return null===match?self:($.each(_data,function(){(function(){var localMath="(function (context) { var intFunc = function (jQuery, self) { return "+match+"; }; return intFunc.call(context.item, context.jQuery, context.context); }(this))";eval(localMath)&&results.push(this.item)}).call({item:this,jQuery:$,context:context})}),_data=results,self)},this.data=function(){return _data},this.select=function(e){if(self.execute(),$.isFunction(e)){var t=[];return $.each(_data,function(i,r){t.push(e(r))}),t}return self._hasData()?(self._performSort(),_data):[]},this.hasMatch=function(){return!!self._hasData()&&(self.execute(),_data.length>0)},this.andNot=function(e,t,i){return _negate=!_negate,self.and(e,t,i)},this.orNot=function(e,t,i){return _negate=!_negate,self.or(e,t,i)},this.not=function(e,t,i){return self.andNot(e,t,i)},this.and=function(e,t,i){return _queuedOperator=" && ",void 0===e?self:self._repeatCommand(e,t,i)},this.or=function(e,t,i){return _queuedOperator=" || ",void 0===e?self:self._repeatCommand(e,t,i)},this.orBegin=function(){return _orDepth++,self},this.orEnd=function(){return null!==_query&&(_query+=")"),self},this.isNot=function(e){return _negate=!_negate,self.is(e)},this.is=function(e){return self._append("this."+e),self._resetNegate(),self},this._compareValues=function(e,t,i,r,a){var o;o=_useProperties?t:"this",void 0===i&&(i=null);var l=i,n=void 0===a.stype?"text":a.stype;if(null!==i)switch(n){case"int":case"integer":l=String(l).replace(_stripNum,""),l=isNaN(Number(l))||""===l?"0":Number(l),o="parseInt("+o+"||0,10)",l=String(parseInt(l,10));break;case"float":case"number":case"currency":case"numeric":l=String(l).replace(_stripNum,""),l=isNaN(Number(l))||""===l?"0":Number(l),o="parseFloat("+o+"||0)",l=String(l);break;case"date":case"datetime":l=String(jgrid.parseDateToNumber.call(context,a.newfmt||"Y-m-d",l)),o='jQuery.jgrid.parseDateToNumber.call(self,"'+a.srcfmt+'",'+o+")";break;default:o=self._getStr(o),l=self._getStr('"'+self._toStr(l)+'"')}return self._append(o+" "+r+" "+l),self._setCommand(e,t),self._resetNegate(),self},this.equals=function(e,t,i){return self._compareValues(self.equals,e,t,"==",i)},this.notEquals=function(e,t,i){return self._compareValues(self.equals,e,t,"!==",i);
},this.isNull=function(e,t,i){return self._compareValues(self.equals,e,null,"===",i)},this.greater=function(e,t,i){return self._compareValues(self.greater,e,t,">",i)},this.less=function(e,t,i){return self._compareValues(self.less,e,t,"<",i)},this.greaterOrEquals=function(e,t,i){return self._compareValues(self.greaterOrEquals,e,t,">=",i)},this.lessOrEquals=function(e,t,i){return self._compareValues(self.lessOrEquals,e,t,"<=",i)},this.startsWith=function(e,t){var i=null==t?e:t,r=_trim?$.trim(i.toString()).length:i.toString().length;return _useProperties?self._append(self._getStr(e)+".substr(0,"+r+") == "+self._getStr('"'+self._toStr(t)+'"')):(null!=t&&(r=_trim?$.trim(t.toString()).length:t.toString().length),self._append(self._getStr("this")+".substr(0,"+r+") == "+self._getStr('"'+self._toStr(e)+'"'))),self._setCommand(self.startsWith,e),self._resetNegate(),self},this.endsWith=function(e,t){var i=null==t?e:t,r=_trim?$.trim(i.toString()).length:i.toString().length;return _useProperties?self._append(self._getStr(e)+".substr("+self._getStr(e)+".length-"+r+","+r+') == "'+self._toStr(t)+'"'):self._append(self._getStr("this")+".substr("+self._getStr("this")+'.length-"'+self._toStr(e)+'".length,"'+self._toStr(e)+'".length) == "'+self._toStr(e)+'"'),self._setCommand(self.endsWith,e),self._resetNegate(),self},this.contains=function(e,t){return _useProperties?self._append(self._getStr(e)+'.indexOf("'+self._toStr(t)+'",0) > -1'):self._append(self._getStr("this")+'.indexOf("'+self._toStr(e)+'",0) > -1'),self._setCommand(self.contains,e),self._resetNegate(),self},this.groupBy=function(e,t,i,r){return self._hasData()?self._getGroup(_data,e,t,i,r):null},this.orderBy=function(e,t,i,r,a){return t=null==t?"a":$.trim(t.toString().toLowerCase()),null==i&&(i="text"),null==r&&(r="Y-m-d"),null==a&&(a=!1),"desc"!==t&&"descending"!==t||(t="d"),"asc"!==t&&"ascending"!==t||(t="a"),_sorting.push({by:e,dir:t,type:i,datefmt:r,sfunc:a}),self},this.inSet=function(e,t,i){var r=void 0===t?null:t,a=void 0===i.stype?"text":i.stype;return r=self._getStr('"'+self._toStr(r)+'"'),"text"!==a?self._compareValues(self.equals,e,t,"==",i):(self._append("jQuery.inArray("+self._getStr(e)+","+r+".split(',')) >= 0"),self._setCommand(self.inSet,e),self._resetNegate(),self)},this.custom=function(e,t,i){return self._append("self.p.customSortOperations."+e+'.filter.call(self,{item:this,cmName:"'+t+'",searchValue:"'+i+'"})'),self._setCommand(self.custom,t),self._resetNegate(),self},self};return new QueryObject("string"==typeof source?$.data(source):source,null)},serializeFeedback:function(e,t,i){var r,a=this;return a instanceof $&&a.length>0&&(a=a[0]),"string"==typeof i?i:(r=$(a).triggerHandler(t,i),"string"==typeof r?r:(null!=r&&"object"==typeof r||(r=i),$.isFunction(e)?e.call(a,r):r))},fullBoolFeedback:function(e,t){var i=this,r=$.makeArray(arguments).slice(2),a=$(i).triggerHandler(t,r);if(a=a!==!1&&"stop"!==a,$.isFunction(e)){var o=e.apply(i,r);o!==!1&&"stop"!==o||(a=!1)}return a},feedback:function(e,t,i,r){var a=this;if(a instanceof $&&a.length>0&&(a=a[0]),null==e||"string"!=typeof r||r.length<2)return null;var o="on"===r.substring(0,2)?"jqGrid"+t+r.charAt(2).toUpperCase()+r.substring(3):"jqGrid"+t+r.charAt(0).toUpperCase()+r.substring(1),l=$.makeArray(arguments).slice(4),n=e[r+i];return l.unshift(o),l.unshift(n),jgrid.fullBoolFeedback.apply(a,l)},builderSortIcons:function(){var e=this,t=e.p,i=$(this).jqGrid("getGuiStyles","states.disabled"),r=function(r){return jgrid.mergeCssClasses("ui-grid-ico-sort","ui-icon-"+r,"horizontal"===t.viewsortcols[1]?"ui-i-"+r:"",i,$(e).jqGrid("getIconRes","sort."+r),"ui-sort-"+t.direction)};return"<span class='s-ico"+(t.sortIconsBeforeText?" jqgrid-icons-first":"")+"' style='display:none'><span class='"+r("asc")+"'></span><span class='"+r("desc")+"'></span></span>"},builderFmButon:function(e,t,i,r,a){var o=this.p,l=$(this),n=function(e){return l.jqGrid("getGuiStyles","dialog."+e)};return null==o?"":"<a id='"+e+"' class='"+jgrid.mergeCssClasses("fm-button",n("fmButton"),n("right"===a?"rightCorner":"left"===a?"leftCorner":"defaultCorner"),"right"===r?"fm-button-icon-right":"left"===r?"fm-button-icon-left":"")+"' role='button' tabindex='0'>"+(i?"<span class='fm-button-icon "+(l.jqGrid("getIconRes",i)||i)+"'></span>":"")+(t?"<span class='fm-button-text'>"+t+"</span>":"")+"</a>"},convertOnSaveLocally:function(e,t,i,r,a,o){var l=this,n=l.p;if(null==n)return e;if($.isFunction(t.convertOnSave))return t.convertOnSave.call(this,{newValue:e,cm:t,oldValue:i,id:r,item:a,iCol:o});if("boolean"!=typeof i&&"number"!=typeof i)return e;if("boolean"!=typeof i||"checkbox"!==t.edittype&&"checkbox"!==t.formatter)"number"!=typeof i||isNaN(e)||("number"===t.formatter||"currency"===t.formatter?e=parseFloat(e):"integer"===t.formatter&&(e=parseInt(e,10)));else{var s=String(e).toLowerCase(),d=null!=t.editoptions&&"string"==typeof t.editoptions.value?t.editoptions.value.split(":"):["yes","no"];$.inArray(s,["1","true",d[0].toLowerCase()])>=0?e=!0:$.inArray(s,["0","false",d[1].toLowerCase()])>=0&&(e=!1)}return e},parseDataToHtml:function(e,t,i,r,a,o,l){var n,s,d,c,u,p,g,h,f,m,v=this,b=v.p,w=$(v),j=!1,y=[],x=[],q=b.altRows!==!0||w.jqGrid("isBootstrapGuiStyle")?"":b.altclass,C=!!b.grouping&&b.groupingView.groupCollapse===!0,D=parseInt(b.rowNum,10),_=$.fn.jqGrid,S=b.treeGrid===!0&&b.treeANode>-1?v.rows[b.treeANode].rowIndex+1:v.rows.length,F=v.formatCol,R=function(e,t,i,r,a,o){var l=v.formatter(e,t,i,a,"add",o);return"<td role='gridcell' "+F(i,r,l,a,e,o)+">"+l+"</td>"},G=function(e,t,i,r,a){var o="&nbsp;",l=!0;return $.isFunction(b.hasMultiselectCheckBox)&&(l=b.hasMultiselectCheckBox.call(v,{rowid:e,iRow:i,iCol:t,data:a})),l&&(o="<input type='checkbox' id='jqg_"+b.id+"_"+e+"' class='cbox' name='jqg_"+b.id+"_"+e+"'"+(r?" checked='checked' aria-checked='true'":" aria-checked='false'")+"/>"),"<td role='gridcell' "+F(t,i,"",null,e,!0)+">"+o+"</td>"},O=function(e,t,i,r){var a=(parseInt(i,10)-1)*parseInt(r,10)+1+t;return"<td role='gridcell' class='"+_.getGuiStyles.call(w,"rowNum","jqgrid-rownum")+"' "+F(e,t,a,null,t,!0)+">"+a+"</td>"};for(S<=1&&(b.rowIndexes={}),("local"===b.datatype&&!b.deselectAfterSort||b.multiPageSelection)&&(j=!0),o&&(D*=o+1),n=0;n<Math.min(e,D);n++){for(p=t[n],g=i[n],h=null!=r?r[n]:g,d=1===a?0:a,c=(d+n)%2===1?q:"",j&&(b.multiselect?(u=$.inArray(p,b.selarrrow)!==-1,u&&null===b.selrow&&(b.selrow=p)):u=p===b.selrow),f=y.length,y.push(""),s=0;s<b.colModel.length;s++)switch(m=b.colModel[s].name){case"rn":y.push(O(s,n,b.page,b.rowNum));break;case"cb":y.push(G(p,s,n,u,g));break;case"subgrid":y.push(_.addSubGridCell.call(w,s,n+a,p,g));break;default:y.push(R(p,g[m],s,n+a,h,g))}y[f]=v.constructTr(p,C,c,g,h,u),y.push("</tr>"),b.rowIndexes[p]=S,S++,b.grouping&&_.groupingPrepare&&(x.push(y),b.groupingView._locgr||_.groupingPrepare.call(w,g,n),y=[]),y.length>b.maxItemsToJoin&&(y=[y.join("")])}return b.grouping&&_.groupingRender&&(l&&(b.groupingView._locgr=!0),y=[_.groupingRender.call(w,x,D)],jgrid.clearArray(x)),y},getMethod:function(e){return this.getAccessor($.fn.jqGrid,e)},extend:function(e){$.extend($.fn.jqGrid,e),this.no_legacy_api||$.fn.extend(e)}});var clearArray=jgrid.clearArray,jqID=jgrid.jqID,getGridComponentIdSelector=jgrid.getGridComponentIdSelector,getGridComponentId=jgrid.getGridComponentId,getGridComponent=jgrid.getGridComponent,stripPref=jgrid.stripPref,randId=jgrid.randId,getAccessor=jgrid.getAccessor,convertOnSaveLocally=jgrid.convertOnSaveLocally,stripHtml=jgrid.stripHtml,htmlEncode=jgrid.htmlEncode,htmlDecode=jgrid.htmlDecode,mergeCssClasses=jgrid.mergeCssClasses,hasOneFromClasses=jgrid.hasOneFromClasses,feedback=function(){var e=$.makeArray(arguments);return e.unshift(""),e.unshift(""),e.unshift(this.p),jgrid.feedback.apply(this,e)};$.fn.jqGrid=function(e){var t,i=$.fn.jqGrid;if("string"==typeof e){if(t=i[e],!t)throw"jqGrid - No such method: "+e;return t.apply(this,$.makeArray(arguments).slice(1))}return this.each(function(){if(!this.grid){var t,r,a=this,o=$(a),l=$.isFunction,n=$.isArray,s=$.extend,d=$.inArray,c=$.trim,u=$.each,p=i.setSelection,g=i.getGridRes,h=l(defaults.fatalError)?defaults.fatalError:alert,f=e.locale||defaults.locale||"en-US",m=null!=locales[f]&&"boolean"==typeof locales[f].isRTL&&locales[f].isRTL?"rtl":"ltr",v=e.iconSet||defaults.iconSet||("bootstrap"===(e.guiStyle||defaults.guiStyle)||"bootstrapPrimary"===(e.guiStyle||defaults.guiStyle)?"glyph":"jQueryUI"),b=e.guiStyle||defaults.guiStyle||"jQueryUI",w=function(e){return i.getIconRes.call(a,e)},j=function(e,t){return o.jqGrid("getGuiStyles",e,t)},y=function(e,t,i){if("abort"!==t&&"abort"!==i){var r=e.getResponseHeader("Content-Type"),a=e.responseText||"",l=function(e){var t,i,r,a=document.createElement("div");for(r=/<body[^>]*>([\s\S]*)<\/body\s*>/gim.exec(e),a.innerHTML=null!=r&&2===r.length?r[1]:e,t=a.getElementsByTagName("script"),i=t.length;i--;)t[i].parentNode.removeChild(t[i]);e=a.innerHTML;try{""===$.trim($(e).text())&&(e="")}catch(o){}return e},n=function(e){try{var t,i=$.parseJSON(e),r=[];for(t in i)i.hasOwnProperty(t)&&"StackTrace"!==t&&r.push(t+": "+i[t]);e=r.join("<br />")}catch(a){}return e};"text/html"===r?a=l(a):"application/json"===r?a=n(a):"text/plain"===r&&(a=n(a)),500!==e.status&&0!==e.status&&(a=(t||i)+(i&&i!==t?": "+i:"")+" "+e.status+" "+e.statusText+(""!==a?"<hr />":"")+a),o.jqGrid("displayErrorMessage",a||t||i)}};null==e&&(e={datatype:"local"}),void 0!==e.datastr&&n(e.datastr)&&(r=e.datastr,e.datastr=[]),void 0!==e.data&&(t=e.data,e.data=[]),null!=jgrid.formatter&&null!=jgrid.formatter.unused||h("CRITICAL ERROR!!!\n\n\nOne uses probably\n\n\t$.extend($.jgrid.defaults, {...});\n\nto set default settings of jqGrid instead of the usage the DEEP version of jQuery.extend (with true as the first parameter):\n\n\t$.extend(true, $.jgrid.defaults, {...});\n\nOne other possible reason:\n\nyou included some OLD version of language file (grid.locale-en.js for example) AFTER jquery.jqGrid.min.js. For example all language files of jqGrid 4.7.0 uses non-deep call of jQuery.extend.\n\n\nSome options of jqGrid could still work, but another one will be broken."),void 0===e.datatype&&void 0!==e.dataType&&(e.datatype=e.dataType,delete e.dataType),void 0===e.mtype&&void 0!==e.type&&(e.mtype=e.type,delete e.type),a.p={iconSet:v};var x=s(!0,{height:"auto",page:1,rowNum:20,maxRowNum:1e4,autoresizeOnLoad:!1,columnsToReResizing:[],autoResizing:{wrapperClassName:"ui-jqgrid-cell-wrapper",minColWidth:33,maxColWidth:300,adjustGridWidth:!0,compact:!1,fixWidthOnShrink:!1},doubleClickSensitivity:250,minResizingWidth:10,rowTotal:null,records:0,pager:"",pgbuttons:!0,pginput:!0,colModel:[],additionalProperties:[],arrayReader:[],rowList:[],colNames:[],sortorder:"asc",threeStateSort:!1,sortname:"",mtype:"GET",altRows:!1,selarrrow:[],savedRow:[],shrinkToFit:!0,xmlReader:{},subGrid:!1,subGridModel:[],reccount:0,lastpage:0,lastsort:0,selrow:null,singleSelectClickMode:"toggle",beforeSelectRow:null,onSelectRow:null,onSortCol:null,ondblClickRow:null,onRightClickRow:null,onPaging:null,onSelectAll:null,onInitGrid:null,loadComplete:null,gridComplete:null,loadError:y,loadBeforeSend:null,afterInsertRow:null,beforeRequest:null,beforeProcessing:null,onHeaderClick:null,viewrecords:!1,loadonce:!1,forceClientSorting:!1,multiselect:!1,multikey:!1,editurl:"clientArray",search:!1,caption:"",hidegrid:!0,hiddengrid:!1,useUnformattedDataForCellAttr:!0,postData:{},userData:{},treeGrid:!1,treeGridModel:"nested",treeReader:{},treeANode:-1,ExpandColumn:null,tree_root_level:0,prmNames:{page:"page",rows:"rows",sort:"sidx",order:"sord",search:"_search",nd:"nd",id:"id",oper:"oper",editoper:"edit",addoper:"add",deloper:"del",subgridid:"id",npage:null,totalrows:"totalrows"},forceFit:!1,gridstate:"visible",cellEdit:!1,iCol:-1,iRow:-1,nv:0,loadui:"enable",toolbar:[!1,""],scroll:!1,multiboxonly:!1,deselectAfterSort:!0,multiPageSelection:!1,scrollrows:!1,autowidth:!1,scrollOffset:18,cellLayout:5,subGridWidth:16,multiselectWidth:16,multiselectPosition:"left",gridview:!0,rownumWidth:25,rownumbers:!1,pagerpos:"center",footerrow:!1,userDataOnFooter:!1,hoverrows:!0,altclass:"ui-priority-secondary",viewsortcols:[!1,"vertical",!0],resizeclass:"",autoencode:!1,autoEncodeOnEdit:!1,remapColumns:[],cmNamesInputOrder:[],ajaxGridOptions:{},direction:m,toppager:!1,headertitles:!1,scrollTimeout:40,maxItemsToJoin:32768,data:[],lastSelectedData:[],quickEmpty:"quickest",_index:{},iColByName:{},iPropByName:{},reservedColumnNames:["rn","cb","subgrid"],grouping:!1,groupingView:{groupField:[],groupOrder:[],groupText:[],groupColumnShow:[],groupSummary:[],showSummaryOnHide:!1,sortitems:[],sortnames:[],summary:[],summaryval:[],displayField:[],groupSummaryPos:[],formatDisplayField:[],_locgr:!1,commonIconClass:w("grouping.common"),plusicon:w("grouping.plus"),minusicon:w("grouping.minus")},ignoreCase:!0,cmTemplate:{},idPrefix:"",iconSet:v,guiStyle:b,locale:f,multiSort:!1,treeIcons:{commonIconClass:w("treeGrid.common"),plusLtr:w("treeGrid.plusLtr"),plusRtl:w("treeGrid.plusRtl"),minus:w("treeGrid.minus"),leaf:w("treeGrid.leaf")},subGridOptions:{commonIconClass:w("subgrid.common"),plusicon:w("subgrid.plus"),minusicon:w("subgrid.minus")}},defaults,{navOptions:s(!0,{commonIconClass:w("nav.common"),editicon:w("nav.edit"),addicon:w("nav.add"),delicon:w("nav.del"),searchicon:w("nav.search"),refreshicon:w("nav.refresh"),viewicon:w("nav.view"),saveicon:w("nav.save"),cancelicon:w("nav.cancel"),buttonicon:w("nav.newbutton")},jgrid.nav||{}),actionsNavOptions:s(!0,{commonIconClass:w("actions.common"),editicon:w("actions.edit"),delicon:w("actions.del"),saveicon:w("actions.save"),cancelicon:w("actions.cancel")},jgrid.actionsNav||{}),formEditing:s(!0,{commonIconClass:w("form.common"),prevIcon:w("form.prev"),nextIcon:w("form.next"),saveicon:[!0,"left",w("form.save")],closeicon:[!0,"left",w("form.undo")]},jgrid.edit||{}),searching:s(!0,{commonIconClass:w("search.common"),findDialogIcon:w("search.search"),resetDialogIcon:w("search.reset"),queryDialogIcon:w("search.query")},jgrid.search||{}),formViewing:s(!0,{commonIconClass:w("form.common"),prevIcon:w("form.prev"),nextIcon:w("form.next"),closeicon:[!0,"left",w("form.cancel")]},jgrid.view||{}),formDeleting:s(!0,{commonIconClass:w("form.common"),delicon:[!0,"left",w("form.del")],cancelicon:[!0,"left",w("form.cancel")]},jgrid.del||{})},e||{}),q=function(e){return g.call(o,e)},C=function(e){var t=jgrid.getRes(x,e);return void 0!==t?t:g.call(o,"defaults."+e)};if(x.recordpos=x.recordpos||("rtl"===x.direction?"left":"right"),x.subGridOptions.openicon=w("rtl"===x.direction?"subgrid.openRtl":"subgrid.openLtr"),x.autoResizing.widthOfVisiblePartOfSortIcon=void 0!==x.autoResizing.widthOfVisiblePartOfSortIcon?x.autoResizing.widthOfVisiblePartOfSortIcon:"fontAwesome"===x.iconSet?13:12,x.datatype=void 0!==x.datatype?x.datatype:void 0!==t||null==x.url?"local":null!=x.jsonReader&&"object"==typeof x.jsonReader?"json":"xml",x.jsonReader=x.jsonReader||{},x.url=x.url||"",x.cellsubmit=void 0!==x.cellsubmit?x.cellsubmit:void 0===x.cellurl?"clientArray":"remote",x.gridview=void 0!==x.gridview?x.gridview:null==x.afterInsertRow,void 0!==t&&(x.data=t,e.data=t),void 0!==r&&(x.datastr=r,e.datastr=r),"TABLE"!==a.tagName.toUpperCase())return void h("Element is not a table!");if(""===a.id&&o.attr("id",randId()),void 0!==document.documentMode&&document.documentMode<=5)return void h("Grid can not be used in this ('quirks') mode!");o.empty().attr("tabindex","0"),a.p=x,x.id=a.id,x.idSel="#"+jqID(a.id),x.gBoxId=getGridComponentId.call(a,COMPONENT_NAMES.GRID_BOX_DIV),x.gBox=getGridComponentIdSelector.call(a,COMPONENT_NAMES.GRID_BOX_DIV),x.gViewId=getGridComponentId.call(a,COMPONENT_NAMES.GRID_VIEW_DIV),x.gView=getGridComponentIdSelector.call(a,COMPONENT_NAMES.GRID_VIEW_DIV),x.rsId=getGridComponentId.call(a,COMPONENT_NAMES.COLUMN_RESIZER_DIV),x.rs=getGridComponentIdSelector.call(a,COMPONENT_NAMES.COLUMN_RESIZER_DIV),x.cbId=getGridComponentId.call(a,COMPONENT_NAMES.HEADER_SELECT_ALL_ROWS_CHECKBOX),x.cb=getGridComponentIdSelector.call(a,COMPONENT_NAMES.HEADER_SELECT_ALL_ROWS_CHECKBOX);var D=jgrid.fixScrollOffsetAndhBoxPadding,_=function(e){var t,i={},r=e.length;for(t=0;t<r;t++)i[e[t].name]=t;return i},S=function(e){var t,i,r={},a=e.length;for(t=0;t<a;t++)i=e[t],r["string"==typeof i?i:i.name]=t;return r},F=function(){var e,t,i={};for(this.p.rowIndexes=i,t=0;t<this.rows.length;t++)e=this.rows[t],$(e).hasClass("jqgrow")&&(i[e.id]=e.rowIndex)},R=function(){var e,t,i,r,a,o=x.colModel,l=x.cmNamesInputOrder,n=x.additionalProperties,s=l.length;for(x.arrayReaderInfos={},t=x.arrayReaderInfos,a=0;a<s;a++)i=l[a],d(i,x.reservedColumnNames)<0&&!t.hasOwnProperty(i)&&(r=x.iColByName[i],void 0!==r?t[i]={name:o[r].name,index:r,order:a,type:0}:(r=x.iPropByName[i],void 0!==r?t[i]={name:o[r].name,index:r,order:a,type:1}:i===(x.prmNames.rowidName||"rowid")&&(t[i]={index:r,type:2})));for(s=o.length,e=0;e<s;e++)i=o[e].name,d(i,x.reservedColumnNames)<0&&!t.hasOwnProperty(i)&&(t[i]={name:i,index:e,order:a,type:0},a++);for(s=n.length,e=0;e<s;e++)i=n[e],null==i||t.hasOwnProperty(i)||("object"==typeof i&&"string"===$.type(i.name)&&(i=i.name),t[i]={name:i,index:e,order:a,type:1},a++)},G=function(e){var t=$(this).data("pageX");t?(t=String(t).split(";"),t=t[t.length-1],$(this).data("pageX",t+";"+e.pageX)):$(this).data("pageX",e.pageX)},O=function(e,t){return e=parseInt(e,10),isNaN(e)?t||0:e},I={headers:[],cols:[],footers:[],dragStart:function(e,t,i,r){var a=this,o=$(a.bDiv),l=o.closest(x.gBox).offset(),n=r.offset().left+("rtl"===x.direction?0:a.headers[e].width+(jgrid.cell_width?0:O(x.cellLayout,0))-2);a.resizing={idx:e,startX:n,sOL:n,moved:!1,delta:n-t.pageX},a.curGbox=$(x.rs),a.curGbox.prependTo("body"),a.curGbox.css({display:"block",left:n,top:i[1]+l.top+1,height:i[2]}),a.curGbox.css("height",i[2]-(a.curGbox.outerHeight()-a.curGbox.height())+"px"),a.curGbox.data("idx",e),a.curGbox.data("delta",n-t.pageX),G.call(this.curGbox,t),feedback.call(getGridComponent(COMPONENT_NAMES.BODY_TABLE,o)[0],"resizeStart",t,e),document.onselectstart=function(){return!1},$(document).bind("mousemove.jqGrid",function(e){if(I.resizing)return I.dragMove(e),!1}).bind("mouseup.jqGrid"+x.id,function(){if(I.resizing)return I.dragEnd(),!1})},dragMove:function(e){var t=this,i=t.resizing;if(i){var r,a,o=e.pageX+i.delta-i.startX,l=t.headers,n=l[i.idx],s="ltr"===x.direction?n.width+o:n.width-o,d=((x.colModel[i.idx]||{}).autoResizing||{}).minColWidth||x.minResizingWidth;i.moved=!0,s>d&&(null==t.curGbox&&(t.curGbox=$(x.rs)),t.curGbox.css({left:i.sOL+o}),x.forceFit===!0?(r=l[i.idx+x.nv],a="ltr"===x.direction?r.width-o:r.width+o,a>x.autoResizing.minColWidth&&(n.newWidth=s,r.newWidth=a)):(t.newWidth="ltr"===x.direction?x.tblwidth+o:x.tblwidth-o,n.newWidth=s))}},resizeColumn:function(e,t,r){var a,o=this,l=o.headers,n=o.footers,s=l[e],d=s.newWidth||s.width,c=getGridComponent(COMPONENT_NAMES.BODY_TABLE,o.bDiv),u=getGridComponent(COMPONENT_NAMES.HEADER_TABLE,o.hDiv),p=u.children("thead").children("tr").first()[0].cells;d=parseInt(d,10),x.colModel[e].width=d,s.width=d,p[e].style.width=d+"px",o.cols[e].style.width=d+"px",o.fbRows&&($(o.fbRows[0].cells[e]).css("width",d),$(getGridComponent(COMPONENT_NAMES.FROZEN_HEADER_TABLE,o.fhDiv)[0].rows[0].cells[e]).css("width",d)),n.length>0&&(n[e].style.width=d+"px"),r!==!0&&D.call(c[0]),x.forceFit===!0?(a=l[e+x.nv],d=a.newWidth||a.width,a.width=d,p[e+x.nv].style.width=d+"px",o.cols[e+x.nv].style.width=d+"px",n.length>0&&(n[e+x.nv].style.width=d+"px"),x.colModel[e+x.nv].width=d):(x.tblwidth=o.newWidth||x.tblwidth,r!==!0&&(o.hDiv.scrollLeft=o.bDiv.scrollLeft,x.footerrow&&(o.sDiv.scrollLeft=o.bDiv.scrollLeft))),x.autowidth||void 0!==x.widthOrg&&"auto"!==x.widthOrg&&"100%"!==x.widthOrg||r===!0||i.setGridWidth.call(c,o.newWidth+x.scrollOffset,!1),t||feedback.call(c[0],"resizeStop",d,e)},dragEnd:function(){var e=this;e.hDiv.style.cursor="default",e.resizing&&(null!==e.resizing&&e.resizing.moved===!0&&($(e.headers[e.resizing.idx].el).removeData("autoResized"),e.resizeColumn(e.resizing.idx,!1)),$(x.rs).removeData("pageX"),e.resizing=!1,setTimeout(function(){$(x.rs).css("display","none").prependTo(x.gBox)},x.doubleClickSensitivity)),e.curGbox=null,document.onselectstart=function(){return!0},$(document).unbind("mousemove.jqGrid").unbind("mouseup.jqGrid"+x.id)},populateVisible:function(){var e=this,t=$(e),i=e.grid,r=i.bDiv,a=$(r);i.timer&&clearTimeout(i.timer),i.timer=null;var o=a.height();if(o){var l,n;if(e.rows.length)try{l=e.rows[1],n=l?$(l).outerHeight()||i.prevRowHeight:i.prevRowHeight}catch(s){n=i.prevRowHeight}if(n){i.prevRowHeight=n;var d=x.rowNum;i.scrollTop=r.scrollTop;var c,u,p,g=i.scrollTop,h=Math.round(t.position().top)-g,f=h+t.height(),m=n*d;if(f<o&&h<=0&&(void 0===x.lastpage||(parseInt((f+g+m-1)/m,10)||0)<=x.lastpage)&&(u=parseInt((o-f+m-1)/m,10)||1,f>=0||u<2||x.scroll===!0?(c=(Math.round((f+g)/m)||0)+1,h=-1):h=1),h>0&&(c=(parseInt(g/m,10)||0)+1,u=(parseInt((g+o)/m,10)||0)+2-c,p=!0),u){if(x.lastpage&&(c>x.lastpage||1===x.lastpage||c===x.page&&c===x.lastpage))return;i.hDiv.loading?i.timer=setTimeout(function(){i.populateVisible.call(e)},x.scrollTimeout):(x.page=c,p&&(i.selectionPreserver.call(e),i.emptyRows.call(e,!1,!1)),i.populate.call(e,u))}}}},scrollGrid:function(){if(x.scroll){var e=this.scrollTop;void 0===I.scrollTop&&(I.scrollTop=0),e!==I.scrollTop&&(I.scrollTop=e,I.timer&&clearTimeout(I.timer),I.timer=setTimeout(function(){I.populateVisible.call(a)},x.scrollTimeout))}return I.hDiv.scrollLeft=this.scrollLeft,x.footerrow&&(I.sDiv.scrollLeft=this.scrollLeft),!1},selectionPreserver:function(){var e=this,t=$(e),i=x.selrow,r=x.selarrrow?$.makeArray(x.selarrrow):null,a=e.grid.bDiv,o=a.scrollLeft,l=function(){var e;if(x.selrow=null,!x.multiPageSelection){if(clearArray(x.selarrrow),x.multiselect&&r&&r.length>0)for(e=0;e<r.length;e++)r[e]!==i&&p.call(t,r[e],!1,null);i&&p.call(t,i,!1,null)}a.scrollLeft=o,t.unbind(".selectionPreserver",l)};t.bind("jqGridGridComplete.selectionPreserver",l)}};a.grid=I,feedback.call(a,"beforeInitGrid"),x.iColByName=_(x.colModel),x.iPropByName=S(x.additionalProperties);var k,N=$("<div class='"+j("gView","ui-jqgrid-view")+"' role='grid' aria-multiselectable='"+!!x.multiselect+"'></div>"),E=jgrid.msie;x.direction=c(x.direction.toLowerCase()),d(x.direction,["ltr","rtl"])===-1&&(x.direction="ltr"),k=x.direction,$(N).insertBefore(a),o.removeClass("scroll").appendTo(N);var A=$("<div class='"+j("gBox","ui-jqgrid")+"'></div>");$(A).attr({id:x.gBoxId,dir:k}).insertBefore(N),$(N).attr("id",x.gViewId).appendTo(A),$("<div class='"+j("overlay","jqgrid-overlay")+"' id='lui_"+x.id+"'></div>").insertBefore(N),$("<div class='"+j("loading","loading")+"' id='load_"+x.id+"'>"+C("loadtext")+"</div>").insertBefore(N),o.attr({role:"presentation","aria-labelledby":"gbox_"+a.id});var T,M=["shiftKey","altKey","ctrlKey"],z=function(){var e,t,i,r=x.remapColumns,a=x.colModel,o=a.length,l=[];for(e=0;e<o;e++)i=a[e].name,d(i,x.reservedColumnNames)<0&&l.push(i);if(null!=r)for(t=l.slice(),e=0;e<r.length;e++)l[e]=t[r[e]];x.cmNamesInputOrder=l},B=function(e){return stripPref(x.idPrefix,e)},P=function(e,t,i,r,o,n){var s,d,c,u,p,g,h,f=x.colModel[e],m=i,v=f.classes,b=f.align?"text-align:"+f.align+";":"",w=function(e){return"string"==typeof e?e.replace(/\'/g,"&#39;"):e},j=" aria-describedby='"+x.id+"_"+f.name+"'";if(f.hidden===!0&&(b+="display:none;"),0===t)b+="width: "+I.headers[e].width+"px;";else if((l(f.cellattr)||"string"==typeof f.cellattr&&null!=jgrid.cellattr&&l(jgrid.cellattr[f.cellattr]))&&(s=l(f.cellattr)?f.cellattr:jgrid.cellattr[f.cellattr],x.useUnformattedDataForCellAttr&&null!=n?m=n[f.name]:f.autoResizable&&(d="<span class='"+x.autoResizing.wrapperClassName+"'>",m=i.substring(d.length,i.length-"</span>".length)),u=s.call(a,o,m,r,f,n),"string"==typeof u))for(u=u.replace(/\n/g,"&#xA;");;){if(p=/^\s*(\w+[\w|\-]*)\s*=\s*([\"|\'])(.*?)\2(.*)/.exec(u),null===p||p.length<5)return!h&&f.title&&(h=m),j+" style='"+w(b)+"'"+(v?" class='"+w(v)+"'":"")+(h?" title='"+w(h)+"'":"");switch(g=p[3],u=p[4],p[1].toLowerCase()){case"class":v?v+=" "+g:v=g;break;case"title":h=g;break;case"style":b+=g;break;default:j+=" "+p[1]+"="+p[2]+g+p[2]}}return c=""!==b?"style='"+b+"'":"",c+=(void 0!==v?" class='"+v+"'":"")+(f.title&&m?" title='"+stripHtml(i).replace(/\'/g,"&apos;")+"'":""),c+=j},L=function(e){return null==e||""===e?"&#160;":x.autoencode?htmlEncode(e):String(e)},H=function(e){var t=x.treeReader,i=t.loaded,r=t.leaf_field,a=t.expanded_field,o=function(e){return e===!0||"true"===e||"1"===e};if("nested"===x.treeGridModel&&!e[r]){var l=parseInt(e[t.left_field],10),n=parseInt(e[t.right_field],10);e[r]=n===l+1}void 0!==e[i]&&(e[i]=o(e[i])),e[r]=o(e[r]),e[a]=o(e[a])},V=function(e,t,i,r,o,n){var s,d=x.colModel[i];if(void 0!==d.formatter){e=""!==String(x.idPrefix)?B(e):e;var c={rowId:e,colModel:d,gid:x.id,pos:i,rowData:n||r};s=l(d.cellBuilder)?d.cellBuilder.call(a,t,c,r,o):l(d.formatter)?d.formatter.call(a,t,c,r,o):$.fmatter?$.fn.fmatter.call(a,d.formatter,t,c,r,o):L(t)}else s=L(t);if(s=d.autoResizable&&"actions"!==d.formatter?"<span class='"+x.autoResizing.wrapperClassName+"'>"+s+"</span>":s,x.treeGrid&&"edit"!==o&&(void 0===x.ExpandColumn&&0===i||x.ExpandColumn===d.name)){null==n&&(n=x.data[x._index[e]]);var u=parseInt(n[x.treeReader.level_field]||0,10),p=18,g=parseInt(x.tree_root_level,10),h=0===g?u:u-1,f=n[x.treeReader.leaf_field],m=n[x.treeReader.expanded_field],v=n[x.treeReader.icon_field],b=f?(null!=v&&""!==v?v:x.treeIcons.leaf)+" tree-leaf":m?x.treeIcons.minus+" tree-minus":x.treeIcons.plus+" tree-plus";s="<div class='tree-wrap' style='width:"+(h+1)*p+"px;'><div class='"+mergeCssClasses(x.treeIcons.commonIconClass,b,"treeclick")+"' style='"+(x.ExpandColClick===!0?"cursor:pointer;":"")+("rtl"===x.direction?"margin-right:":"margin-left:")+h*p+"px;'></div></div><span class='cell-wrapper"+(f?"leaf":"")+"'"+(x.ExpandColClick?" style='cursor:pointer;'":"")+">"+s+"</span>"}return s},W=function(e,t){var i=this,r=I.bDiv,a=null!=I.fbDiv?I.fbDiv.children(".ui-jqgrid-btable")[0]:null,o=function(e){if(e){var t=e.rows,i=t[0];if(x.deepempty)t&&$(t).slice(1).remove();else if(x.quickEmpty)if("quickest"===x.quickEmpty)e.replaceChild(document.createElement("tbody"),e.tBodies[0]),e.firstChild.appendChild(i);else for(;t.length>1;)e.deleteRow(t.length-1);else $(e.firstChild).empty().append(i)}};$(i).unbind(".jqGridFormatter"),o(i),o(a),e&&x.scroll&&($(r.firstChild).css({height:"auto"}),$(r.firstChild.firstChild).css({height:0,display:"none"}),0!==r.scrollTop&&(r.scrollTop=0)),t===!0&&x.treeGrid&&(clearArray(x.data),clearArray(x.lastSelectedData),x._index={}),x.rowIndexes={},x.iRow=-1,x.iCol=-1},U=function(){var e,t,i,r,o,d,c,u,p,g,h,f,m=x.data,v=m.length,b=x.localReader,w=x.additionalProperties,j=b.cell,y=x.arrayReaderInfos;if("local"===x.datatype&&b.repeatitems===!0)for(r=x.keyName===!1?l(b.id)?b.id.call(a,m):b.id:x.keyName,isNaN(r)?l(r)||null!=x.arrayReaderInfos[r]&&(o=x.arrayReaderInfos[r].order):o=Number(r),e=0;e<v;e++){t=m[e],i=j?getAccessor(t,j)||t:t,g=n(i),c={};for(p in y)y.hasOwnProperty(p)&&(f=y[p],d=getAccessor(i,g?f.order:f.name),1===f.type&&(h=w[f.index],null!=h&&l(h.convert)&&(d=h.convert(d,i))),void 0!==d&&(c[p]=d));void 0!==c[r]?u=void 0!==c[r]?c[r]:randId():(u=getAccessor(t,n(t)?o:r),void 0===u&&(u=getAccessor(i,n(i)?o:r)),void 0===u&&(u=randId())),u=String(u),c[b.id]=u,x.treeGrid&&H(c),s(m[e],c)}else if(x.treeGrid)for(e=0;e<v;e++)H(m[e])},Y=function(){var e,t,i,r,a=x.data.length;for(e=x.keyName===!1||x.loadonce?x.localReader.id:x.keyName,x._index={},t=0;t<a;t++)r=x.data[t],i=getAccessor(r,e),void 0===i&&(i=String(randId()),void 0===r[e]&&(r[e]=i)),x._index[i]=t},X=function(e,t,r,a,o,n){var s,d="-1",c="",u=t?"display:none;":"",p=this,g=j("gridRow","jqgrow ui-row-"+x.direction)+(r?" "+r:"")+(n?" "+j("states.select"):""),h=$(p).triggerHandler("jqGridRowAttr",[a,o,e]);if("object"!=typeof h&&(h=l(x.rowattr)?x.rowattr.call(p,a,o,e):"string"==typeof x.rowattr&&null!=jgrid.rowattr&&l(jgrid.rowattr[x.rowattr])?jgrid.rowattr[x.rowattr].call(p,a,o,e):{}),null!=h&&!$.isEmptyObject(h)){h.hasOwnProperty("id")&&(e=h.id,delete h.id),h.hasOwnProperty("tabindex")&&(d=h.tabindex,delete h.tabindex),h.hasOwnProperty("style")&&(u+=h.style,delete h.style),h.hasOwnProperty("class")&&(g+=" "+h["class"],delete h["class"]);try{delete h.role}catch(f){}for(s in h)h.hasOwnProperty(s)&&(c+=" "+s+"="+h[s])}if(x.treeGrid&&parseInt(a[x.treeReader.level_field],10)!==parseInt(x.tree_root_level,10)){var m=i.getNodeParent.call($(this),a),v=!m||!m.hasOwnProperty(x.treeReader.expanded_field)||m[x.treeReader.expanded_field];v||t||(u+="display:none;")}return"<tr role='row' id='"+e+"' tabindex='"+d+"' class='"+g+"'"+(""===u?"":" style='"+u+"'")+c+">"},Q=function(){var e,t,i=$.fn.fmatter;for(e=0;e<x.colModel.length;e++)t=x.colModel[e].formatter,"string"==typeof t&&null!=i&&l(i[t])&&l(i[t].pageFinalization)&&i[t].pageFinalization.call(this,e)},J=function(e,t){var i,r,o,n=x.colModel,s=n.length,d=function(e){return null==e||""===e?"&#160;":htmlEncode(e)},c=function(e){return null==e||""===e?"&#160;":String(e)};for(i=0;i<s;i++)r=n[i],r.cellBuilder=null,e||(o={colModel:r,gid:x.id,pos:i},void 0===r.formatter?r.cellBuilder=x.autoencode?d:c:"string"==typeof r.formatter&&null!=$.fn.fmatter&&l($.fn.fmatter.getCellBuilder)?r.cellBuilder=$.fn.fmatter.getCellBuilder.call(a,r.formatter,o,t||"add"):l(r.getCellBuilder)&&(r.cellBuilder=r.getCellBuilder.call(a,o,t||"add")))},K=function(e,t,r,a){var o=this,s=$(o),d=new Date,c=x.datatype,u="local"!==c&&x.loadonce||"xmlstring"===c||"jsonstring"===c,p=("xmlstring"===c||"xml"===c)&&$.isXMLDoc(e),g="_id_",h=x.localReader,f=getAccessor;if(e&&("xml"!==c||p)){switch(x.treeANode!==-1||x.scroll?t=t>1?t:1:(I.emptyRows.call(o,!1,!0),t=1),u&&(clearArray(x.data),clearArray(x.lastSelectedData),x._index={},x.grouping&&null!=x.groupingView&&(x.groupingView.groups=[],x.groupingView._locgr=!1),x.localReader.id=g),x.reccount=0,c){case"xml":case"xmlstring":h=x.xmlReader,f=jgrid.getXmlData;break;case"json":case"jsonp":case"jsonstring":h=x.jsonReader}var m,v,b,w,j,y,q,C,D,_,S,R,G,k={},N=x.colModel,E=N.length,A=x.arrayReaderInfos,T={},M=function(e){return function(t){var i=null!=t&&l(t.getAttribute)?t.getAttribute(e):null;return null!==i?i:void 0}},z=function(e){return function(){var t,i=T[e];if(null!=i)return t=i.childNodes,t.length>0?t[0].nodeValue:void 0}};x.page=O(f(e,h.page),x.page),x.lastpage=O(f(e,h.total),1),x.records=O(f(e,h.records)),l(h.userdata)?x.userData=h.userdata.call(o,e)||{}:p?f(e,h.userdata,!0).each(function(){x.userData[this.getAttribute("name")]=$(this).text()}):x.userData=f(e,h.userdata)||{},J();var B,P,L,V,W={},U=x.additionalProperties,Y=function(e,t){p&&"string"==typeof t&&(/^\w+$/.test(t)?W[e]=z(t):/^\[\w+\]$/.test(t)&&(W[e]=M(t.substring(1,t.length-1))))},X=function(e){var t=e.name,i=p?e.xmlmap||t:"local"===c&&!x.dataTypeOrg||"jsonstring"===c||"json"===c||"jsonp"===c?e.jsonmap||t:t;x.keyName!==!1&&e.key===!0&&(x.keyName=t),("string"==typeof i||l(i))&&(W[t]=i),l(i)||Y(t,i)};for(m=0;m<E;m++)X(N[m]);for(E=U.length,m=0;m<E;m++)L=U[m],"object"==typeof L&&null!=L?X(L):Y(L,L);if(j=x.keyName===!1?l(h.id)?h.id.call(o,e):h.id:x.keyName,isNaN(j)?l(j)||(A[j]&&(y=A[j].order),p&&("string"==typeof j&&/^\[\w+\]$/.test(j)?j=M(j.substring(1,j.length-1)):"string"==typeof j&&/^\w+$/.test(j)&&(j=z(j)))):y=Number(j),w=f(e,h.root,!0),h.row)if(1===w.length&&"string"==typeof h.row&&/^\w+$/.test(h.row)){for(V=[],_=w[0].childNodes,S=_.length,D=0;D<S;D++)R=_[D],1===R.nodeType&&R.nodeName===h.row&&V.push(R);w=V}else w=f(w,h.row,!0);null==w&&n(e)&&(w=e),w||(w=[]),b=w.length,b>0&&x.page<=0&&(x.page=1);var K=parseInt(x.rowNum,10);a&&(K*=a+1);var Z,ee,te=[],ie=[];for(V=[],m=0;m<b;m++){if(ee=w[m],v=h.repeatitems&&h.cell?f(ee,h.cell,!0)||ee:ee,B=h.repeatitems&&(p||n(v)),k={},T={},p&&!B&&null!=v)for(_=v.childNodes,S=_.length,D=0;D<S;D++)R=_[D],1===R.nodeType&&(T[R.nodeName]=R);for(C in A)A.hasOwnProperty(C)&&(G=A[C],B?(P=v[G.order],p&&null!=P&&(P=P.textContent||P.text)):P=null!=W[C]&&"string"!=typeof W[C]?W[C](v):f(v,"string"==typeof W[C]?W[C]:G.name),
1===G.type&&(L=U[G.index],null!=L&&l(L.convert)&&(P=L.convert(P,v))),void 0!==P&&(k[C]=P));if(void 0!==k[j]?Z=void 0!==k[j]?k[j]:randId():(Z=f(ee,n(ee)?y:j),void 0===Z&&(Z=f(v,n(v)?y:j)),void 0===Z&&(Z=randId())),void 0===k[j]&&(k[j]=Z),Z=String(Z),q=x.idPrefix+Z,x.treeGrid&&H(k),m<K)ie.push(q),te.push(v),V.push(k);else if(!u)break;(u||x.treeGrid===!0)&&(k[g]=Z,x.data.push(k),x._index[k[g]]=x.data.length-1)}if(!u||!x.forceClientSorting||x.treeGrid===!0){var re=jgrid.parseDataToHtml.call(o,b,ie,V,te,t,a,u);J(!0);var ae=x.treeANode>-1?x.treeANode:0,oe=$(o.tBodies[0]);if(x.treeGrid===!0&&ae>0?$(o.rows[ae]).after(re.join("")):x.scroll?oe.append(re.join("")):null==o.firstElementChild||void 0!==document.documentMode&&document.documentMode<=9?(oe.html(oe.html()+re.join("")),o.grid.cols=o.rows[0].cells):(o.firstElementChild.innerHTML+=re.join(""),o.grid.cols=o.rows[0].cells),x.grouping&&F.call(o),x.subGrid===!0)try{i.addSubGrid.call(s,x.iColByName.subgrid)}catch(le){}if(x.gridview===!1||l(x.afterInsertRow))for(m=0;m<Math.min(b,K);m++)feedback.call(o,"afterInsertRow",ie[m],V[m],te[m]);if(x.totaltime=new Date-d,m>0&&0===x.records&&(x.records=b),clearArray(re),x.treeGrid===!0)try{i.setTreeNode.call(s,ae+1,m+ae+1)}catch(le){}x.reccount=Math.min(b,K),x.treeANode=-1,x.userDataOnFooter&&i.footerData.call(s,"set",x.userData,!0),u&&(x.records=b,x.lastpage=Math.ceil(b/K)),r||o.updatepager(!1,!0),Q.call(o)}}},Z=function(){function e(t){var i,r,a,o,n,d,c,u=0;if(null!=t.groups){for(r=t.groups.length&&"OR"===t.groupOp.toString().toUpperCase(),r&&j.orBegin(),i=0;i<t.groups.length;i++){u>0&&r&&j.or();try{e(t.groups[i])}catch(p){h(p)}u++}r&&j.orEnd()}if(null!=t.rules)try{for(a=t.rules.length&&"OR"===t.groupOp.toString().toUpperCase(),a&&j.orBegin(),i=0;i<t.rules.length;i++)n=t.rules[i],o=t.groupOp.toString().toUpperCase(),w[n.op]&&n.field?(u>0&&o&&"OR"===o&&(j=j.or()),c=s[n.field],null!=c&&(d=c.reader,j=w[n.op](j,o)(l(d)?'jQuery.jgrid.getAccessor(this,jQuery("'+x.idSel+'")[0].p.colModel['+c.iCol+"].jsonmap)":"jQuery.jgrid.getAccessor(this,'"+d+"')",n.data,s[n.field]))):null!=x.customSortOperations&&null!=x.customSortOperations[n.op]&&l(x.customSortOperations[n.op].filter)&&(j=j.custom(n.op,n.field,n.data)),u++;a&&j.orEnd()}catch(g){h(g)}}var t=$(this),r=x.multiSort?[]:"",a={},o=!1,s={},d=[],c=[],p=q("formatter.date.srcformat"),g=q("formatter.date.newformat");if(!n(x.data))return{};x.multiSort&&ne(r,a);var f,m,v=!!x.grouping&&x.groupingView,b=function(e,t,i){var a,l,n=e.index||e.name,u=e.sorttype||"text";if(s[e.name]={reader:x.dataTypeOrg?e.name:e.jsonmap||e.name,iCol:t,stype:u,srcfmt:"",newfmt:"",sfunc:e.sortfunc||null,isAddProp:i===!0},"date"!==u&&"datetime"!==u||(e.formatter&&"string"==typeof e.formatter&&"date"===e.formatter?(a=e.formatoptions&&e.formatoptions.srcformat?e.formatoptions.srcformat:p,l=e.formatoptions&&e.formatoptions.newformat?e.formatoptions.newformat:g):a=l=e.datefmt||"Y-m-d",s[e.name].srcfmt=a,s[e.name].newfmt=l),x.grouping)for(m=0,f=v.groupField.length;m<f;m++)e.name===v.groupField[m]&&(d[m]=s[n],c[m]=n);x.multiSort||o||e.index!==x.sortname&&e.name!==x.sortname||(r=e.name,o=!0)};if(u(x.colModel,function(e){b(this,e)}),u(x.additionalProperties,function(e){b("string"==typeof this?{name:this}:this,e,!0)}),x.treeGrid)return i.SortTree.call(t,r,x.sortorder,null!=s[r]&&s[r].stype?s[r].stype:"text",null!=s[r]&&s[r].srcfmt?s[r].srcfmt:""),!1;var w={eq:function(e){return e.equals},ne:function(e){return e.notEquals},lt:function(e){return e.less},le:function(e){return e.lessOrEquals},gt:function(e){return e.greater},ge:function(e){return e.greaterOrEquals},cn:function(e){return e.contains},nc:function(e,t){return"OR"===t?e.orNot().contains:e.andNot().contains},bw:function(e){return e.startsWith},bn:function(e,t){return"OR"===t?e.orNot().startsWith:e.andNot().startsWith},en:function(e,t){return"OR"===t?e.orNot().endsWith:e.andNot().endsWith},ew:function(e){return e.endsWith},ni:function(e,t){return"OR"===t?e.orNot().inSet:e.andNot().inSet},"in":function(e){return e.inSet},nu:function(e){return e.isNull},nn:function(e,t){return"OR"===t?e.orNot().isNull:e.andNot().isNull}},j=jgrid.from.call(this,x.data);if(x.ignoreCase&&(j=j.ignoreCase()),x.search===!0){var y=x.postData.filters;if(y)"string"==typeof y&&(y=$.parseJSON(y)),e(y);else try{var C=s[x.postData.searchField];j=w[x.postData.searchOper](j)(l(C.reader)?'jQuery.jgrid.getAccessor(this,jQuery("'+x.idSel+'")[0].p.colModel['+C.iCol+"].jsonmap)":"jQuery.jgrid.getAccessor(this,'"+C.reader+"')",x.postData.searchString,s[x.postData.searchField])}catch(D){}}if(x.grouping)for(m=0;m<f;m++)j.orderBy(c[m],v.groupOrder[m],d[m].stype,d[m].srcfmt);x.multiSort?u(r,function(){j.orderBy(this,a[this],s[this].stype,s[this].srcfmt,s[this].sfunc)}):r&&x.sortorder&&o&&j.orderBy(x.sortname,"DESC"===x.sortorder.toUpperCase()?"d":"a",s[r].stype,s[r].srcfmt,s[r].sfunc),x.lastSelectedData=j.select();var _=parseInt(x.rowNum,10),S=x.lastSelectedData.length,F=parseInt(x.page,10),R=Math.ceil(S/_),G={};if(x.grouping&&x.groupingView._locgr){x.groupingView.groups=[];var O,I,k;if(x.footerrow&&x.userDataOnFooter){for(I in x.userData)x.userData.hasOwnProperty(I)&&(x.userData[I]=0);k=!0}for(O=0;O<S;O++){if(k)for(I in x.userData)x.userData.hasOwnProperty(I)&&(x.userData[I]+=parseFloat(x.lastSelectedData[O][I]||0));i.groupingPrepare.call(t,x.lastSelectedData[O],O,_)}}j=null,s=null;var N=x.localReader;return G[N.total]=R,G[N.page]=F,G[N.records]=S,G[N.root]=x.lastSelectedData.slice((F-1)*_,F*_),G[N.userdata]=x.userData,G},ee=function(e){var t,i=this,r=e.outerWidth();return r<=0&&(t=$(i).closest(".ui-jqgrid>.ui-jqgrid-view").css("font-size")||"11px",$(document.body).append("<div id='testpg' class='"+j("gBox","ui-jqgrid")+"' style='font-size:"+t+";visibility:hidden;margin:0;padding:0;' ></div>"),$(e).clone().appendTo("#testpg"),r=$("#testpg>.ui-pg-table").width(),$("#testpg").remove()),r>0&&e.parent().width(r),r},te=function(e,t){var i,r,a,o,l,n,s,d,c=this,u=$(c),p=c.grid,g=x.pager||"",h=x.pager?"_"+x.pager.substr(1):"",f=p.bDiv,m=$.fmatter?$.fmatter.NumberFormat:null,v=x.toppager?"_"+x.toppager.substr(1):"",b=j("states.hover"),w=j("states.disabled");if(a=parseInt(x.page,10)-1,a<0&&(a=0),a*=parseInt(x.rowNum,10),l=a+x.reccount,x.scroll){var y=$(getGridComponent(COMPONENT_NAMES.BODY_TABLE,f)[0].rows).slice(1);a=l-y.length,x.reccount=y.length;var D=y.outerHeight()||p.prevRowHeight;if(D){var _=a*D,S=jgrid.fixMaxHeightOfDiv.call(c,parseInt(x.records,10)*D);$(f).children("div").first().css({height:S+"px"}).children("div").first().css({height:_+"px",display:""}),0===f.scrollTop&&x.page>1&&(f.scrollTop=x.rowNum*(x.page-1)*D)}f.scrollLeft=p.hDiv.scrollLeft}if(g+=x.toppager?(g?",":"")+x.toppager:""){if(s=q("formatter.integer")||{},i=O(x.page),r=O(x.lastpage),$(".selbox",g).prop("disabled",!1),x.pginput===!0){var F=$(".ui-pg-input",g),R=String(x.page).length;F.val(x.page),F.each(function(){var e=parseInt($(this).attr("size"),10);e>0&&e<R&&$(this).attr("size",R)}),d=x.toppager?"#sp_1"+h+",#sp_1"+v:"#sp_1"+h,$(d).html($.fmatter?m(x.lastpage,s):x.lastpage).closest(".ui-pg-table").each(function(){ee.call(c,$(this))})}x.viewrecords&&(0===x.reccount?$(".ui-paging-info",g).html(C("emptyrecords")):(o=a+1,n=x.records,$.fmatter&&(o=m(o,s),l=m(l,s),n=m(n,s)),$(".ui-paging-info",g).html(jgrid.format(C("recordtext"),o,l,n)))),x.pgbuttons===!0&&(r<=0&&(i=0),i<=0&&(i=r=0),1===i||0===i?($("#first"+h+", #prev"+h).addClass(w).removeClass(b),x.toppager&&$("#first_t"+v+", #prev_t"+v).addClass(w).removeClass(b)):($("#first"+h+", #prev"+h).removeClass(w),x.toppager&&$("#first_t"+v+", #prev_t"+v).removeClass(w)),i===r||0===i?($("#next"+h+", #last"+h).addClass(w).removeClass(b),x.toppager&&$("#next_t"+v+", #last_t"+v).addClass(w).removeClass(b)):($("#next"+h+", #last"+h).removeClass(w),x.toppager&&$("#next_t"+v+", #last_t"+v).removeClass(w)))}e===!0&&x.rownumbers===!0&&$(">td.jqgrid-rownum",c.rows).each(function(e){$(this).html(a+1+e)}),t&&x.jqgdnd&&u.jqGrid("gridDnD","updateDnD"),feedback.call(c,"gridComplete"),u.triggerHandler("jqGridAfterGridComplete")},ie=function(){var e=this;e.grid.hDiv.loading=!0,x.hiddengrid||i.progressBar.call($(e),{method:"show",loadtype:x.loadui,htmlcontent:C("loadtext")})},re=function(){var e=this;e.grid.hDiv.loading=!1,i.progressBar.call($(e),{method:"hide",loadtype:x.loadui})},ae=function(e){var t=this,r=$(t),o=t.grid;if(!o.hDiv.loading){var n,d,c=x.scroll&&e===!1,u={},p=x.prmNames;x.page<=0&&(x.page=Math.min(1,x.lastpage)),null!==p.search&&(u[p.search]=x.search),null!==p.nd&&(u[p.nd]=(new Date).getTime()),(isNaN(parseInt(x.rowNum,10))||parseInt(x.rowNum,10)<=0)&&(x.rowNum=x.maxRowNum),null!==p.rows&&(u[p.rows]=x.rowNum),null!==p.page&&(u[p.page]=x.page),null!==p.sort&&(u[p.sort]=x.sortname),null!==p.order&&(u[p.order]=x.sortorder),null!==x.rowTotal&&null!==p.totalrows&&(u[p.totalrows]=x.rowTotal);var g=l(x.loadComplete),h=g?x.loadComplete:null,f=0;if(e=e||1,e>1?null!==p.npage?(u[p.npage]=e,f=e-1,e=1):h=function(i){x.page++,o.hDiv.loading=!1,g&&x.loadComplete.call(t,i),ae.call(t,e-1)}:null!==p.npage&&delete x.postData[p.npage],x.grouping&&i.groupingSetup){i.groupingSetup.call(r);var m,v,b,w,j=x.groupingView,y="";for(m=0;m<j.groupField.length;m++){for(v=j.groupField[m],b=0;b<x.colModel.length;b++)w=x.colModel[b],w.name===v&&w.index&&(v=w.index);y+=v+" "+j.groupOrder[m]+", "}u[p.sort]=y+u[p.sort]}s(x.postData,u);var q=x.scroll?t.rows.length-1:1,C=function(){D.call(t);var e=r.width(),a=r.closest(".ui-jqgrid-view").width(),o=r.css("height");a<e&&0===x.reccount?r.css("height","1px"):"0"!==o&&"0px"!==o&&r.css("height",""),x.autowidth||void 0!==x.widthOrg&&"auto"!==x.widthOrg&&"100%"!==x.widthOrg||i.setGridWidth.call(r,x.tblwidth+x.scrollOffset,!1)},_=function(){var e;if(x.autoresizeOnLoad)i.autoResizeAllColumns.call(r),clearArray(x.columnsToReResizing);else{for(e=0;e<x.columnsToReResizing.length;e++)i.autoResizeColumn.call(r,x.columnsToReResizing[e]);clearArray(x.columnsToReResizing)}},S=function(){feedback.call(t,"loadComplete",d),_(),r.triggerHandler("jqGridAfterLoadComplete",[d]),re.call(t),x.datatype="local",x.datastr=null,C()},F=function(i){r.triggerHandler("jqGridLoadComplete",[i]),h&&h.call(t,i),_(),r.triggerHandler("jqGridAfterLoadComplete",[i]),c&&o.populateVisible.call(t),1===e&&re.call(t),C()},R=function(){var i=Z.call(t);K.call(t,i,q,e>1,f),F(i)};if(!feedback.call(t,"beforeRequest"))return;if(l(x.datatype))return void x.datatype.call(t,x.postData,"load_"+x.id,q,e,f);switch(n=x.datatype.toLowerCase(),$(I.eDiv).hide(),n){case"json":case"jsonp":case"xml":case"script":$.ajax(s({url:x.url,type:x.mtype,dataType:n,data:jgrid.serializeFeedback.call(a,x.serializeGridData,"jqGridSerializeGridData",x.postData),success:function(i,r,a){return x.jqXhr=null,$(I.eDiv).hide(),l(x.beforeProcessing)&&x.beforeProcessing.call(t,i,r,a)===!1?void re.call(t):(K.call(t,i,q,e>1,f),F(i),void((x.loadonce||x.treeGrid)&&(x.dataTypeOrg=x.datatype,x.datatype="local",x.forceClientSorting&&R())))},error:function(i,r,a){x.jqXhr=null,l(x.loadError)&&x.loadError.call(t,i,r,a),1===e&&re.call(t)},beforeSend:function(e,i){var r=!0;return l(x.loadBeforeSend)&&(r=x.loadBeforeSend.call(t,e,i)),void 0===r&&(r=!0),r!==!1&&(x.jqXhr=e,void ie.call(t))}},jgrid.ajaxOptions,x.ajaxGridOptions));break;case"xmlstring":ie.call(t),d="string"==typeof x.datastr?$.parseXML(x.datastr):x.datastr,K.call(t,d),S(),x.forceClientSorting&&R();break;case"jsonstring":ie.call(t),d=x.datastr&&"string"==typeof x.datastr?$.parseJSON(x.datastr):x.datastr,K.call(t,d),S(),x.forceClientSorting&&R();break;case"local":case"clientside":ie.call(t),x.datatype="local",R()}}},oe=function(e){var t=this,i=t.grid;$(x.cb,i.hDiv).prop("checked",e),x.frozenColumns&&$(x.cb,i.fhDiv).prop("checked",e)},le=function(e,t){var i,r,o,l,n,s,d=j("states.hover"),c=j("states.disabled"),u="<td class='ui-pg-button "+c+"'><span class='ui-separator'></span></td>",p="",g="left"===x.pagerpos?"margin-right:auto;":"right"===x.pagerpos?"margin-left:auto;":"margin-left:auto;margin-right:auto;",h="<table style='table-layout:auto;white-space: pre;"+g+"' class='ui-pg-table'><tbody><tr>",f="",m=function(e,t,i){return!!feedback.call(a,"onPaging",e,{newPage:t,currentPage:O(x.page,1),lastPage:O(x.lastpage,1),currentRowNum:O(x.rowNum,10),newRowNum:i})&&(x.selrow=null,x.multiselect&&(x.multiPageSelection||clearArray(x.selarrrow),oe.call(a,!1)),clearArray(x.savedRow),!0)};if(t+="_"+e,i="pg_"+e,r=e+"_left",o=e+"_center",l=e+"_right",$("#"+jqID(e)).append("<div id='"+i+"' class='ui-pager-control' role='group'><table class='ui-pg-table' style='width:100%;table-layout:fixed;height:100%;'><tbody><tr><td id='"+r+"' style='text-align:left;"+(void 0!==x.pagerLeftWidth?"width:"+x.pagerLeftWidth+"px;":"")+"'></td><td id='"+o+"' style='text-align:center;white-space:pre;"+(void 0!==x.pagerCenterWidth?"width:"+x.pagerCenterWidth+"px;":"")+"'></td><td id='"+l+"' style='text-align:right;"+(void 0!==x.pagerRightWidth?"width:"+x.pagerRightWidth+"px;":"")+"'></td></tr></tbody></table></div>").attr("dir","ltr"),i="#"+jqID(i),x.rowList.length>0){f="<td dir='"+k+"'>";var v=C("pgrecs");f+="<select class='"+j("pager.pagerSelect","ui-pg-selbox")+"' "+(v?"title='"+v+"'":"")+">";var b;for(s=0;s<x.rowList.length;s++)b=x.rowList[s].toString().split(":"),1===b.length&&(b[1]=b[0]),f+="<option value='"+b[0]+"'"+(O(x.rowNum,0)===O(b[0],0)?" selected='selected'":"")+">"+b[1]+"</option>";f+="</select></td>"}if("rtl"===k&&(h+=f),x.pginput===!0&&(p="<td dir='"+k+"'>"+jgrid.format(C("pgtext")||"","<input aria-label='Page No.' class='"+j("pager.pagerInput","ui-pg-input")+"' type='text' size='2' maxlength='7' value='0'/>","<span id='sp_1_"+e+"'>0</span>")+"</td>"),e="#"+jqID(e),x.pgbuttons===!0){var y=["first","prev","next","last"],q=j("pager.pagerButton","ui-pg-button"),D=function(e){var i=C("pg"+e);return"<td role='button' tabindex='0' id='"+e+t+"' class='"+q+"' "+(i?"title='"+i+"'":"")+"><span class='"+w("pager."+e)+"'></span></td>"};for("rtl"===k&&y.reverse(),s=0;s<y.length;s++)h+=D(y[s]),1===s&&(h+=""!==p?u+p+u:"")}else""!==p&&(h+=p);"ltr"===k&&(h+=f),h+="</tr></tbody></table>",x.viewrecords===!0&&$("td"+e+"_"+x.recordpos,i).append("<span dir='"+k+"' style='text-align:"+x.recordpos+"' class='ui-paging-info'></span>");var _=$("td"+e+"_"+x.pagerpos,i);_.append(h),n=ee.call(this,_.children(".ui-pg-table")),x._nvtd=[],x._nvtd[0]=n?Math.floor((x.width-n)/2):Math.floor(x.width/3),x._nvtd[1]=0,h=null,$(".ui-pg-selbox",i).bind("change",function(){var e=O(this.value,10),t=Math.round(x.rowNum*(x.page-1)/e-.5)+1;return!!m("records",t,e)&&(x.page=t,x.rowNum=e,x.pager&&$(".ui-pg-selbox",x.pager).val(e),x.toppager&&$(".ui-pg-selbox",x.toppager).val(e),ae.call(a),!1)}),x.pgbuttons===!0&&($(".ui-pg-button",i).hover(function(){hasOneFromClasses(this,c)?this.style.cursor="default":($(this).addClass(d),this.style.cursor="pointer")},function(){hasOneFromClasses(this,c)||($(this).removeClass(d),this.style.cursor="default")}),$("#first"+jqID(t)+", #prev"+jqID(t)+", #next"+jqID(t)+", #last"+jqID(t)).click(function(){if(hasOneFromClasses(this,c))return!1;var e=O(x.page,1),i=e,r=this.id,o=O(x.lastpage,1),l=!1,n=!0,s=!0,d=!0,u=!0;return 0===o||1===o?(e<=1&&(n=!1,s=!1),d=!1,u=!1):o>1&&e>=1?1===e?(n=!1,s=!1):e===o&&(d=!1,u=!1):o>1&&0===e&&(d=!1,u=!1,e=o-1),this.id==="first"+t&&n&&(r="first",i=1,l=!0),this.id==="prev"+t&&s&&(r="prev",i=e-1,l=!0),this.id==="next"+t&&d&&(r="next",i=e+1,l=!0),this.id==="last"+t&&u&&(r="last",i=o,l=!0),!!m(r,i,O(x.rowNum,10))&&(x.page=i,l&&ae.call(a),!1)})),x.pginput===!0&&$("input.ui-pg-input",i).bind("keypress.jqGrid",function(e){var t=e.charCode||e.keyCode||0,i=O($(this).val(),1);return 13===t?!!m("user",i,O(x.rowNum,10))&&($(this).val(i),x.page=$(this).val()>0?$(this).val():x.page,ae.call(a),!1):this}),_.children(".ui-pg-table").bind("keydown.jqGrid",function(e){var t;13===e.which&&(t=_.find(":focus"),t.length>0&&t.trigger("click"))})},ne=function(e,t,i){if(u((x.sortname+" "+x.sortorder).split(","),function(){var t=$.trim(this).split(" ");2===t.length&&e.push(t[0])}),null!=i){var r=$.inArray(i.index||i.name,e);""!==i.lso&&r<0?e.push(i.index||i.name):""===i.lso&&r>=0&&e.splice(r,1)}u(x.colModel,function(){var i,r=this.index||this.name;this.lso&&(i=this.lso.split("-"),$.inArray(r,e)<0&&e.push(r),t[r]=i[i.length-1])})},se=function(e,t){var i,r="",o=x.colModel[e],l=j("states.disabled"),n=$(x.frozenColumns?t:a.grid.headers[e].el),s=n.find("span.s-ico"),d=s.children("span.ui-icon-asc"),c=s.children("span.ui-icon-desc"),p=d,g=c,h=[],f={};n.find("span.ui-grid-ico-sort").addClass(l),n.attr("aria-selected","false"),o.lso?(s.show(),i=o.lso.split("-"),i=i[i.length-1],"desc"===i&&(p=c,g=d),p.removeClass(l).css("display",""),x.showOneSortIcon&&g.hide(),n.attr("aria-selected","true")):x.viewsortcols[0]||s.hide(),ne(h,f,o),u(h,function(){r.length>0&&(r+=", "),r+=this+" "+f[this],x.sortorder=f[this]}),x.sortname=r.substring(0,r.length-x.sortorder.length-1)},de=function(e,t,r,a,o){var l=this,n=l.grid,s=x.colModel[t],d=j("states.disabled");if(null!=s&&s.sortable&&!(x.savedRow.length>0)){if(r||(x.lastsort===t&&""!==x.sortname?("asc"===x.sortorder?x.sortorder="desc":"desc"===x.sortorder?x.sortorder="asc":x.sortorder=s.firstsortorder||"asc",s.lso?"asc"===s.lso?s.lso+="-desc":"desc"===s.lso?s.lso+="-asc":"asc-desc"!==s.lso&&"desc-asc"!==s.lso||!x.threeStateSort&&!x.multiSort||(s.lso=""):s.lso=s.firstsortorder||"asc"):s.lso=x.sortorder=s.firstsortorder||"asc",x.page=1),x.multiSort)se(t,o);else{if(a){if(x.lastsort===t&&x.sortorder===a&&!r)return;x.sortorder=a}var c=n.headers,u=n.fhDiv,p=c[x.lastsort]?$(c[x.lastsort].el):$(),g=$(x.frozenColumns?o:c[t].el),h=g.find("span.s-ico"),f=h.children("span.ui-icon-"+x.sortorder),m=h.children("span.ui-icon-"+("asc"===x.sortorder?"desc":"asc"));s=x.colModel[x.lastsort],p.find("span.ui-grid-ico-sort").addClass(d),p.attr("aria-selected","false"),x.frozenColumns&&(u.find("span.ui-grid-ico-sort").addClass(d),u.find("th").attr("aria-selected","false")),x.viewsortcols[0]||(x.lastsort!==t?(x.frozenColumns&&u.find("span.s-ico").hide(),p.find("span.s-ico").hide(),h.show()):""===x.sortname&&h.show()),x.lastsort!==t&&"true"===p.data("autoResized")&&(null!=s&&null!=s.autoResizing&&s.autoResizing.compact||x.autoResizing.compact)&&x.columnsToReResizing.push(x.lastsort),s=x.colModel[t],h.css("display",""),""!==s.lso?(f.removeClass(d).css("display",""),x.showOneSortIcon&&m.removeClass(d).hide(),g.attr("aria-selected","true")):(g.attr("aria-selected","false"),x.threeStateSort&&(x.sortorder="",x.viewsortcols[0]||h.hide())),x.lastsort!==t&&"true"===g.data("autoResized")&&(null!=s&&null!=s.autoResizing&&s.autoResizing.compact||x.autoResizing.compact)&&x.columnsToReResizing.push(t),e=e.substring(5+x.id.length+1),x.sortname=s.index||e}if(!feedback.call(l,"onSortCol",x.sortname,t,x.sortorder))return void(x.lastsort=t);if("local"===x.datatype?x.deselectAfterSort&&!x.multiPageSelection&&i.resetSelection.call($(l)):x.multiPageSelection||(x.selrow=null,x.multiselect&&(oe.call(l,!1),clearArray(x.selarrrow))),clearArray(x.savedRow),x.scroll){var v=n.bDiv.scrollLeft;I.emptyRows.call(l,!0,!1),n.hDiv.scrollLeft=v}x.subGrid&&"local"===x.datatype&&$("td.sgexpanded","#"+jqID(x.id)).each(function(){$(this).trigger("click")}),ae.call(l),x.lastsort=t,x.sortname!==e&&t&&(x.lastsort=t)}},ce=function(){var e,t,i,r,a=0,o=jgrid.cell_width?0:O(x.cellLayout,0),l=0,n=O(x.scrollOffset,0),s=!1,c=0,p=jgrid.isCellClassHidden;u(x.colModel,function(){if(void 0===this.hidden&&(this.hidden=!1),x.grouping&&x.autowidth){var e=d(this.name,x.groupingView.groupField);e>=0&&x.groupingView.groupColumnShow.length>e&&(this.hidden=!x.groupingView.groupColumnShow[e])}this.widthOrg=t=O(this.width,0),this.hidden!==!1||p(this.classes)||(a+=t+o,this.fixed?c+=t+o:l++)}),isNaN(x.width)&&(x.width=a+(x.shrinkToFit!==!1||isNaN(x.height)?0:n)),I.width=x.width,x.tblwidth=a,x.shrinkToFit===!1&&x.forceFit===!0&&(x.forceFit=!1),x.shrinkToFit===!0&&l>0&&(i=I.width-o*l-c,isNaN(x.height)||(i-=n,s=!0),a=0,u(x.colModel,function(r){this.hidden!==!1||p(this.classes)||this.fixed||(t=Math.round(i*this.width/(x.tblwidth-o*l-c)),this.width=t,a+=t,e=r)}),r=0,s?I.width-c-(a+o*l)!==n&&(r=I.width-c-(a+o*l)-n):s||1===Math.abs(I.width-c-(a+o*l))||(r=I.width-c-(a+o*l)),x.colModel[e].width+=r,x.tblwidth=a+r+o*l+c,x.tblwidth>x.width&&(x.colModel[e].width-=x.tblwidth-parseInt(x.width,10),x.tblwidth=x.width))},ue=function(e){var t,i=e,r=e;for(t=e+1;t<x.colModel.length;t++)if(x.colModel[t].hidden!==!0){r=t;break}return r-i},pe=function(e){return x.iColByName[(e.id||"").substring(x.id.length+1)]};d(x.multikey,M)===-1&&(x.multikey=!1),x.keyName=!1,x.sortorder=x.sortorder.toLowerCase(),jgrid.cell_width=jgrid.cellWidth();var ge,he,fe=jgrid.cmTemplate;for(ge=0;ge<x.colModel.length;ge++)he=x.colModel[ge],T="string"==typeof he.template?null==fe||"object"!=typeof fe[he.template]&&!$.isFunction(fe[he.template])?{}:fe[he.template]:he.template,l(T)&&(T=T.call(a,{cm:he,iCol:ge})),he=s(!0,{},x.cmTemplate,T||{},he),x.keyName===!1&&he.key===!0&&(x.keyName=he.name),x.colModel[ge]=he;for(ge=0;ge<x.additionalProperties.length;ge++)he=x.additionalProperties[ge],x.keyName===!1&&he.key===!0&&(x.keyName=he.name);if(0===x.colNames.length)for(ge=0;ge<x.colModel.length;ge++)x.colNames[ge]=void 0!==x.colModel[ge].label?x.colModel[ge].label:x.colModel[ge].name;if(x.colNames.length!==x.colModel.length)return void h(q("errors.model"));if(x.grouping===!0&&(x.scroll=!1,x.rownumbers=!1,x.treeGrid=!1,x.gridview=!0),x.subGrid)try{i.setSubGrid.call(o)}catch(me){}if(x.multiselect&&("left"===x.multiselectPosition||"right"===x.multiselectPosition)){var ve="left"===x.multiselectPosition?"unshift":"push";x.colNames[ve]("<input id='"+x.cbId+"' class='cbox' type='checkbox' aria-checked='false'/>"),x.colModel[ve]({name:"cb",width:jgrid.cell_width?x.multiselectWidth+x.cellLayout:x.multiselectWidth,labelClasses:"jqgh_cbox",classes:"td_cbox",sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0,frozen:!0})}if(x.rownumbers&&(x.colNames.unshift(""),x.colModel.unshift({name:"rn",width:jgrid.cell_width?x.rownumWidth+x.cellLayout:x.rownumWidth,labelClasses:"jqgh_rn",sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0,frozen:!0})),x.iColByName=_(x.colModel),x.xmlReader=s(!0,{root:"rows",row:"row",page:"rows>page",total:"rows>total",records:"rows>records",repeatitems:!0,cell:"cell",id:"[id]",userdata:"userdata",subgrid:{root:"rows",row:"row",repeatitems:!0,cell:"cell"}},x.xmlReader),x.jsonReader=s(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!0,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},x.jsonReader),x.localReader=s(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!1,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},x.localReader),x.scroll&&(x.pgbuttons=!1,x.pginput=!1,x.rowList=[]),x.treeGrid===!0){try{i.setTreeGrid.call(o)}catch(me){}"local"!==x.datatype&&(x.localReader={id:"_id_"}),x.iPropByName=S(x.additionalProperties)}if(z(),R(),x.data.length&&(U.call(a),Y()),x.shrinkToFit===!0&&x.forceFit===!0)for(ge=x.colModel.length-1;ge>=0;ge--)if(x.colModel[ge].hidden!==!0){x.colModel[ge].resizable=!1;break}var be,we,je,ye,$e,xe,qe,Ce,De=[],_e=[],Se=[],Fe="<thead><tr class='ui-jqgrid-labels' role='row'>",Re="<tbody><tr style='display:none;'>",Ge=j("states.hover"),Oe=j("states.disabled");if(x.multiSort){De=x.sortname.split(",");var Ie;for(Ie=0;Ie<De.length;Ie++)Se=c(De[Ie]).split(" "),De[Ie]=c(Se[0]),_e[Ie]=Se[1]?c(Se[1]):x.sortorder||"asc"}for(ge=0;ge<x.colNames.length;ge++){switch(he=x.colModel[ge],$e=x.headertitles||he.headerTitle?" title='"+stripHtml("string"==typeof he.headerTitle?he.headerTitle:x.colNames[ge])+"'":"",Fe+="<th id='"+x.id+"_"+he.name+"' class='"+j("colHeaders","ui-th-column ui-th-"+k+" "+(he.labelClasses||""))+"'"+$e+">",be=he.index||he.name,he.labelAlign){case"left":xe="text-align:left;";break;case"right":xe="text-align:right;"+(he.sortable===!1?"":"padding-right:"+x.autoResizing.widthOfVisiblePartOfSortIcon+"px;");break;case"likeData":xe=void 0===he.align||"left"===he.align?"text-align:left;":"right"===he.align?"text-align:right;"+(he.sortable===!1?"":"padding-right:"+x.autoResizing.widthOfVisiblePartOfSortIcon+"px;"):"";break;default:xe=""}Fe+="<div id='jqgh_"+x.id+"_"+he.name+"'"+(E?" class='ui-th-div-ie'":"")+(""===xe?"":" style='"+xe+"'")+" role='columnheader'>",Ce=he.autoResizable&&"actions"!==he.formatter?"<span class='"+x.autoResizing.wrapperClassName+"'>"+x.colNames[ge]+"</span>":x.colNames[ge],x.sortIconsBeforeText?(Fe+=(x.builderSortIcons||jgrid.builderSortIcons).call(a,ge),Fe+=Ce):(Fe+=Ce,Fe+=(x.builderSortIcons||jgrid.builderSortIcons).call(a,ge)),Fe+="</div></th>",Re+="<td></td>",he.width=he.width?parseInt(he.width,10):150,"boolean"!=typeof he.title&&(he.title=!0),he.lso="",be===x.sortname&&(x.lastsort=ge,he.lso=x.sortorder||he.firstsortorder||"asc"),x.multiSort&&(Se=d(be,De),Se!==-1&&(he.lso=_e[Se]))}Fe+="</tr></thead>",Re+="</tr></tbody>";var ke=$("<table class='"+j("hTable","ui-jqgrid-htable")+"' style='width:1px' role='presentation' aria-labelledby='gbox_"+x.id+"'>"+Fe+Re+"</table>");if($(ke[0].tHead).children("tr").children("th").hover(function(){$(this).addClass(Ge)},function(){$(this).removeClass(Ge)}),x.multiselect&&$(x.cb,ke).bind("click",function(){var e,t,i=j("states.select"),r=[],o=x.iColByName.cb,l=function(e,t){$(e)[t?"addClass":"removeClass"](i).attr(t?{"aria-selected":"true",tabindex:"0"}:{"aria-selected":"false",tabindex:"-1"}),void 0!==o&&$(e.cells[o]).children("input.cbox").prop("checked",t)},n=I.fbRows,s=Oe+" ui-subgrid jqgroup jqfoot jqgfirstrow jqgskipselect",d=x._index;if(clearArray(x.selarrrow),this.checked){if(e=!0,x.selrow=a.rows.length>1?a.rows[a.rows.length-1].id:null,x.multiPageSelection&&("local"===x.datatype||x.treeGrid)&&null!=x.data&&x.data.length>0&&null!=d)for(t in d)d.hasOwnProperty(t)&&x.selarrrow.push(x.idPrefix+t)}else e=!1,x.selrow=null;var c=e?x.selarrrow:r;$(a.rows).each(function(t){hasOneFromClasses(this,s)||(l(this,e),$.inArray(this.id,c)<0&&c.push(this.id),n&&l(n[t],e))}),feedback.call(a,"onSelectAll",e?x.selarrrow:r,e)}),x.autowidth===!0){var Ne=Math.floor($(A).innerWidth());x.width=Ne>0?Ne:"nw"}isNaN(x.width)?isNaN(parseFloat(x.width))||(x.width=parseFloat(x.width)):x.width=Number(x.width),x.widthOrg=x.width,ce(),$(A).css("width",I.width+"px").append("<div class='"+j("resizer","ui-jqgrid-resize-mark")+"' id='"+x.rsId+"'>&#160;</div>"),$(x.rs).bind("selectstart",function(){return!1}).click(G).dblclick(function(e){var t=$(this).data("idx"),r=$(this).data("pageX"),l=x.colModel[t];if(null==r||null==l)return!1;var n=String(r).split(";"),s=parseFloat(n[0]),d=parseFloat(n[1]);return(2!==n.length||!(Math.abs(s-d)>5||Math.abs(e.pageX-s)>5||Math.abs(e.pageX-d)>5))&&(feedback.call(a,"resizeDblClick",t,l,e)&&l.autoResizable&&i.autoResizeColumn.call(o,t),feedback.call(a,"afterResizeDblClick",{iCol:t,cm:l,cmName:l.name}),!1)}),$(N).css("width",I.width+"px");var Ee="";x.footerrow&&(Ee+="<table role='presentation' style='width:1px' class='"+j("gridFooter","ui-jqgrid-ftable")+"'><tbody><tr role='row' class='"+j("rowFooter","footrow footrow-"+k)+"'>");var Ae="<tr class='jqgfirstrow' role='row' style='height:auto'>";if(x.disableClick=!1,$("th",ke[0].tHead.rows[0]).each(function(e){var t=x.colModel[e],i=t.name,r=$(this),a=r.children("div"),o=a.children("span.s-ico"),l=x.showOneSortIcon;we=t.width,void 0===t.resizable&&(t.resizable=!0),t.resizable?(je=document.createElement("span"),$(je).html("&#160;").addClass("ui-jqgrid-resize ui-jqgrid-resize-"+k).bind("selectstart",function(){return!1}),r.addClass(x.resizeclass)):je="",r.css("width",we+"px").prepend(je),je=null;var n="";if(t.hidden===!0&&(r.css("display","none"),n="display:none;"),Ae+="<td role='gridcell' "+(t.classes?"class='"+t.classes+"' ":"")+"style='height:0;width:"+we+"px;"+n+"'></td>",I.headers[e]={width:we,el:this},ye=t.sortable,"boolean"!=typeof ye&&(t.sortable=!0,ye=!0),"cb"!==i&&"subgrid"!==i&&"rn"!==i&&ye&&x.viewsortcols[2]&&a.addClass("ui-jqgrid-sortable"),ye)if(x.multiSort){var s="desc"===t.lso?"asc":"desc";x.viewsortcols[0]?(o.css("display",""),t.lso&&(o.children("span.ui-icon-"+t.lso).removeClass(Oe),l&&o.children("span.ui-icon-"+s).hide())):t.lso&&(o.css("display",""),o.children("span.ui-icon-"+t.lso).removeClass(Oe),l&&o.children("span.ui-icon-"+s).hide())}else{var d="desc"===x.sortorder?"asc":"desc";x.viewsortcols[0]?(o.css("display",""),e===x.lastsort&&(o.children("span.ui-icon-"+x.sortorder).removeClass(Oe),l&&o.children("span.ui-icon-"+d).hide())):e===x.lastsort&&""!==t.lso&&(o.css("display",""),o.children("span.ui-icon-"+x.sortorder).removeClass(Oe),l&&o.children("span.ui-icon-"+d).hide())}x.footerrow&&(Ee+="<td role='gridcell' "+P(e,0,"",null,"",!1)+">&#160;</td>")}).mousedown(function(e){var t,i=$(this),r=i.closest(".ui-jqgrid-hdiv").hasClass("frozen-div"),a=function(){var e=[i.position().left+i.outerWidth()];return"rtl"===x.direction&&(e[0]=x.width-e[0]),e[0]-=r?0:I.bDiv.scrollLeft,e.push($(I.hDiv).position().top),e.push($(I.bDiv).offset().top-$(I.hDiv).offset().top+$(I.bDiv).height()+(I.sDiv?$(I.sDiv).height():0)),e};if(1===$(e.target).closest("th>span.ui-jqgrid-resize").length)return t=pe(this),null!=t&&(x.forceFit===!0&&(x.nv=ue(t)),I.dragStart(t,e,a(),i)),!1}).click(function(e){if(x.disableClick)return x.disableClick=!1,!1;var t,i,r="th.ui-th-column>div";r+=x.viewsortcols[2]?".ui-jqgrid-sortable":">span.s-ico>span.ui-grid-ico-sort";var o=$(e.target).closest(r);if(1===o.length){x.viewsortcols[2]||(t=!0,i=o.hasClass("ui-icon-desc")?"desc":"asc");var l=pe(this);return null!=l&&de.call(a,$("div",this)[0].id,l,t,i,this),!1}}),x.sortable&&$.fn.sortable)try{i.sortableColumns.call(o,$(ke[0].tHead.rows[0]))}catch(me){}x.footerrow&&(Ee+="</tr></tbody></table>"),Ae+="</tr>",o.html("<tbody>"+Ae+"</tbody>"),o.addClass(j("grid","ui-jqgrid-btable"+(x.altRows===!0&&o.jqGrid("isBootstrapGuiStyle")?" table-striped":"")));var Te=!(!x.caption||x.hiddengrid!==!0),Me=$("<div class='ui-jqgrid-hbox"+("rtl"===k?"-rtl":"")+"'></div>"),ze=j("top"),Be=j("bottom");if(I.hDiv=document.createElement("div"),$(I.hDiv).css({width:I.width+"px"}).addClass(j("hDiv","ui-jqgrid-hdiv")).append(Me).scroll(function(){var e=$(this).next(".ui-jqgrid-bdiv")[0];return e&&(e.scrollLeft=this.scrollLeft),!1}),$(Me).append(ke),ke=null,Te&&$(I.hDiv).hide(),x.rowNum=parseInt(x.rowNum,10),(isNaN(x.rowNum)||x.rowNum<=0)&&(x.rowNum=x.maxRowNum),x.pager){var Pe,Le;"string"==typeof x.pager&&"#"!==x.pager.substr(0,1)?(Le=x.pager,Pe=$("#"+jqID(x.pager))):x.pager===!0?(Le=randId(),Pe=$("<div id='"+Le+"'></div>"),Pe.appendTo("body"),x.pager="#"+jqID(Le)):(Pe=$(x.pager),Le=Pe.attr("id")),Pe.length>0?(Pe.css({width:I.width+"px"}).addClass(j("pager.pager","ui-jqgrid-pager "+Be)).appendTo(A),Te&&Pe.hide(),le.call(a,Le,""),x.pager="#"+jqID(Le)):x.pager=""}x.cellEdit===!1&&x.hoverrows===!0&&o.bind("mouseover",function(e){qe=$(e.target).closest("tr.jqgrow"),"ui-subgrid"!==$(qe).attr("class")&&$(qe).addClass(Ge)}).bind("mouseout",function(e){qe=$(e.target).closest("tr.jqgrow"),$(qe).removeClass(Ge)});var He,Ve,We,Ue=function(e){var t,i,r;do if(t=$(e).closest("td"),t.length>0){if(i=t.parent(),r=i.parent().parent(),i.is(".jqgrow")&&(r[0]===this||r.is("table.ui-jqgrid-btable")&&(r[0].id||"").replace("_frozen","")===this.id))break;e=t.parent()}while(t.length>0);return t};o.before(I.hDiv).click(function(e){var t=j("states.select"),r=e.target,l=Ue.call(this,r),n=l.parent();if(0!==n.length&&!hasOneFromClasses(n,Oe)){He=n[0].id;var s=$(r).hasClass("cbox")&&$(r).is(":enabled")&&!hasOneFromClasses(r,Oe),d=feedback.call(a,"beforeSelectRow",He,e),c=jgrid.detectRowEditing.call(a,He),u=null!=c&&"cellEditing"!==c.mode;if("A"!==r.tagName&&(!u||s))if(Ve=l[0].cellIndex,We=l.html(),feedback.call(a,"onCellSelect",He,Ve,We,e),x.cellEdit!==!0){if(!d)return void(s&&$(r).prop("checked",!1));if(x.multikey)e[x.multikey]?p.call(o,He,!0,e):x.multiselect&&s&&(s=$("#jqg_"+jqID(x.id)+"_"+He).is(":checked"),
$("#jqg_"+jqID(x.id)+"_"+He).prop("checked",!s));else if(x.multiselect&&x.multiboxonly)if(s)p.call(o,He,!0,e);else{var g=x.frozenColumns?x.id+"_frozen":"";$(x.selarrrow).each(function(e,r){var a=i.getGridRowById.call(o,r);a&&$(a).removeClass(t),$("#jqg_"+jqID(x.id)+"_"+jqID(r)).prop("checked",!1),g&&($("#"+jqID(r),"#"+jqID(g)).removeClass(t),$("#jqg_"+jqID(x.id)+"_"+jqID(r),"#"+jqID(g)).prop("checked",!1))}),clearArray(x.selarrrow),p.call(o,He,!0,e)}else{var h=x.selrow;p.call(o,He,!0,e),"toggle"!==x.singleSelectClickMode||x.multiselect||h!==He||(this.grid.fbRows&&(n=n.add(this.grid.fbRows[He])),n.removeClass(t).attr({"aria-selected":"false",tabindex:"-1"}),x.selrow=null)}}else if(x.multiselect&&s&&d)p.call(o,He,!0,e);else{He=n[0].rowIndex;try{i.editCell.call(o,He,Ve,!0)}catch(f){}}}}).bind("reloadGrid",function(e,t){var r=this,a=r.grid,o=$(this);if(x.treeGrid===!0&&(x.datatype=x.treedatatype),t=s({},defaults.reloadGridOptions||{},x.reloadGridOptions||{},t||{}),"local"===x.datatype&&x.dataTypeOrg&&x.loadonce&&t.fromServer&&(x.datatype=x.dataTypeOrg,delete x.dataTypeOrg),t.current&&a.selectionPreserver.call(r),"local"===x.datatype?(x.multiPageSelection||i.resetSelection.call(o),x.data.length&&(U.call(r),Y())):x.treeGrid||x.multiPageSelection||(x.selrow=null,x.multiselect&&(clearArray(x.selarrrow),oe.call(r,!1)),clearArray(x.savedRow)),x.iRow=-1,x.iCol=-1,x.scroll&&I.emptyRows.call(r,!0,!1),t.page){var l=parseInt(t.page,10);l>x.lastpage&&(l=x.lastpage),l<1&&(l=1),x.page=l,a.prevRowHeight?a.bDiv.scrollTop=(l-1)*a.prevRowHeight*x.rowNum:a.bDiv.scrollTop=0}return a.prevRowHeight&&x.scroll&&void 0===t.page?(delete x.lastpage,a.populateVisible.call(r)):a.populate.call(r),x._inlinenav===!0&&o.jqGrid("showAddEditButtons",!1),!1}).dblclick(function(e){var t=Ue.call(this,e.target),i=t.parent();if(t.length>0&&!feedback.call(a,"ondblClickRow",i.attr("id"),i[0].rowIndex,t[0].cellIndex,e))return!1}).bind("contextmenu",function(e){var t=Ue.call(this,e.target),i=t.parent(),r=i.attr("id");if(0!==t.length)return x.multiselect||p.call(o,r,!0,e),!!feedback.call(a,"onRightClickRow",r,i[0].rowIndex,t[0].cellIndex,e)&&void 0}),I.bDiv=document.createElement("div"),E&&"auto"===String(x.height).toLowerCase()&&(x.height="100%"),$(I.bDiv).append($("<div style='position:relative;'></div>").append("<div></div>").append(a)).addClass("ui-jqgrid-bdiv").css({height:x.height+(isNaN(x.height)?"":"px"),width:I.width+"px"}).scroll(I.scrollGrid),x.maxHeight&&$(I.bDiv).css("max-height",x.maxHeight+(isNaN(x.maxHeight)?"":"px")),o.css({width:"1px"}),$.support.tbody||2===$(">tbody",a).length&&$(">tbody:gt(0)",a).remove(),x.multikey&&$(I.bDiv).bind(jgrid.msie?"selectstart":"mousedown",function(){return!1}),Te&&$(I.bDiv).hide(),I.cDiv=document.createElement("div");var Ye=w("gridMinimize.visible"),Xe=w("gridMinimize.hidden"),Qe=C("showhide"),Je=x.hidegrid===!0?$("<a role='link' class='"+j("titleButton","ui-jqgrid-titlebar-close")+"'"+(Qe?" title='"+Qe+"'":"")+"/>").hover(function(){Je.addClass(Ge)},function(){Je.removeClass(Ge)}).append("<span class='"+Ye+"'></span>"):"";if($(I.cDiv).append("<span class='ui-jqgrid-title'>"+x.caption+"</span>").append(Je).addClass(j("gridTitle","ui-jqgrid-titlebar ui-jqgrid-caption"+("rtl"===k?"-rtl ":" ")+ze)),$(I.cDiv).insertBefore(I.hDiv),x.toolbar[0]){I.uDiv=document.createElement("div"),"top"===x.toolbar[1]?$(I.uDiv).insertBefore(I.hDiv):"bottom"===x.toolbar[1]&&$(I.uDiv).insertAfter(I.hDiv);var Ke=j("toolbarUpper","ui-userdata");"both"===x.toolbar[1]?(I.ubDiv=document.createElement("div"),$(I.uDiv).addClass(Ke).attr("id","t_"+x.id).insertBefore(I.hDiv),$(I.ubDiv).addClass(j("toolbarBottom","ui-userdata")).attr("id","tb_"+x.id).insertAfter(I.hDiv),Te&&$(I.ubDiv).hide()):$(I.uDiv).width(I.width).addClass(Ke).attr("id","t_"+x.id),Te&&$(I.uDiv).hide()}if("string"==typeof x.datatype&&(x.datatype=x.datatype.toLowerCase()),x.toppager?(x.toppager=x.id+"_toppager",I.topDiv=$("<div id='"+x.toppager+"'></div>")[0],$(I.topDiv).addClass(j("pager.pager","ui-jqgrid-toppager"+(x.caption?"":" "+ze))).css({width:I.width+"px"}).insertBefore(I.hDiv),le.call(a,x.toppager,"_t"),x.toppager="#"+jqID(x.toppager)):""!==x.pager||x.scroll||(x.rowNum=x.maxRowNum),x.footerrow&&(I.sDiv=$("<div class='ui-jqgrid-sdiv'></div>")[0],Me=$("<div class='ui-jqgrid-hbox"+("rtl"===k?"-rtl":"")+"'></div>"),$(I.sDiv).append(Me).width(I.width).insertAfter(I.hDiv),$(Me).append(Ee),I.footers=$(".ui-jqgrid-ftable",I.sDiv)[0].rows[0].cells,x.rownumbers&&(I.footers[0].className=j("rowNum","jqgrid-rownum")),Te&&$(I.sDiv).hide()),Me=null,x.caption){var Ze=x.datatype;x.hidegrid===!0&&($(".ui-jqgrid-titlebar-close",I.cDiv).click(function(e){var t=".ui-jqgrid-bdiv,.ui-jqgrid-hdiv,.ui-jqgrid-pager,.ui-jqgrid-sdiv",i=this;x.toolbar[0]===!0&&("both"===x.toolbar[1]&&(t+=",#"+jqID($(I.ubDiv).attr("id"))),t+=",#"+jqID($(I.uDiv).attr("id")));var r=$(t,x.gView).length;return x.toppager&&(t+=","+x.toppager),"visible"===x.gridstate?$(t,x.gBox).slideUp("fast",function(){r--,0===r&&($("span",i).removeClass(Ye).addClass(Xe),x.gridstate="hidden",$(x.gBox).hasClass("ui-resizable")&&$(".ui-resizable-handle",x.gBox).hide(),$(I.cDiv).addClass(Be),Te||feedback.call(a,"onHeaderClick",x.gridstate,e))}):"hidden"===x.gridstate&&($(I.cDiv).removeClass(Be),$(t,x.gBox).slideDown("fast",function(){r--,0===r&&($("span",i).removeClass(Xe).addClass(Ye),Te&&(x.datatype=Ze,ae.call(a),Te=!1),x.gridstate="visible",$(x.gBox).hasClass("ui-resizable")&&$(".ui-resizable-handle",x.gBox).show(),Te||feedback.call(a,"onHeaderClick",x.gridstate,e))})),!1}),Te&&(x.datatype="local",$(".ui-jqgrid-titlebar-close",I.cDiv).trigger("click")))}else $(I.cDiv).hide(),$(I.cDiv).nextAll("div:visible").first().addClass("ui-corner-top");$(I.hDiv).after(I.bDiv),I.eDiv=$("<div class='"+j("gridError","ui-jqgrid-errorbar ui-jqgrid-errorbar-"+k)+"' style='display:none;'><span class='"+j("gridErrorText","ui-jqgrid-error")+"'></span></div>")[0],$(I.hDiv).after(I.eDiv),$(A).click(G).dblclick(function(e){var t=$(x.rs),r=t.offset(),l=t.data("idx"),n=t.data("delta"),s=x.colModel[l],d=$(this).data("pageX")||t.data("pageX");if(null==d||null==s)return!1;var c=String(d).split(";"),u=parseFloat(c[0]),p=parseFloat(c[1]);return(2!==c.length||!(Math.abs(u-p)>5||Math.abs(e.pageX-u)>5||Math.abs(e.pageX-p)>5))&&(feedback.call(a,"resizeDblClick",l,s)&&r.left-1<=e.pageX+n&&e.pageX+n<=r.left+t.outerWidth()+1&&s.autoResizable&&i.autoResizeColumn.call(o,l),feedback.call(a,"afterResizeDblClick",{iCol:l,cm:s,cmName:s.name}),!1)}),x.pager||$(I.cDiv).nextAll("div:visible").filter(":last").addClass(Be),$(".ui-jqgrid-labels",I.hDiv).bind("selectstart",function(){return!1}),a.formatCol=P,a.sortData=de,a.updatepager=te,a.refreshIndex=Y,a.setHeadCheckBox=oe,a.fixScrollOffsetAndhBoxPadding=D,a.constructTr=X,a.formatter=V,s(I,{populate:ae,emptyRows:W,beginReq:ie,endReq:re}),a.addXmlData=K,a.addJSONData=K,a.rebuildRowIndexes=F,a.grid.cols=a.rows[0].cells,feedback.call(a,"onInitGrid"),x.treeGrid&&"local"===x.datatype&&null!=x.data&&x.data.length>0&&(x.datatype="jsonstring",x.datastr=x.data,x.data=[]),ae.call(a),x.hiddengrid=!1}})};var base=$.fn.jqGrid;jgrid.extend({getGridRes:function(e){var t=this[0];if(!t||!t.grid||!t.p)return null;var i=jgrid.getRes(locales[t.p.locale],e)||jgrid.getRes(locales["en-US"],e),r=jgrid.getRes(jgrid,e);return"object"!=typeof i||null===i||$.isArray(i)?void 0!==r?r:i:$.extend(!0,{},i,r||{})},getGuiStyles:function(e,t){var i=this instanceof $&&this.length>0?this[0]:this;if(!i||!i.grid||!i.p)return"";var r,a=i.p,o=a.guiStyle||jgrid.defaults.guiStyle||"jQueryUI",l=jgrid.getRes(jgrid.guiStyles[o],e);return void 0===l&&(r=jgrid.getRes(jgrid.guiStyles[o],"baseGuiStyle"),"string"==typeof r&&(l=jgrid.getRes(jgrid.guiStyles[r],e))),jgrid.mergeCssClasses(l||"",t||"")},isBootstrapGuiStyle:function(){return $.inArray("ui-jqgrid-bootstrap",$(this).jqGrid("getGuiStyles","gBox").split(" "))>=0},displayErrorMessage:function(e){var t=this instanceof $&&this.length>0?this[0]:this;if(t&&t.grid&&t.p&&e){var i=$(t.grid.eDiv),r=i.children(".ui-jqgrid-error");r.html(e),i.show(),t.p.errorDisplayTimeout&&setTimeout(function(){r.empty(),i.hide()},t.p.errorDisplayTimeout)}},getIconRes:function(e){var t=this instanceof $&&this.length>0?this[0]:this;if(!t||!t.p)return"";var i=t.p,r=jgrid.icons[i.iconSet],a=function(e,t){var i,r,a,o=t.split("."),l=o.length,n=[];if(e="string"==typeof e?jgrid.icons[e]:e,null==e)return"";for(i=e,i.common&&n.push(i.common),a=0;a<l&&(r=o[a],r);a++){if(i=i[r],void 0===i){if("common"===r)break;return""}if("string"==typeof i){n.push(i);break}null!=i&&i.common&&n.push(i.common)}return jgrid.mergeCssClasses.apply(this,n)};if(null==r)return"";var o=a(i.iconSet,e);return""===o&&null!=r.baseIconSet&&(o=a(r.baseIconSet,e)),o||""},isInCommonIconClass:function(e){var t=this instanceof $&&this.length>0?this[0]:this;if(!t||!t.p)return"";var i=t.p,r=jgrid.icons[i.iconSet];if(null==r)return!1;var a=r.common;if(void 0===a){if(null==r.baseIconSet)return!1;if(r=jgrid.icons[r.baseIconSet],null==r)return!1;a=r.common}return"string"==typeof a&&$.inArray(e,a.split(" "))>=0},getGridParam:function(e){var t=this[0];return t&&t.grid?e?void 0!==t.p[e]?t.p[e]:null:t.p:null},setGridParam:function(e,t){return this.each(function(){var i=this;if(null==t&&(t=!1),i.grid&&"object"==typeof e)if(t===!0){var r=$.extend({},i.p,e);i.p=r}else $.extend(!0,i.p,e)})},abortAjaxRequest:function(){return this.each(function(){var e=this;null!=e.p.jqXhr&&e.p.jqXhr.abort(),e.grid.endReq.call(e)})},getGridRowById:function(e){if(null==e)return null;var t,i=e.toString();return this.each(function(){var r,a,o,l=this.rows;if(null!=this.p.rowIndexes&&(o=this.p.rowIndexes[i],a=l[o],a&&a.id===i&&(t=a)),!t)try{for(r=l.length;r--;)if(a=l[r],i===a.id){t=a;break}}catch(n){t=$(this.grid.bDiv).find("#"+jqID(e)),t=t.length>0?t[0]:null}}),t},getDataIDs:function(){var e=[];return this.each(function(){var t,i,r=this.rows,a=r.length;if(a&&a>0)for(t=0;t<a;t++)i=r[t],$(i).hasClass("jqgrow")&&e.push(i.id)}),e},setSelection:function(e,t,i){return this.each(function(){function r(e,t){var i=t.clientHeight,r=t.scrollTop,a=$(e).position().top,o=e.clientHeight;a+o>=i+r?t.scrollTop=a-(i+r)+o+r:a<i+r&&a<r&&(t.scrollTop=a)}var a,o,l,n,s,d,c,u=this,p=$(u),g=u.p,h=base.getGuiStyles,f=base.getGridRowById,m=h.call(p,"states.select"),v=h.call(p,"states.disabled"),b=u.grid.fbRows,w=function(e,t){var i=t?"addClass":"removeClass",r=g.iColByName.cb,a=t?{"aria-selected":"true",tabindex:"0"}:{"aria-selected":"false",tabindex:"-1"},o=function(e){$(e)[i](m).attr(a),void 0!==r&&$(e.cells[r]).children("input.cbox").prop("checked",t)};o(e),b&&o(b[e.rowIndex])};void 0!==e&&(t=t!==!1,null!=i&&(c=$(i.target).closest("tr.jqgrow"),c.length>0&&(o=c[0],b&&(o=u.rows[o.rowIndex]))),null==o&&(o=f.call(p,e)),!o||!o.className||o.className.indexOf(v)>-1||(g.scrollrows===!0&&(l=f.call(p,e),null!=l&&(l=l.rowIndex,l>=0&&r(u.rows[l],u.grid.bDiv))),g.multiselect?(u.setHeadCheckBox(!1),g.selrow=o.id,n=$.inArray(g.selrow,g.selarrrow),n===-1?(a=!0,g.selarrrow.push(g.selrow)):null!==jgrid.detectRowEditing.call(u,o.id)?a=!0:(a=!1,g.selarrrow.splice(n,1),s=g.selarrrow[0],g.selrow=void 0===s?null:s),"ui-subgrid"!==o.className&&w(o,a),t&&feedback.call(u,"onSelectRow",o.id,a,i)):"ui-subgrid"!==o.className&&(g.selrow!==o.id?(null!==g.selrow&&(d=f.call(p,g.selrow),d&&w(d,!1)),w(o,!0),a=!0):a=!1,g.selrow=o.id,t&&feedback.call(u,"onSelectRow",o.id,a,i))))})},resetSelection:function(e){return this.each(function(){var t,i=this,r=$(this),a=i.p,o=base.getGuiStyles,l=base.getGridRowById,n=o.call(r,"states.select"),s="edit-cell "+n,d="selected-row "+o.call(r,"states.hover"),c=a.iColByName.cb,u=void 0!==c,p=i.grid.fbRows,g=function(e){var t,i="removeClass",r={"aria-selected":"false",tabindex:"-1"};$(e)[i](n).attr(r),u&&$(e.cells[c]).children("input.cbox").prop("checked",!1),p&&(t=p[e.rowIndex],$(t)[i](n).attr(r),u&&$(t.cells[c]).children("input.cbox").prop("checked",!1))};if(void 0!==e){if(t=l.call(r,e),g(t),u){i.setHeadCheckBox(!1);var h=$.inArray(e,a.selarrrow);h!==-1&&a.selarrrow.splice(h,1)}}else a.multiselect?($(i.rows).each(function(){var e=$.inArray(this.id,a.selarrrow);e!==-1&&(g(this),a.selarrrow.splice(e,1))}),i.setHeadCheckBox(!1),a.multiPageSelection||clearArray(a.selarrrow),a.selrow=null):a.selrow&&(t=l.call(r,a.selrow),g(t),a.selrow=null);a.cellEdit===!0&&parseInt(a.iCol,10)>=0&&parseInt(a.iRow,10)>=0&&(t=i.rows[a.iRow],null!=t&&($(t.cells[a.iCol]).removeClass(s),$(t).removeClass(d)),p&&(t=p[a.iRow],null!=t&&($(t.cells[a.iCol]).removeClass(s),$(t).removeClass(d)))),clearArray(a.savedRow)})},getRowData:function(e,t){var i,r={};return"object"==typeof e&&(t=e,e=void 0),t=t||{},this.each(function(){var a,o,l,n,s,d,c=this,u=c.p,p=!1,g=2,h=0,f=c.rows;if(void 0===e)p=!0,i=[],g=f.length;else if(a=base.getGridRowById.call($(c),e),!a)return r;for(;h<g;){if(p&&(a=f[h]),$(a).hasClass("jqgrow")){for(l=$("td[role=gridcell]",a),o=0;o<l.length;o++)if(n=u.colModel[o],s=n.name,!("cb"===s||"subgrid"===s||"rn"===s||"actions"===n.formatter||t.skipHidden&&n.hidden))if(d=l[o],u.treeGrid===!0&&s===u.ExpandColumn)r[s]=htmlDecode($("span",d).first().html());else try{r[s]=$.unformat.call(c,d,{rowId:a.id,colModel:n},o)}catch(m){r[s]=htmlDecode($(d).html())}!t.includeId||u.keyName!==!1&&null!=r[u.keyName]||(r[u.prmNames.id]=stripPref(u.idPrefix,a.id)),p&&(i.push(r),r={})}h++}}),i||r},delRowData:function(e){var t,i,r,a=!1;return this.each(function(){var o=this,l=o.p;if(t=base.getGridRowById.call($(o),e),!t)return!1;if(l.subGrid&&(r=$(t).next(),r.hasClass("ui-subgrid")&&r.remove()),$(t).remove(),l.records--,l.reccount--,o.updatepager(!0,!1),a=!0,l.multiselect&&(i=$.inArray(e,l.selarrrow),i!==-1&&l.selarrrow.splice(i,1)),l.multiselect&&l.selarrrow.length>0?l.selrow=l.selarrrow[l.selarrrow.length-1]:l.selrow===e&&(l.selrow=null),"local"===l.datatype){var n=stripPref(l.idPrefix,e),s=l._index[n];void 0!==s&&(l.data.splice(s,1),o.refreshIndex())}if(o.rebuildRowIndexes(),l.altRows===!0&&a&&!$(o).jqGrid("isBootstrapGuiStyle")){var d=l.altclass,c=o.grid.fbRows;$(o.rows).each(function(e){var t=$(this);c&&(t=t.add(c[this.rowIndex])),t[e%2===0?"addClass":"removeClass"](d)})}feedback.call(o,"afterDelRow",e)}),a},setRowData:function(e,t,i){var r=!0;return this.each(function(){var a,o=this,l=o.p,n=typeof i,s={};if(!o.grid)return!1;if(a=base.getGridRowById.call($(o),e),!a)return!1;if(t)try{var d,c=stripPref(l.idPrefix,e),u=l._index[c],p={},g=null!=u?l.data[u]:void 0;if($(l.colModel).each(function(e){var i=this,r=i.name,a=getAccessor(t,r);void 0!==a&&("local"===l.datatype&&null!=g&&(a=convertOnSaveLocally.call(o,a,i,g[r],c,g,e),$.isFunction(i.saveLocally)?i.saveLocally.call(o,{newValue:a,newItem:s,oldItem:g,id:c,cm:i,cmName:r,iCol:e}):s[r]=a),p[r]=a)}),$(l.colModel).each(function(i){var r,n=this,d=n.name,c=getAccessor(t,d),u=$(a.cells[i]);if(void 0!==c){"local"===l.datatype&&null!=g&&(c=s[d]),r=n.title?{title:c}:{},c=o.formatter(e,c,i,t,"edit",p);var h=u;l.treeGrid===!0&&d===l.ExpandColumn&&(h=h.children("span.cell-wrapperleaf,span.cell-wrapper").first()),h.html(c),u.attr(r),l.frozenColumns&&(h=$(o.grid.fbRows[a.rowIndex].cells[i]),l.treeGrid===!0&&d===l.ExpandColumn&&(h=h.children("span.cell-wrapperleaf,span.cell-wrapper").first()),h.html(c).attr(r))}}),"local"===l.datatype){if(l.treeGrid)for(d in l.treeReader)l.treeReader.hasOwnProperty(d)&&delete s[l.treeReader[d]];void 0!==g&&(l.data[u]=$.extend(!0,g,s))}feedback.call(o,"afterSetRow",{rowid:e,inputData:t,iData:u,iRow:a.rowIndex,tr:a,localData:s,cssProp:i})}catch(h){r=!1}r&&("string"===n?$(a).addClass(i):null!==i&&"object"===n&&$(a).css(i))}),r},addRowData:function(e,t,i,r){$.inArray(i,["first","last","before","after","afterSelected","beforeSelected"])<0&&(i="last");var a,o,l,n,s,d,c,u,p,g,h,f=!1;return t&&($.isArray(t)?(d=!0,c=e):(t=[t],d=!1),this.each(function(){var m,v=this,b=v.p,w=t.length,j=$(v),y=v.rows,x=0,q=base.getGridRowById,C=b.colModel,D=b.additionalProperties;for(d||(void 0!==e?e=String(e):(e=randId(),b.keyName!==!1&&(c=b.keyName,void 0!==t[0][c]&&(e=t[0][c])))),u=b.altclass;x<w;){if(p=t[x],o=[],d)try{e=p[c],void 0===e&&(e=randId())}catch(_){e=randId()}for(h=e,m={},n=0;n<C.length;n++)g=C[n],a=g.name,"rn"!==a&&"cb"!==a&&"subgrid"!==a&&(s=convertOnSaveLocally.call(v,p[a],g,void 0,h,{},n),$.isFunction(g.saveLocally)?g.saveLocally.call(v,{newValue:s,newItem:m,oldItem:{},id:h,cm:g,cmName:a,iCol:n}):void 0!==s&&(m[a]=s));for(n=0;n<D.length;n++)a=D[n],"object"==typeof a&&a.hasOwnProperty("name")&&(a=a.name),s=getAccessor(p,a),void 0!==s&&(m[a]=s);if("local"===b.datatype&&(m[b.localReader.id]=h,b._index[h]=b.data.length,b.data.push(m)),o=jgrid.parseDataToHtml.call(v,1,[e],[p]),o=o.join(""),0===y.length)$(v.tBodies[0]).append(o);else switch("afterSelected"!==i&&"beforeSelected"!==i||(void 0===r&&null!==b.selrow?(r=b.selrow,i="afterSelected"===i?"after":"before"):i="afterSelected"===i?"last":"first"),i){case"last":$(y[y.length-1]).after(o),l=y.length-1;break;case"first":$(y[0]).after(o),l=1;break;case"after":l=q.call(j,r),l&&($(y[l.rowIndex+1]).hasClass("ui-subgrid")?($(y[l.rowIndex+1]).after(o),l=l.rowIndex+2):($(l).after(o),l=l.rowIndex+1));break;case"before":l=q.call(j,r),l&&($(l).before(o),l=l.rowIndex-1)}b.subGrid===!0&&base.addSubGrid.call(j,b.iColByName.subgrid,l),b.records++,b.reccount++,0===b.lastpage&&(b.lastpage=1),feedback.call(v,"afterAddRow",{rowid:e,inputData:t,position:i,srcRowid:r,iRow:l,localData:m,iData:b.data.length-1}),x++}b.altRows!==!0||d||j.jqGrid("isBootstrapGuiStyle")||("last"===i?(y.length-1)%2===0&&$(y[y.length-1]).addClass(u):$(y).each(function(e){e%2===1?$(this).addClass(u):$(this).removeClass(u)})),v.rebuildRowIndexes(),v.updatepager(!0,!0),f=!0})),f},footerData:function(e,t,i){function r(e){var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}var a=!1,o={};return null==e&&(e="get"),"boolean"!=typeof i&&(i=!0),e=e.toLowerCase(),this.each(function(){var l,n,s,d,c=this,u=c.p;if(!c.grid||!u.footerrow)return!1;if("set"===e&&r(t))return!1;a=!0;var p=$(c.grid.sDiv).children(".ui-jqgrid-hbox").children(".ui-jqgrid-ftable")[0];if(null==p||null==p.rows)return!1;var g=p.rows[0].cells,h=null==c.grid.fsDiv?{}:c.grid.fsDiv.children(".ui-jqgrid-ftable")[0].rows[0].cells;for(s in t)d=u.iColByName[s],t.hasOwnProperty(s)&&void 0!==d&&("get"===e?o[s]=$(g[d]).html():"set"===e&&(l=i?c.formatter("",t[s],d,t,"edit"):t[s],n=$(g[d]).add(h[d]),n.html(l),u.colModel[d].title&&n.attr({title:stripHtml(l)})))}),"get"===e?o:a},showHideCol:function(e,t,i){return this.each(function(){var r,a=this,o=$(a),l=a.grid,n=!1,s=a.p,d=jgrid.cell_width?0:s.cellLayout;if(l){"string"==typeof e&&(e=[e]),t="none"!==t&&t!==!1?"":"none",i=i||{};var c=""===t,u=s.groupHeader,p=u&&("object"==typeof u||$.isFunction(u));if(p&&!i.skipSetGroupHeaders&&base.destroyGroupHeader.call(o,!1),$(s.colModel).each(function(o){if($.inArray(this.name,e)!==-1&&this.hidden===c){if(s.frozenColumns===!0&&this.frozen===!0&&!i.notSkipFrozen)return!0;var u=$(l.hDiv).find(".ui-jqgrid-htable>thead>tr");s.frozenColumns===!0&&null!=l.fhDiv&&(u=u.add($(l.fhDiv).find(".ui-jqgrid-htable>thead>tr"))),u.each(function(){$(this.cells[o]).css("display",t)}),u=$(a.rows),s.frozenColumns===!0&&null!=l.fbRows&&(u=u.add(l.fbRows)),u.each(function(){var e=this.cells[o];(!$(this).hasClass("jqgroup")||null!=e&&1===e.colSpan)&&$(e).css("display",t)}),s.footerrow&&(u=$(l.sDiv).find("tr.footrow"),s.frozenColumns===!0&&null!=l.fsDiv&&(u=u.add($(l.fsDiv).find("tr.footrow"))),u.each(function(){$(this.cells[o]).css("display",t)})),r=parseInt(this.width,10),"none"===t?s.tblwidth-=r+d:s.tblwidth+=r+d,this.hidden=!c,n=!0,i.skipFeedback?(i.toReport=i.toReport||{},i.toReport[this.name]=c):feedback.call(a,"onShowHideCol",c,this.name,o)}}),n===!0){var g=s.autowidth||void 0!==s.widthOrg&&"auto"!==s.widthOrg&&"100%"!==s.widthOrg?s.width:s.tblwidth+parseInt(s.scrollOffset,10);i.skipSetGridWidth?i.newGridWidth=g:base.setGridWidth.call(o,g)}if(p&&!i.skipSetGroupHeaders)if(null!=s.pivotOptions&&null!=s.pivotOptions.colHeaders&&s.pivotOptions.colHeaders.length>1){var h,f=s.pivotOptions.colHeaders;for(h=0;h<f.length;h++)f[h]&&f[h].groupHeaders.length&&base.setGroupHeaders.call(o,f[h])}else base.setGroupHeaders.call(o,s.groupHeader)}})},hideCol:function(e,t){return this.each(function(){base.showHideCol.call($(this),e,"none",t)})},showCol:function(e,t){return this.each(function(){base.showHideCol.call($(this),e,"",t)})},remapColumns:function(e,t,i){function r(){var t,i=[],r=[],a=e.length;for(t=0;t<a;t++)h&&e[t]<f?i.push(e[t]):r.push(e[t]);return i.concat(r)}function a(e){var t=e.length?g(e):$.extend({},e);$.each(d,function(i){e[i]=t[this]})}function o(e,t){var i=t?e.children(t):e.children();i.each(function(){var e=this,t=g(e.cells);$.each(d,function(i){var r=t[this],a=e.cells[i];null!=r&&null!=a&&r.cellIndex!==i&&r.parentNode.insertBefore(r,a)})})}var l,n,s,d,c=this[0],u=c.p,p=c.grid,g=$.makeArray,h=u.frozenColumns===!0,f=this.jqGrid("getNumberOfFrozenColumns");if(null!=p&&null!=u){for(d=r(),a(u.colModel),a(u.colNames),a(p.headers),s=$(p.hDiv).children("div").children("table.ui-jqgrid-htable").children("thead"),h&&null!=p.fhDiv&&(s=s.add(p.fhDiv.children("table.ui-jqgrid-htable").children("thead"))),o(s,i&&":not(.ui-jqgrid-labels)"),t&&(s=$(c.tBodies[0]),h&&null!=p.fbDiv&&(s=s.add(p.fbDiv.children("table.ui-jqgrid-btable").children("tbody").first())),o(s,"tr.jqgfirstrow,tr.jqgrow,tr.jqfoot")),u.footerrow&&(s=$(p.sDiv).children("div").children("table.ui-jqgrid-ftable").children("tbody").first(),h&&null!=p.fsDiv&&(s=s.add(p.fsDiv.children("table.ui-jqgrid-ftable").children("tbody").first())),o(s)),u.remapColumns&&(u.remapColumns.length?a(u.remapColumns):u.remapColumns=g(d)),u.lastsort=$.inArray(u.lastsort,d),u.iColByName={},l=0,n=u.colModel.length;l<n;l++)u.iColByName[u.colModel[l].name]=l;feedback.call(c,"onRemapColumns",d,t,i)}},remapColumnsByName:function(e,t,i){var r,a,o=this[0],l=o.p,n=[],s=e.slice(),d=$.inArray;for(l.subGrid&&d("subgrid",s)<0&&s.unshift("subgrid"),l.multiselect&&d("cb",s)<0&&s.unshift("cb"),l.rownumbers&&d("rn",s)<0&&s.unshift("rn"),r=0,a=s.length;r<a;r++)n.push(l.iColByName[s[r]]);return base.remapColumns.call(this,n,t,i),this},setGridWidth:function(e,t){return this.each(function(){var i,r,a,o,l=this,n=l.p,s=l.grid,d=0,c=0,u=!1,p=0,g=jgrid.isCellClassHidden,h=e;if(s&&null!=n){l.fixScrollOffsetAndhBoxPadding();var f,m,v,b,w,j=n.colModel,y=n.scrollOffset,x=jgrid.cell_width?0:n.cellLayout,q=s.headers,C=s.footers,D=s.bDiv,_=s.hDiv,S=s.sDiv,F=s.cols,R=$(_).find(">div>.ui-jqgrid-htable>thead>tr").first()[0].cells,G=function(e){s.width=n.width=e,$(n.gBox).css("width",e+"px"),$(n.gView).css("width",e+"px"),$(D).css("width",e+"px"),$(_).css("width",e+"px"),n.pager&&$(n.pager).css("width",e+"px"),n.toppager&&$(n.toppager).css("width",e+"px"),n.toolbar[0]===!0&&($(s.uDiv).css("width",e+"px"),"both"===n.toolbar[1]&&$(s.ubDiv).css("width",e+"px")),n.footerrow&&$(S).css("width",e+"px")};if("boolean"!=typeof t&&(t=n.shrinkToFit),!isNaN(h)){if(h=parseInt(h,10),G(h),t===!1&&n.forceFit===!0&&(n.forceFit=!1),t===!0){if($.each(j,function(){this.hidden!==!1||g(this.classes)||(i=this.widthOrg,d+=i+x,this.fixed?p+=this.width+x:c++)}),0===c)return;if(n.tblwidth=parseInt(d,10),a=h-x*c-p,isNaN(n.height)||(D.clientHeight<D.scrollHeight||1===l.rows.length)&&(u=!0,a-=y),w=a/(n.tblwidth-x*c-p),w<0)return;if(d=0,b=F.length>0,$.each(j,function(e){this.hidden!==!1||g(this.classes)||this.fixed||(i=Math.round(this.widthOrg*w),this.width=i,d+=i,q[e].width=i,R[e].style.width=i+"px",n.footerrow&&(C[e].style.width=i+"px"),b&&(F[e].style.width=i+"px"),r=e)}),!r)return;o=0,u?h-p-(d+x*c)!==y&&(o=h-p-(d+x*c)-y):1!==Math.abs(h-p-(d+x*c))&&(o=h-p-(d+x*c)),f=j[r],f.width+=o,n.tblwidth=parseInt(d+o+x*c+p,10),n.tblwidth>h&&(v=n.tblwidth-parseInt(h,10),n.tblwidth=h,f.width=f.width-v),i=f.width,m=q[r],m.width=i,R[r].style.width=i+"px",b&&(F[r].style.width=i+"px"),n.footerrow&&(C[r].style.width=i+"px"),n.tblwidth+(u?y:0)<n.width&&G(n.tblwidth+(u?y:0)),D.offsetWidth>D.clientWidth&&(n.autowidth||void 0!==n.widthOrg&&"auto"!==n.widthOrg&&"100%"!==n.widthOrg||G(D.offsetWidth))}n.tblwidth&&(n.tblwidth=parseInt(n.tblwidth,10),h=n.tblwidth,_.scrollLeft=D.scrollLeft,v=Math.abs(h-n.width),n.shrinkToFit&&!t&&v<3&&v>0&&(h<n.width&&G(h),D.offsetWidth>D.clientWidth&&(n.autowidth||void 0!==n.widthOrg&&"auto"!==n.widthOrg&&"100%"!==n.widthOrg||G(D.offsetWidth)))),l.fixScrollOffsetAndhBoxPadding();var O={resizeDiv:!0,resizedRows:{iRowStart:t?0:-1,iRowEnd:-1}};$(l).triggerHandler("jqGridResetFrozenHeights",[{header:O,resizeFooter:!0,body:O}])}}})},setGridHeight:function(e){return this.each(function(){var t=this,i=t.grid,r=t.p;if(i){var a=$(i.bDiv);a.css({height:e+(isNaN(e)?"":"px")}),r.frozenColumns===!0&&$(r.idSel+"_frozen").parent().height(a.height()-16),r.height=e,r.scroll&&i.populateVisible.call(t),t.fixScrollOffsetAndhBoxPadding(),$(t).triggerHandler("jqGridResetFrozenHeights")}})},setCaption:function(e){return this.each(function(){var t=this,i=t.grid.cDiv;t.p.caption=e,$("span.ui-jqgrid-title, span.ui-jqgrid-title-rtl",i).html(e),$(i).show(),$(i).nextAll("div").removeClass(base.getGuiStyles.call(t,"top")),$(this).triggerHandler("jqGridResetFrozenHeights")})},setLabel:function(e,t,i,r){return this.each(function(){var a,o,l=this,n=l.p;if(l.grid){if(isNaN(e)){if(a=n.iColByName[e],void 0===a)return}else a=parseInt(e,10);a>=0&&(o=$(l.grid.headers[a].el),n.frozenColumns&&(o=o.add(l.grid.fhDiv.find(".ui-jqgrid-htable tr.ui-jqgrid-labels th.ui-th-column").eq(a))),t&&(o.each(function(){var e=$("[id^=jqgh_]",this),i=e.children("span.ui-jqgrid-cell-wrapper");if(i.length>0)i.html(t);else{var r=$(".s-ico",this);e.empty().html(t)[n.sortIconsBeforeText?"prepend":"append"](r)}}),n.colNames[a]=t),i&&("string"==typeof i?o.addClass(i):o.css(i)),"object"==typeof r&&o.attr(r))}})},setCell:function(e,t,i,r,a,o){return this.each(function(){var l,n,s,d,c,u,p,g,h,f,m=this,v=m.p,b=-1,w=v.colModel,j={};if(m.grid&&(b=isNaN(t)?v.iColByName[t]:parseInt(t,10),b>=0&&(c=base.getGridRowById.call($(m),e)))){if(u=jgrid.getCell.call(m,c,b),""!==i||o===!0){if(s=w[b],"local"===v.datatype&&(h=stripPref(v.idPrefix,e),f=v._index[h],void 0!==f&&(d=v.data[f])),null==d){for(n=0;n<c.cells.length;n++)if(n!==b&&(p=jgrid.getDataFieldOfCell.call(m,c,n),p.length>0)){try{g=$.unformat.call(m,p,{rowId:e,colModel:w[n]},n)}catch(y){g=htmlDecode(p[0].innerHTML)}j[w[n].name]=g}}else j=d;j[s.name]=i,l=m.formatter(e,i,b,j,"edit");var x=u;v.treeGrid===!0&&s.name===v.ExpandColumn&&(x=x.children("span.cell-wrapperleaf,span.cell-wrapper").first()),x.html(l),s.title&&u.attr({title:i}),null!=d&&(l=convertOnSaveLocally.call(m,i,s,d[s.name],h,d,b),$.isFunction(s.saveLocally)?s.saveLocally.call(m,{newValue:l,newItem:d,oldItem:d,id:h,cm:s,cmName:s.name,iCol:b}):d[s.name]=l)}(r||a)&&(u=jgrid.getCell.call(m,c,b),r&&u["string"==typeof r?"addClass":"css"](r),"object"==typeof a&&u.attr(a))}})},getCell:function(e,t){var i=!1;return this.each(function(){var r,a,o,l=this,n=l.p;if(l.grid&&(r=isNaN(t)?n.iColByName[t]:parseInt(t,10),r>=0&&(a=base.getGridRowById.call($(l),e)))){o=jgrid.getDataFieldOfCell.call(l,a,r).first();try{i=$.unformat.call(l,o,{rowId:a.id,colModel:n.colModel[r]},r)}catch(s){i=htmlDecode(o.html())}}}),i},getCol:function(e,t,i){var r,a,o,l,n=[],s=0;return t="boolean"==typeof t&&t,void 0===i&&(i=!1),this.each(function(){var d,c,u=this,p=u.p;if(u.grid&&(d=isNaN(e)?p.iColByName[e]:parseInt(e,10),d>=0)){var g,h=u.rows,f=h.length,m=0,v=0;if(f&&f>0){for(;m<f;){if(g=h[m],$(g).hasClass("jqgrow")){c=jgrid.getDataFieldOfCell.call(u,g,d).first();try{r=$.unformat.call(u,c,{rowId:g.id,colModel:p.colModel[d]},d)}catch(b){r=htmlDecode(c.html())}i?(l=parseFloat(r),isNaN(l)||(s+=l,void 0===o&&(o=a=l),a=Math.min(a,l),o=Math.max(o,l),v++)):t?n.push({id:g.id,value:r}):n.push(r)}m++}if(i)switch(i.toLowerCase()){case"sum":n=s;break;case"avg":n=s/v;break;case"count":n=f-1;break;case"min":n=a;break;case"max":n=o}}}}),n},clearGridData:function(e){return this.each(function(){var t=this,i=t.p,r=t.rows,a=t.grid;a&&i&&r&&("boolean"!=typeof e&&(e=!1),$(t).unbind(".jqGridFormatter"),a.emptyRows.call(t,!1,!0),i.footerrow&&e&&$(".ui-jqgrid-ftable td",a.sDiv).html("&#160;"),i.selrow=null,clearArray(i.selarrrow),clearArray(i.savedRow),clearArray(i.data),clearArray(i.lastSelectedData),i._index={},i.rowIndexes={},i.records=0,i.page=1,i.lastpage=0,i.reccount=0,t.updatepager(!0,!1))})},getInd:function(e,t){var i=base.getGridRowById.call($(this),e);return!!i&&(t===!0?i:i.rowIndex)},bindKeys:function(e){var t=$.extend({onEnter:null,onSpace:null,onLeftKey:null,onRightKey:null,scrollingRows:!0},e||{});return this.each(function(){var e=this,i=e.p,r=$(e);i.scrollrows=t.scrollingRows,r.bind("keydown.jqGrid",function(a){var o=$(this).find("tr[tabindex=0]")[0],l=jgrid.detectRowEditing.call(e,$(a.target).closest("tr.jqgrow").attr("id")),n=function(e){do if(o=o[e],null===o)return;while($(o).is(":hidden")||!$(o).hasClass("jqgrow"));base.setSelection.call(r,o.id,!0),a.preventDefault()},s=function(a,o){var l=t["on"+a+(o||"")];r.triggerHandler("jqGridKey"+a,[i.selrow]),$.isFunction(l)&&l.call(e,i.selrow)},d=function(e){if(i.treeGrid){var t=i.data[i._index[stripPref(i.idPrefix,o.id)]][i.treeReader.expanded_field];"Right"===e&&(t=!t),t&&$(o).find("div.treeclick").trigger("click")}s(e,"Key")};if(o&&null===l)switch(a.keyCode){case 38:n("previousSibling");break;case 40:n("nextSibling");break;case 37:d("Left");break;case 39:d("Right");break;case 13:s("Enter");break;case 32:s("Space")}})})},unbindKeys:function(){return this.each(function(){$(this).unbind("keydown.jqGrid")})},getLocalRow:function(e){var t,i=!1;return this.each(function(){void 0!==e&&(t=this.p._index[stripPref(this.p.idPrefix,e)],t>=0&&(i=this.p.data[t]))}),i},progressBar:function(e){return e=$.extend({htmlcontent:"",method:"hide",loadtype:"disable"},e||{}),this.each(function(){var t="show"===e.method,i=jqID(this.p.id),r=$("#load_"+i);switch(""!==e.htmlcontent&&r.html(e.htmlcontent),e.loadtype){case"disable":break;case"enable":r.toggle(t);break;case"block":$("#lui_"+i).toggle(t),r.toggle(t)}})},setColWidth:function(e,t,i,r){return this.each(function(){var a,o=this,l=$(o),n=o.grid,s=o.p;if("string"==typeof e){if(e=s.iColByName[e],void 0===e)return}else if("number"!=typeof e)return;a=n.headers[e],null!=a&&(a.newWidth=t,n.newWidth=s.tblwidth+t-a.width,n.resizeColumn(e,!s.frozenColumns,r),i===!1||r||(o.fixScrollOffsetAndhBoxPadding(),base.setGridWidth.call(l,n.newWidth+s.scrollOffset,!1)))})},getAutoResizableWidth:function(e){var t=this;if(0===t.length)return-1;t=t[0];var i,r,a,o,l,n=t.rows,s=t.p,d=s.colModel[e],c=$(t.grid.headers[e].el),u=c.find(">div"),p=parseFloat(c.css("padding-left")||0),g=parseFloat(c.css("padding-right")||0),h=u.find("span.s-ico"),f=u.find(">."+s.autoResizing.wrapperClassName),m=f.outerWidth(),v=parseFloat(f.css("width")||0),b=0,w=0,j=null!=d.autoResizing&&void 0!==d.autoResizable.compact?d.autoResizable.compact:s.autoResizing.compact,y=s.autoResizing.wrapperClassName;if(null==d||!d.autoResizable||0===f.length||d.hidden||jgrid.isCellClassHidden(d.classes)||d.fixed)return-1;for(j&&!h.is(":visible")&&"none"===h.css("display")||(w=h.outerWidth(!0),s.sortIconsBeforeText||(w-="rtl"===s.direction?parseFloat(h.css("padding-left")||0)+parseFloat(h.css("margin-left")||0):parseFloat(h.css("padding-right")||0)+parseFloat(h.css("margin-right")||0))),w+=m+p+(v===m?p+g:0)+parseFloat(u.css("margin-left")||0)+parseFloat(u.css("margin-right")||0),a=0,n=t.rows;a<n.length;a++)i=n[a],r=i.cells[e],o=$(i.cells[e]),null!=r&&($(i).hasClass("jqgrow")||$(i).hasClass("jqgroup")&&1===r.colSpan)?(l=$(r.firstChild),l.hasClass(y)?w=Math.max(w,l.outerWidth()+b):s.treeGrid&&s.ExpandColumn===d.name&&(l=o.children(".cell-wrapper,.cell-wrapperleaf"),w=Math.max(w,l.outerWidth()+b+o.children(".tree-wrap").outerWidth()))):$(i).hasClass("jqgfirstrow")&&(b=(jgrid.cell_width?parseFloat(o.css("padding-left")||0)+parseFloat(o.css("padding-right")||0):0)+parseFloat(o.css("border-right")||0)+parseFloat(o.css("border-left")||0));
return w=Math.max(w,null!=d.autoResizing&&void 0!==d.autoResizing.minColWidth?d.autoResizing.minColWidth:s.autoResizing.minColWidth),Math.min(w,null!=d.autoResizing&&void 0!==d.autoResizing.maxColWidth?d.autoResizing.maxColWidth:s.autoResizing.maxColWidth)},autoResizeColumn:function(e,t){return this.each(function(){var i,r=this,a=$(this),o=r.p,l=o.colModel[e],n=$(r.grid.headers[e].el),s=base.getAutoResizableWidth.call(a,e);null==l||s<0||s===l.width||(base.setColWidth.call(a,e,s,o.autoResizing.adjustGridWidth&&!o.autoResizing.fixWidthOnShrink&&!t,t),o.autoResizing.fixWidthOnShrink&&o.shrinkToFit&&!t&&(l.fixed=!0,i=l.widthOrg,l.widthOrg=l.width,base.setGridWidth.call(a,o.width,!0),l.widthOrg=i,l.fixed=!1),n.data("autoResized","true"))})},autoResizeAllColumns:function(){return this.each(function(){var e,t,i=this,r=$(i),a=i.p,o=a.colModel,l=o.length,n=a.shrinkToFit,s=a.autoResizing.adjustGridWidth,d=a.autoResizing.fixWidthOnShrink,c=parseInt(a.widthOrg,10),u=i.grid,p=base.autoResizeColumn;for(a.shrinkToFit=!1,a.autoResizing.adjustGridWidth=!0,a.autoResizing.fixWidthOnShrink=!1,e=0;e<l;e++)t=o[e],t.autoResizable&&"actions"!==t.formatter&&p.call(r,e,!0);u.hDiv.scrollLeft=u.bDiv.scrollLeft,a.footerrow&&(u.sDiv.scrollLeft=u.bDiv.scrollLeft),i.fixScrollOffsetAndhBoxPadding(),isNaN(c)?s&&base.setGridWidth.call(r,u.newWidth+a.scrollOffset,!1):base.setGridWidth.call(r,c,!1),a.autoResizing.fixWidthOnShrink=d,a.autoResizing.adjustGridWidth=s,a.shrinkToFit=n})}});var getTdByColumnIndex=function(e,t){var i=this,r=i.grid.fbRows;return $((null!=r&&r[0].cells.length>t?r[e.rowIndex]:e).cells[t])};jgrid.extend({editCell:function(e,t,i){return this.each(function(){var r,a,o,l,n=this,s=$(n),d=n.p,c=n.rows;if(n.grid&&d.cellEdit===!0&&null!=c&&null!=c[e]&&(e=parseInt(e,10),t=parseInt(t,10),!isNaN(e)&&!isNaN(t))){var u,p=c[e],g=null!=p?p.id:null,h=$(p),f=parseInt(d.iCol,10),m=parseInt(d.iRow,10),v=$(c[m]),b=d.savedRow;if(null!=g){if(d.selrow=g,d.knv||s.jqGrid("GridNav"),b.length>0){if(i===!0&&e===m&&t===f)return;s.jqGrid("saveCell",b[0].id,b[0].ic)}else setTimeout(function(){$("#"+jgrid.jqID(d.knv)).attr("tabindex","-1").focus()},1);if(l=d.colModel[t],r=l.name,"subgrid"!==r&&"cb"!==r&&"rn"!==r){o=getTdByColumnIndex.call(n,p,t);var w=l.editable,j="cell";$.isFunction(w)&&(w=w.call(n,{rowid:g,iCol:t,iRow:e,name:r,cm:l,mode:j}));var y=s.jqGrid("getGuiStyles","states.select","edit-cell"),x=s.jqGrid("getGuiStyles","states.hover","selected-row");if(w!==!0||i!==!0||o.hasClass("not-editable-cell"))f>=0&&m>=0&&(getTdByColumnIndex.call(n,v[0],f).removeClass(y),v.removeClass(x)),o.addClass(y),h.addClass(x),a=o.html().replace(/&#160;/gi,""),feedback.call(n,"onSelectCell",g,r,a,e,t);else{f>=0&&m>=0&&(getTdByColumnIndex.call(n,v[0],f).removeClass(y),v.removeClass(x)),o.addClass(y),h.addClass(x),l.edittype||(l.edittype="text"),u=l.edittype;try{a=$.unformat.call(n,o,{rowId:g,colModel:l},t)}catch(q){a="textarea"===u?o.text():o.html()}if(d.autoEncodeOnEdit&&(a=jgrid.oldDecodePostedData(a)),b.push({id:e,ic:t,name:r,v:a}),("&nbsp;"===a||"&#160;"===a||1===a.length&&160===a.charCodeAt(0))&&(a=""),$.isFunction(d.formatCell)){var C=d.formatCell.call(n,g,r,a,e,t);void 0!==C&&(a=C)}feedback.call(n,"beforeEditCell",g,r,a,e,t);var D=$.extend({},l.editoptions||{},{id:e+"_"+r,name:r,rowId:g,mode:j,cm:l,iCol:t}),_=jgrid.createEl.call(n,u,D,a,!0,$.extend({},jgrid.ajaxOptions,d.ajaxSelectOptions||{})),S=o,F=d.treeGrid===!0&&r===d.ExpandColumn;F&&(S=o.children("span.cell-wrapperleaf,span.cell-wrapper")),S.html("").append(_).attr("tabindex","0"),F&&$(_).width(o.width()-o.children("div.tree-wrap").outerWidth()),jgrid.bindEv.call(n,_,D),setTimeout(function(){$(_).focus()},1),$("input, select, textarea",o).bind("keydown",function(i){if(27===i.keyCode&&($("input.hasDatepicker",o).length>0?$(".ui-datepicker").is(":hidden")?s.jqGrid("restoreCell",e,t):$("input.hasDatepicker",o).datepicker("hide"):s.jqGrid("restoreCell",e,t)),13===i.keyCode&&!i.shiftKey)return s.jqGrid("saveCell",e,t),!1;if(9===i.keyCode){if(n.grid.hDiv.loading)return!1;i.shiftKey?s.jqGrid("prevCell",e,t):s.jqGrid("nextCell",e,t)}i.stopPropagation()}),feedback.call(n,"afterEditCell",g,r,a,e,t),s.triggerHandler("jqGridAfterEditCell",[g,r,a,e,t])}d.iCol=t,d.iRow=e}}}})},saveCell:function(e,t){return this.each(function(){var i=this,r=$(i),a=i.p,o=jgrid.info_dialog,l=jgrid.jqID;if(i.grid&&a.cellEdit===!0){var n=r.jqGrid("getGridRes","errors"),s=n.errcap,d=r.jqGrid("getGridRes","edit"),c=d.bClose,u=a.savedRow,p=u.length>=1?0:null;if(null!==p){var g,h=i.rows[e],f=h.id,m=$(h),v=a.colModel[t],b=v.name,w=getTdByColumnIndex.call(i,h,t),j={},y=jgrid.getEditedValue.call(i,w,v,j);if(y!==u[p].v){g=r.triggerHandler("jqGridBeforeSaveCell",[f,b,y,e,t]),void 0!==g&&(y=g),$.isFunction(a.beforeSaveCell)&&(g=a.beforeSaveCell.call(i,f,b,y,e,t),void 0!==g&&(y=g));var x=jgrid.checkValues.call(i,y,t,void 0,void 0,{oldValue:u[p].v,newValue:y,cmName:b,rowid:f,iCol:t,iRow:e,cm:v,tr:h,td:w,mode:"cell"}),q=v.formatoptions||{};if(null==x||x===!0||x[0]===!0){var C=r.triggerHandler("jqGridBeforeSubmitCell",[f,b,y,e,t])||{};if($.isFunction(a.beforeSubmitCell)&&(C=a.beforeSubmitCell.call(i,f,b,y,e,t),C||(C={})),$("input.hasDatepicker",w).length>0&&$("input.hasDatepicker",w).datepicker("hide"),"date"===v.formatter&&q.sendFormatted!==!0&&(y=$.unformat.date.call(i,y,v)),"remote"===a.cellsubmit)if(a.cellurl){var D={};D[b]=y;var _=a.prmNames,S=_.id,F=_.oper,R=i.grid.hDiv;D[S]=jgrid.stripPref(a.idPrefix,f),D[F]=_.editoper,D=$.extend(C,D),a.autoEncodeOnEdit&&$.each(D,function(e,t){$.isFunction(t)||(D[e]=jgrid.oldEncodePostedData(t))}),r.jqGrid("progressBar",{method:"show",loadtype:a.loadui,htmlcontent:jgrid.defaults.savetext||"Saving..."}),R.loading=!0,$.ajax($.extend({url:$.isFunction(a.cellurl)?a.cellurl.call(i,a.cellurl,e,t,f,y,b):a.cellurl,data:jgrid.serializeFeedback.call(i,a.serializeCellData,"jqGridSerializeCellData",D),type:"POST",complete:function(l){if(r.jqGrid("progressBar",{method:"hide",loadtype:a.loadui}),R.loading=!1,(l.status<300||304===l.status)&&(0!==l.status||4!==l.readyState)){var n=r.triggerHandler("jqGridAfterSubmitCell",[i,l,D.id,b,y,e,t])||[!0,""];(null==n||n===!0||n[0]===!0&&$.isFunction(a.afterSubmitCell))&&(n=a.afterSubmitCell.call(i,l,D.id,b,y,e,t)),null==n||n===!0||n[0]===!0?(r.jqGrid("setCell",f,t,y,!1,!1,!0),w.addClass("dirty-cell"),m.addClass("edited"),feedback.call(i,"afterSaveCell",f,b,y,e,t),u.splice(0,1)):(o.call(i,s,n[1],c),r.jqGrid("restoreCell",e,t))}},error:function(n,d,u){$("#lui_"+l(a.id)).hide(),R.loading=!1,r.triggerHandler("jqGridErrorCell",[n,d,u]),$.isFunction(a.errorCell)?(a.errorCell.call(i,n,d,u),r.jqGrid("restoreCell",e,t)):(o.call(i,s,n.status+" : "+n.statusText+"<br/>"+d,c),r.jqGrid("restoreCell",e,t))}},jgrid.ajaxOptions,a.ajaxCellOptions||{}))}else try{o.call(i,s,n.nourl,c),r.jqGrid("restoreCell",e,t)}catch(G){}"clientArray"===a.cellsubmit&&(r.jqGrid("setCell",f,t,"select"===v.edittype&&"select"!==v.formatter?j.text:y,!1,!1,!0),w.addClass("dirty-cell"),m.addClass("edited"),feedback.call(i,"afterSaveCell",f,b,y,e,t),u.splice(0,1))}else try{setTimeout(function(){o.call(i,s,y+" "+x[1],c)},100),r.jqGrid("restoreCell",e,t)}catch(G){}}else r.jqGrid("restoreCell",e,t)}setTimeout(function(){$("#"+l(a.knv)).attr("tabindex","-1").focus()},0)}})},restoreCell:function(e,t){return this.each(function(){var i,r,a,o=this,l=o.p,n=o.rows[e],s=n.id;if(o.grid&&l.cellEdit===!0){var d=l.savedRow,c=getTdByColumnIndex.call(o,n,t);if(d.length>=1){if($.isFunction($.fn.datepicker))try{$("input.hasDatepicker",c).datepicker("hide")}catch(u){}r=l.colModel[t],l.treeGrid===!0&&r.name===l.ExpandColumn?c.children("span.cell-wrapperleaf,span.cell-wrapper").empty():c.empty(),c.attr("tabindex","-1"),i=d[0].v,a=r.formatoptions||{},"date"===r.formatter&&a.sendFormatted!==!0&&(i=$.unformat.date.call(o,i,r)),$(o).jqGrid("setCell",s,t,i,!1,!1,!0),feedback.call(o,"afterRestoreCell",s,i,e,t),d.splice(0,1)}setTimeout(function(){$("#"+l.knv).attr("tabindex","-1").focus()},0)}})},nextCell:function(e,t){return this.each(function(){var i,r,a,o=this,l=$(o),n=o.p,s=!1,d=o.rows;if(o.grid&&n.cellEdit===!0&&null!=d&&null!=d[e]){for(i=t+1;i<n.colModel.length;i++)if(a=n.colModel[i],r=a.editable,$.isFunction(r)&&(r=r.call(o,{rowid:d[e].id,iCol:i,iRow:e,name:a.name,cm:a,mode:"cell"})),r===!0){s=i;break}s!==!1?l.jqGrid("editCell",e,s,!0):n.savedRow.length>0&&l.jqGrid("saveCell",e,t)}})},prevCell:function(e,t){return this.each(function(){var i,r,a,o=this,l=$(o),n=o.p,s=!1,d=o.rows;if(o.grid&&n.cellEdit===!0&&null!=d&&null!=d[e]){for(i=t-1;i>=0;i--)if(a=n.colModel[i],r=a.editable,$.isFunction(r)&&(r=r.call(o,{rowid:d[e].id,iCol:i,iRow:e,name:a.name,cm:a,mode:"cell"})),r===!0){s=i;break}s!==!1?l.jqGrid("editCell",e,s,!0):n.savedRow.length>0&&l.jqGrid("saveCell",e,t)}})},GridNav:function(){return this.each(function(){function e(e,t,i){var r=a.rows[e];if("v"===i.substr(0,1)){var o=s.clientHeight,l=s.scrollTop,n=r.offsetTop+r.clientHeight,d=r.offsetTop;"vd"===i&&n>=o&&(s.scrollTop=s.scrollTop+r.clientHeight),"vu"===i&&d<l&&(s.scrollTop=s.scrollTop-r.clientHeight)}if("h"===i){var c=s.clientWidth,u=s.scrollLeft,p=r.cells[t],g=p.offsetLeft+p.clientWidth,h=p.offsetLeft;g>=c+parseInt(u,10)?s.scrollLeft=s.scrollLeft+p.clientWidth:h<u&&(s.scrollLeft=s.scrollLeft-p.clientWidth)}}function t(e,t){var i,r=0,a=l.colModel;if("lft"===t)for(r=e+1,i=e;i>=0;i--)if(a[i].hidden!==!0){r=i;break}if("rgt"===t)for(r=e-1,i=e;i<a.length;i++)if(a[i].hidden!==!0){r=i;break}return r}var i,r,a=this,o=$(a),l=a.p,n=a.grid;if(n&&l.cellEdit===!0){var s=n.bDiv;l.knv=l.id+"_kn";var d=$("<div style='position:fixed;top:0px;width:1px;height:1px;' tabindex='0'><div tabindex='-1' style='width:1px;height:1px;' id='"+l.knv+"'></div></div>");$(d).insertBefore(n.cDiv),$("#"+l.knv).focus().keydown(function(n){var s=parseInt(l.iRow,10),d=parseInt(l.iCol,10);switch(r=n.keyCode,"rtl"===l.direction&&(37===r?r=39:39===r&&(r=37)),r){case 38:s-1>0&&(e(s-1,d,"vu"),o.jqGrid("editCell",s-1,d,!1));break;case 40:s+1<=a.rows.length-1&&(e(s+1,d,"vd"),o.jqGrid("editCell",s+1,d,!1));break;case 37:d-1>=0&&(i=t(d-1,"lft"),e(s,i,"h"),o.jqGrid("editCell",s,i,!1));break;case 39:d+1<=l.colModel.length-1&&(i=t(d+1,"rgt"),e(s,i,"h"),o.jqGrid("editCell",s,i,!1));break;case 13:d>=0&&s>=0&&o.jqGrid("editCell",s,d,!0);break;default:return!0}return!1})}})},getChangedCells:function(e){var t=[];return e||(e="all"),this.each(function(){var i=this,r=i.p,a=jgrid.htmlDecode,o=i.rows;i.grid&&r.cellEdit===!0&&$(o).each(function(l){var n={};if($(this).hasClass("edited")){var s=this;$(this.cells).each(function(t){var d=r.colModel[t],c=d.name,u=getTdByColumnIndex.call(i,s,t);if("cb"!==c&&"subgrid"!==c&&"rn"!==c&&("dirty"!==e||u.hasClass("dirty-cell")))try{n[c]=$.unformat.call(i,u[0],{rowId:o[l].id,colModel:d},t)}catch(p){n[c]=a(u.html())}}),n.id=this.id,t.push(n)}})}),t}});var getGuiStyles=base.getGuiStyles,getGridRes=base.getGridRes;jgrid.jqModal=jgrid.jqModal||{},$.extend(!0,jgrid.jqModal,{toTop:!0}),$.extend(jgrid,{showModal:function(e){e.w.show()},closeModal:function(e){e.w.hide().attr("aria-hidden","true"),e.o&&e.o.remove()},hideModal:function(e,t){t=$.extend({jqm:!0,gb:"",removemodal:!1},t||{});var i=!(!t.gb||"string"!=typeof t.gb||"#gbox_"!==t.gb.substr(0,6))&&$("#"+t.gb.substr(6))[0],r=$(e);if(t.onClose){var a=i?t.onClose.call(i,e):t.onClose(e);if("boolean"==typeof a&&!a)return}if($.fn.jqm&&t.jqm===!0)r.attr("aria-hidden","true").jqmHide();else{if(""!==t.gb)try{$(">.jqgrid-overlay",t.gb).first().hide()}catch(o){}r.hide().attr("aria-hidden","true")}t.removemodal&&r.remove()},findPos:function(e){var t=0,i=0;if(e.offsetParent)do t+=e.offsetLeft,i+=e.offsetTop,e=e.offsetParent;while(e);return[t,i]},createModal:function(e,t,i,r,a,o,l){var n=jgrid.jqID,s=this.p,d=null!=s?s.jqModal||{}:{};i=$.extend(!0,{resizingRightBottomIcon:base.getIconRes.call(this,"form.resizableLtr")},jgrid.jqModal||{},d,i);var c=document.createElement("div"),u="#"+n(e.themodal),p="rtl"===$(i.gbox).attr("dir"),g=!!e.resizeAlso&&"#"+n(e.resizeAlso);l=$.extend({},l||{}),c.className=getGuiStyles.call(this,"dialog.window","ui-jqdialog"),c.id=e.themodal,c.dir=p?"rtl":"ltr";var h=document.createElement("div");h.className=getGuiStyles.call(this,"dialog.document"),$(h).attr("role","document");var f=document.createElement("div");f.className=getGuiStyles.call(this,"dialog.subdocument"),h.appendChild(f),c.appendChild(h);var m=document.createElement("div");m.className=getGuiStyles.call(this,"dialog.header","ui-jqdialog-titlebar "+(p?"ui-jqdialog-titlebar-rtl":"ui-jqdialog-titlebar-ltr")),m.id=e.modalhead,$(m).append("<span class='ui-jqdialog-title'>"+i.caption+"</span>");var v=getGuiStyles.call(this,"states.hover"),b=$("<a aria-label='Close' class='"+getGuiStyles.call(this,"dialog.closeButton","ui-jqdialog-titlebar-close")+"'></a>").hover(function(){b.addClass(v)},function(){b.removeClass(v)}).append("<span class='"+base.getIconRes.call(this,"form.close")+"'></span>");$(m).append(b);var w=document.createElement("div");$(w).addClass(getGuiStyles.call(this,"dialog.content","ui-jqdialog-content")).attr("id",e.modalcontent),$(w).append(t),f.appendChild(w),$(f).prepend(m),o===!0?$("body").append(c):"string"==typeof o?$(o).append(c):$(c).insertBefore(r),$(c).css(l),void 0===i.jqModal&&(i.jqModal=!0);var j={};if($.fn.jqm&&i.jqModal===!0){if(0===i.left&&0===i.top&&i.overlay){var y=[];y=jgrid.findPos(a),i.left=y[0]+4,i.top=y[1]+4}j.top=i.top+"px",j.left=i.left}else 0===i.left&&0===i.top||(j.left=i.left,j.top=i.top+"px");if($("a.ui-jqdialog-titlebar-close",m).click(function(){var e=$(u).data("onClose")||i.onClose,t=$(u).data("gbox")||i.gbox;return jgrid.hideModal(u,{gb:t,jqm:i.jqModal,onClose:e,removemodal:i.removemodal||!1}),!1}),0!==i.width&&i.width||(i.width=300),0!==i.height&&i.height||(i.height=200),!i.zIndex){var x=$(r).parents("*[role=dialog]").first().css("z-index");x?(i.zIndex=parseInt(x,10)+2,i.toTop=!0):i.zIndex=950}if(j.left&&(j.left+="px"),$(c).css($.extend({width:isNaN(i.width)?"auto":i.width+"px",height:isNaN(i.height)?"auto":i.height+"px",zIndex:i.zIndex},j)).attr({tabIndex:"-1",role:"dialog","aria-labelledby":e.modalhead,"aria-hidden":"true"}),void 0===i.drag&&(i.drag=!0),void 0===i.resize&&(i.resize=!0),i.drag)if($.fn.jqDrag)$(m).css("cursor","move"),$(c).jqDrag(m);else try{$(c).draggable({handle:$("#"+n(m.id))})}catch(q){}if(i.resize)if($.fn.jqResize)$(w).append("<div class='jqResize ui-resizable-handle ui-resizable-se "+i.resizingRightBottomIcon+"'></div>"),$(u).jqResize(".jqResize",g);else try{$(c).resizable({handles:"se, sw",alsoResize:g})}catch(q){}i.closeOnEscape===!0&&$(c).keydown(function(e){if(27===e.which){var t=$(u).data("onClose")||i.onClose;jgrid.hideModal(u,{gb:i.gbox,jqm:i.jqModal,onClose:t,removemodal:i.removemodal||!1,formprop:!i.recreateForm||!1,form:i.form||""})}})},viewModal:function(e,t){if(t=$.extend(!0,{overlay:30,modal:!1,overlayClass:getGuiStyles.call(this,"overlay"),onShow:jgrid.showModal,onHide:jgrid.closeModal,gbox:"",jqm:!0,jqM:!0},jgrid.jqModal||{},t||{}),$.fn.jqm&&t.jqm===!0)t.jqM?$(e).attr("aria-hidden","false").jqm(t).jqmShow():$(e).attr("aria-hidden","false").jqmShow();else{""!==t.gbox&&($(">.jqgrid-overlay",t.gbox).first().show(),$(e).data("gbox",t.gbox)),$(e).show().attr("aria-hidden","false");try{$(":input:visible",e)[0].focus()}catch(i){}}},info_dialog:function(e,t,i,r){var a=this,o=a.p,l=null!=o?o.jqModal||{}:{},n=$.extend(!0,{width:290,height:"auto",dataheight:"auto",drag:!0,resize:!1,left:250,top:170,zIndex:1e3,jqModal:!0,modal:!1,closeOnEscape:!0,align:"center",buttonalign:"center",buttons:[]},jgrid.jqModal||{},l,{caption:"<b>"+e+"</b>"},r||{}),s=n.jqModal;$.fn.jqm&&!s&&(s=!1);var d,c="",u=getGuiStyles.call(a,"states.hover");if(n.buttons.length>0)for(d=0;d<n.buttons.length;d++)void 0===n.buttons[d].id&&(n.buttons[d].id="info_button_"+d),c+=jgrid.builderFmButon.call(a,n.buttons[d].id,n.buttons[d].text);var p=isNaN(n.dataheight)?n.dataheight:n.dataheight+"px",g="text-align:"+n.align+";",h="<div id='info_id'>";h+="<div id='infocnt' style='margin:0px;padding-bottom:1em;width:100%;overflow:auto;position:relative;height:"+p+";"+g+"'>"+t+"</div>",(i||""!==c)&&(h+="<hr class='"+getGuiStyles.call(a,"dialog.hr")+"' style='margin:1px'/><div style='text-align:"+n.buttonalign+";padding:.8em 0 .5em 0;background-image:none;border-width: 1px 0 0 0;'>"+(i?jgrid.builderFmButon.call(a,"closedialog",i):"")+c+"</div>"),h+="</div>";try{"false"===$("#info_dialog").attr("aria-hidden")&&jgrid.hideModal("#info_dialog",{jqm:s}),$("#info_dialog").remove()}catch(f){}jgrid.createModal.call(a,{themodal:"info_dialog",modalhead:"info_head",modalcontent:"info_content",resizeAlso:"infocnt"},h,n,"","",!0),c&&$.each(n.buttons,function(e){$("#"+jgrid.jqID(a.id),"#info_id").bind("click",function(){return n.buttons[e].onClick.call($("#info_dialog")),!1})}),$("#closedialog","#info_id").click(function(){return jgrid.hideModal("#info_dialog",{jqm:s,onClose:$("#info_dialog").data("onClose")||n.onClose,gb:$("#info_dialog").data("gbox")||n.gbox}),!1}),$(".fm-button","#info_dialog").hover(function(){$(this).addClass(u)},function(){$(this).removeClass(u)}),$.isFunction(n.beforeOpen)&&n.beforeOpen(),jgrid.viewModal.call(a,"#info_dialog",{onHide:function(e){e.w.hide().remove(),e.o&&e.o.remove()},modal:n.modal,jqm:s}),$.isFunction(n.afterOpen)&&n.afterOpen();try{$("#info_dialog").focus()}catch(f){}},bindEv:function(e,t){var i=this;$.isFunction(t.dataInit)&&t.dataInit.call(i,e,t),t.dataEvents&&$.each(t.dataEvents,function(){void 0!==this.data?$(e).bind(this.type,this.data,this.fn):$(e).bind(this.type,this.fn)})},createEl:function(e,t,i,r,a){function o(e,t,i){var r=["dataInit","dataEvents","dataUrl","buildSelect","sopt","searchhidden","defaultValue","attr","custom_element","custom_value","selectFilled","rowId","mode","cm","iCol"];void 0!==i&&$.isArray(i)&&$.merge(r,i),$.each(t,function(t,i){$.inArray(t,r)===-1&&$(e).attr(t,i)}),t.hasOwnProperty("id")||$(e).attr("id",jgrid.randId())}var l="",n=this,s=n.p,d=jgrid.info_dialog,c=function(e){return getGridRes.call($(n),e)},u=c("errors.errcap"),p=c("edit"),g=p.msg,h=p.bClose;if(null==t)return"";switch(e){case"textarea":l=document.createElement("textarea"),r?t.cols||$(l).css({width:"100%","box-sizing":"border-box"}):t.cols||(t.cols=19),t.rows||(t.rows=2),("&nbsp;"===i||"&#160;"===i||1===i.length&&160===i.charCodeAt(0))&&(i=""),l.value=i,o(l,t),$(l).attr({role:"textbox"});break;case"checkbox":if(l=document.createElement("input"),l.type="checkbox",t.value){var f=t.value.split(":");i===f[0]&&(l.checked=!0,l.defaultChecked=!0),l.value=f[0],$(l).data("offval",f[1])}else{var m=String(i).toLowerCase();m.search(/(false|f|0|no|n|off|undefined)/i)<0&&""!==m?(l.checked=!0,l.defaultChecked=!0,l.value=i):l.value="on",$(l).data("offval","off")}o(l,t,["value"]),$(l).attr({role:"checkbox","aria-checked":l.checked?"true":"false"});break;case"select":l=document.createElement("select");var v,b,w=[],j=null;t.multiple===!0?(v=!0,l.multiple="multiple",$(l).attr("aria-multiselectable","true"),w=i.split(","),w=$.map(w,function(e){return $.trim(e)})):(v=!1,w[0]=$.trim(i)),void 0===t.size&&(t.size=v?3:1);try{j=t.rowId}catch(y){}if(s&&s.idPrefix&&(j=jgrid.stripPref(s.idPrefix,j)),void 0!==t.dataUrl){var x=t.postData||a.postData,q={elem:l,options:t,cm:t.cm,mode:t.mode,rowid:j,iCol:t.iCol,ovm:w};$.ajax($.extend({url:$.isFunction(t.dataUrl)?t.dataUrl.call(n,j,i,String(t.name),q):t.dataUrl,type:"GET",dataType:"html",data:$.isFunction(x)?x.call(n,j,i,String(t.name)):x,context:q,success:function(e,t,i){var r=this.ovm,a=this.elem,l=this.cm,s=this.iCol,d=$.extend({},this.options),c=this.rowid,u=this.mode,p=$.isFunction(d.buildSelect)?d.buildSelect.call(n,e,i,l,s):e;"string"==typeof p&&(p=$($.trim(p)).html()),p&&($(a).append(p),o(a,d,x?["postData"]:void 0),setTimeout(function(){var e;$("option",a).each(function(t){0===t&&a.multiple&&(this.selected=!1),$.inArray($.trim($(this).val()),r)>-1&&(this.selected=!0,e=!0)}),e||$("option",a).each(function(){$.inArray($.trim($(this).text()),r)>-1&&(this.selected=!0)}),$(a).change(),jgrid.fullBoolFeedback.call(n,d.selectFilled,"jqGridSelectFilled",{elem:a,options:d,cm:l,rowid:c,mode:u,cmName:null!=l?l.name:d.name,iCol:s})},0))}},a||{}))}else if(t.value){"function"==typeof t.value&&(t.value=t.value());var C,D,_,S,F,R=[],G=void 0===t.separator?":":t.separator,O=void 0===t.delimiter?";":t.delimiter,I=function(e,t){if(t>0)return e};if("string"==typeof t.value)for(D=t.value.split(O),C=0;C<D.length;C++)_=D[C].split(G),_.length>2&&(_[1]=$.map(_,I).join(G)),R.push({value:_[0],innerHtml:_[1],selectValue:$.trim(_[0]),selectText:$.trim(_[1]),selected:!1});else if("object"==typeof t.value){var k,N=t.value;for(k in N)N.hasOwnProperty(k)&&R.push({value:k,innerHtml:N[k],selectValue:$.trim(k),selectText:$.trim(N[k]),selected:!1})}for(C=0;C<R.length;C++)F=R[C],v||F.selectValue!==$.trim(i)||(F.selected=!0,b=!0),v&&$.inArray(F.selectValue,w)>-1&&(F.selected=!0,b=!0);if(!b)for(C=0;C<R.length;C++)F=R[C],v||F.selectText!==$.trim(i)||(F.selected=!0),v&&$.inArray(F.selectText,w)>-1&&(F.selected=!0);for(C=0;C<R.length;C++)F=R[C],S=document.createElement("option"),S.value=F.value,S.innerHTML=F.innerHtml,F.selected&&(S.selected=!0),l.appendChild(S);o(l,t,["value"]),jgrid.fullBoolFeedback.call(n,t.selectFilled,"jqGridSelectFilled",{elem:l,options:t,cm:t.cm,rowid:j,mode:t.mode,cmName:null!=t.cm?t.cm.name:t.name,iCol:t.iCol})}break;case"text":case"password":case"button":var E;E="button"===e?"button":"textbox",l=document.createElement("input"),l.type=e,o(l,t),l.value=i,"button"!==e&&(r?t.size||$(l).css({width:"100%","box-sizing":"border-box"}):t.size||(t.size=20)),$(l).attr("role",E);break;case"image":case"file":l=document.createElement("input"),l.type=e,o(l,t);break;case"custom":l=document.createElement("span");try{if(!$.isFunction(t.custom_element))throw"editoptions.custom_element is not a function";var A=t.custom_element.call(n,i,t);if(!(A instanceof jQuery||jgrid.isHTMLElement(A)||"string"==typeof A))throw"editoptions.custom_element returns value of a wrong type";A=$(A).addClass("customelement").attr({id:t.id,name:t.name}),$(l).empty().append(A)}catch(T){"e1"===T&&d.call(n,u,"function 'custom_element' "+g.nodefined,h),"e2"===T?d.call(n,u,"function 'custom_element' "+g.novalue,h):d.call(n,u,"string"==typeof T?T:T.message,h)}}return l},checkDate:function(e,t){var i,r=function(e){return e%4!==0||e%100===0&&e%400!==0?28:29},a={};if(e=e.toLowerCase(),i=e.indexOf("/")!==-1?"/":e.indexOf("-")!==-1?"-":e.indexOf(".")!==-1?".":"/",e=e.split(i),t=t.split(i),3!==t.length)return!1;var o,l,n,s=-1,d=-1,c=-1;for(l=0;l<e.length;l++)n=isNaN(t[l])?0:parseInt(t[l],10),a[e[l]]=n,o=e[l],o.indexOf("y")!==-1&&(s=l),o.indexOf("m")!==-1&&(c=l),o.indexOf("d")!==-1&&(d=l);o="y"===e[s]||"yyyy"===e[s]?4:"yy"===e[s]?2:-1;var u,p=[0,31,29,31,30,31,30,31,31,30,31,30,31];return s!==-1&&(u=a[e[s]].toString(),2===o&&1===u.length&&(o=1),u.length===o&&(0!==a[e[s]]||"00"===t[s])&&(c!==-1&&(u=a[e[c]].toString(),!(u.length<1||a[e[c]]<1||a[e[c]]>12)&&(d!==-1&&(u=a[e[d]].toString(),!(u.length<1||a[e[d]]<1||a[e[d]]>31||2===a[e[c]]&&a[e[d]]>r(a[e[s]])||a[e[d]]>p[a[e[c]]]))))))},isEmpty:function(e){return!(!e.match(/^\s+$/)&&""!==e)},checkTime:function(e){var t,i=/^(\d{1,2}):(\d{2})([apAP][Mm])?$/;if(!jgrid.isEmpty(e)){if(t=e.match(i),!t)return!1;if(t[3]){if(t[1]<1||t[1]>12)return!1}else if(t[1]>23)return!1;if(t[2]>59)return!1}return!0},checkValues:function(e,t,i,r,a){var o,l,n,s,d,c=this,u=c.p,p=u.colModel,g=jgrid.isEmpty,h=getGridRes.call($(c),"edit.msg"),f=getGridRes.call($(c),"formatter.date.masks");if(void 0===i){if("string"==typeof t&&(t=u.iColByName[t]),void 0===t||t<0)return[!0,"",""];s=p[t],o=s.editrules,null!=s.formoptions&&(l=s.formoptions.label)}else o=i,l=void 0===r?"_":r,s=p[t];if(o){if(l||(l=null!=u.colNames?u.colNames[t]:s.label),o.required===!0&&g(e))return[!1,l+": "+h.required,""];var m=o.required!==!1;if(o.number===!0&&(m!==!1||!g(e))&&isNaN(e))return[!1,l+": "+h.number,""];if(void 0!==o.minValue&&!isNaN(o.minValue)&&parseFloat(e)<parseFloat(o.minValue))return[!1,l+": "+h.minValue+" "+o.minValue,""];if(void 0!==o.maxValue&&!isNaN(o.maxValue)&&parseFloat(e)>parseFloat(o.maxValue))return[!1,l+": "+h.maxValue+" "+o.maxValue,""];var v;if(o.email===!0&&!(m===!1&&g(e)||(v=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i,v.test(e))))return[!1,l+": "+h.email,""];if(o.integer===!0&&(m!==!1||!g(e))){if(isNaN(e))return[!1,l+": "+h.integer,""];if(e%1!==0||e.indexOf(".")!==-1)return[!1,l+": "+h.integer,""]}if(o.date===!0&&!(m===!1&&g(e)||(s.formatoptions&&s.formatoptions.newformat?(n=s.formatoptions.newformat,f.hasOwnProperty(n)&&(n=f[n])):n=p[t].datefmt||"Y-m-d",jgrid.checkDate(n,e))))return[!1,l+": "+h.date+" - "+n,""];if(o.time===!0&&!(m===!1&&g(e)||jgrid.checkTime(e)))return[!1,l+": "+h.date+" - hh:mm (am/pm)",""];if(o.url===!0&&!(m===!1&&g(e)||(v=/^(((https?)|(ftp)):\/\/([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*\/?)/i,v.test(e))))return[!1,l+": "+h.url,""];if(o.custom===!0){if(m!==!1||!g(e))return $.isFunction(o.custom_func)?(d=o.custom_func.call(c,e,l,t),$.isArray(d)?d:[!1,h.customarray,""]):[!1,h.customfcheck,""]}else if($.isFunction(o.custom)&&(m!==!1||!g(e)))return d=o.custom.call(c,a),$.isArray(d)?d:[!1,h.customarray,""]}return[!0,"",""]}}),jgrid.extend({getColProp:function(e){var t,i={},r=this[0];return null!=r&&r.grid&&(t=r.p.iColByName[e],void 0!==t)?r.p.colModel[t]:i},setColProp:function(e,t){return this.each(function(){var i,r=this,a=r.p;r.grid&&null!=a&&t&&(i=a.iColByName[e],void 0!==i&&$.extend(!0,a.colModel[i],t))})},sortGrid:function(e,t,i){return this.each(function(){var r,a,o,l=this,n=l.grid,s=l.p,d=s.colModel,c=d.length,u=!1;if(n)for(e||(e=s.sortname),"boolean"!=typeof t&&(t=!1),a=0;a<c;a++)if(r=d[a],r.index===e||r.name===e){s.frozenColumns===!0&&r.frozen===!0&&(u=n.fhDiv.find("#"+s.id+"_"+e)),u&&0!==u.length||(u=n.headers[a].el),o=r.sortable,("boolean"!=typeof o||o)&&l.sortData("jqgh_"+s.id+"_"+e,a,t,i,u);break}})},clearBeforeUnload:function(){return this.each(function(){var e,t=this,i=t.p,r=t.grid,a=jgrid.clearArray,o=Object.prototype.hasOwnProperty;$.isFunction(r.emptyRows)&&r.emptyRows.call(t,!0,!0),$(document).unbind("mouseup.jqGrid"+i.id),$(r.hDiv).unbind("mousemove"),$(t).unbind();var l,n=r.headers.length;for(l=0;l<n;l++)r.headers[l].el=null;for(e in r)r.hasOwnProperty(e)&&(r.propOrMethod=null);var s=["formatCol","sortData","updatepager","refreshIndex","setHeadCheckBox","constructTr","clearToolbar","fixScrollOffsetAndhBoxPadding","rebuildRowIndexes","modalAlert","toggleToolbar","triggerToolbar","formatter","addXmlData","addJSONData","ftoolbar","_inlinenav","nav","grid","p"];for(n=s.length,l=0;l<n;l++)o.call(t,s[l])&&(t[s[l]]=null);t._index={},a(i.data),a(i.lastSelectedData),a(i.selarrrow),a(i.savedRow)})},GridDestroy:function(){return this.each(function(){var e=this,t=e.p;if(e.grid&&null!=t){t.pager&&$(t.pager).remove();try{$("#alertmod_"+t.idSel).remove(),$(e).jqGrid("clearBeforeUnload"),$(t.gBox).remove()}catch(i){}}})},GridUnload:function(){return this.each(function(){var e=this,t=$(e),i=e.p,r=$.fn.jqGrid;e.grid&&(t.removeClass(r.getGuiStyles.call(t,"grid","ui-jqgrid-btable")),i.pager&&$(i.pager).empty().removeClass(r.getGuiStyles.call(t,"pagerBottom","ui-jqgrid-pager")).removeAttr("style").removeAttr("dir"),t.jqGrid("clearBeforeUnload"),t.removeAttr("style").removeAttr("tabindex").removeAttr("role").removeAttr("aria-labelledby").removeAttr("style"),t.empty(),t.insertBefore(i.gBox).show(),$(i.pager).insertBefore(i.gBox).show(),$(i.gBox).remove())})},setGridState:function(e){return this.each(function(){var t=this,i=t.p,r=t.grid,a=r.cDiv,o=$(r.uDiv),l=$(r.ubDiv);if(r&&null!=i){var n=function(e){return base.getIconRes.call(t,"gridMinimize."+e)},s=n("visible"),d=n("hidden");"hidden"===e?($(".ui-jqgrid-bdiv, .ui-jqgrid-hdiv",i.gView).slideUp("fast"),i.pager&&$(i.pager).slideUp("fast"),i.toppager&&$(i.toppager).slideUp("fast"),i.toolbar[0]===!0&&("both"===i.toolbar[1]&&l.slideUp("fast"),o.slideUp("fast")),i.footerrow&&$(".ui-jqgrid-sdiv",i.gBox).slideUp("fast"),$(".ui-jqgrid-titlebar-close span",a).removeClass(s).addClass(d),i.gridstate="hidden"):"visible"===e&&($(".ui-jqgrid-hdiv, .ui-jqgrid-bdiv",i.gView).slideDown("fast"),i.pager&&$(i.pager).slideDown("fast"),i.toppager&&$(i.toppager).slideDown("fast"),i.toolbar[0]===!0&&("both"===i.toolbar[1]&&l.slideDown("fast"),o.slideDown("fast")),i.footerrow&&$(".ui-jqgrid-sdiv",i.gBox).slideDown("fast"),$(".ui-jqgrid-titlebar-close span",a).removeClass(d).addClass(s),i.gridstate="visible")}})},filterToolbar:function(e){return this.each(function(){var t=this,i=t.grid,r=$(t),a=t.p,o=jgrid.bindEv,l=jgrid.info_dialog,n=jgrid.htmlEncode;if(!this.ftoolbar){var s,d=$.extend(!0,{autosearch:!0,autosearchDelay:500,searchOnEnter:!0,beforeSearch:null,afterSearch:null,beforeClear:null,afterClear:null,searchurl:"",stringResult:!1,groupOp:"AND",defaultSearch:"bw",idMode:"new",searchOperators:!1,resetIcon:"&times;",applyLabelClasses:!0,loadFilterDefaults:!0,operands:{eq:"==",ne:"!",lt:"<",le:"<=",gt:">",ge:">=",bw:"^",bn:"!^","in":"=",ni:"!=",ew:"|",en:"!@",cn:"~",nc:"!~",nu:"#",nn:"!#"}},jgrid.search,a.searching||{},e||{}),c=a.colModel,u=function(e){return getGridRes.call(r,e)},p=u("errors.errcap"),g=u("edit.bClose"),h=u("edit.msg"),f=getGuiStyles.call(t,"states.hover"),m=getGuiStyles.call(t,"states.select"),v=getGuiStyles.call(t,"filterToolbar.dataField"),b={},w=function(e){var t="gs_";switch(d.idMode){case"compatibility":t+=a.idPrefix;break;case"new":t+=a.id+"_"}return t+e},j=function(e){return"#"+jqID(w(e))},y=function(e){var t,i,r,o,l,n,s=a.postData.filters,u={},p=a.iColByName;if(e)for(i=0;i<c.length;i++)l=c[i],l.search!==!1&&(n=l.searchoptions||{},u[l.name]={op:n.sopt?n.sopt[0]:"select"===l.stype?"eq":d.defaultSearch,data:void 0!==n.defaultValue?n.defaultValue:""});if(!s||!a.search)return u;if("string"==typeof s)try{s=$.parseJSON(s)}catch(g){s={}}else s=s||{};if(r=s.rules||{},null==s||null!=s.groupOp&&null!=d.groupOp&&s.groupOp.toUpperCase()!==d.groupOp.toUpperCase()||null==r||0===r.length||null!=s.groups&&s.groups.length>0)return u;for(i=0;i<r.length;i++)for(o=r[i],l=c[p[o.field]],t=0;t<c.length;t++)if(l=c[t],(l.index||l.name)===o.field&&l.search!==!1){if(n=l.searchoptions||{},n.sopt){if($.inArray(o.op,n.sopt)<0)continue}else if("select"===l.stype){if("eq"!==o.op)continue}else if(o.op!==d.defaultSearch)continue;u[l.name]={op:o.op,data:o.data}}return u},x=function(){var e={},o=0,l={};$.each(c,function(){var r,n,s=this,c=s.index||s.name,p=s.searchoptions||{},g=$(j(s.name),s.frozen===!0&&a.frozenColumns===!0?i.fhDiv:i.hDiv),h=function(e,t){var i=s.formatoptions||{};return void 0!==i[e]?i[e]:u("formatter."+(t||s.formatter)+"."+e)},f=function(e){var t=h("thousandsSeparator").replace(/([\.\*\_\'\(\)\{\}\+\?\\])/g,"\\$1");return e.replace(new RegExp(t,"g"),"")};if(n=d.searchOperators?g.parent().prev().children("a").data("soper")||d.defaultSearch:p.sopt?p.sopt[0]:"select"===s.stype?"eq":d.defaultSearch,"custom"===s.stype&&$.isFunction(p.custom_value)&&g.length>0&&"SPAN"===g[0].nodeName.toUpperCase())r=p.custom_value.call(t,g.children(".customelement").first(),"get");else if("select"===s.stype)r=g.val();else switch(r=$.trim(g.val()),
s.formatter){case"integer":r=f(r).replace(h("decimalSeparator","number"),"."),""!==r&&(r=String(parseInt(r,10)));break;case"number":r=f(r).replace(h("decimalSeparator"),"."),""!==r&&"0"===String(r).charAt(0)&&(r=String(parseFloat(r)));break;case"currency":var m=h("prefix"),v=h("suffix");m&&m.length&&(r=r.substr(m.length)),v&&v.length&&(r=r.substr(0,r.length-v.length)),r=f(r).replace(h("decimalSeparator"),"."),""!==r&&(r=String(parseFloat(r)))}if(r||"nu"===n||"nn"===n)e[c]=r,l[c]=n,o++;else if(e.hasOwnProperty(c)&&delete e[c],!d.stringResult&&!d.searchOperators&&"local"!==a.datatype)try{null!=a.postData&&a.postData.hasOwnProperty(c)&&delete a.postData[c]}catch(b){}});var n=o>0;if(d.stringResult||d.searchOperators||"local"===a.datatype){var s='{"groupOp":"'+d.groupOp+'","rules":[',p=0;$.each(e,function(e,t){p>0&&(s+=","),s+='{"field":"'+e+'",',s+='"op":"'+l[e]+'",',t+="",s+='"data":"'+t.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}',p++}),s+="]}",$.extend(a.postData,{filters:s}),$.each(["searchField","searchString","searchOper"],function(e,t){a.postData.hasOwnProperty(t)&&delete a.postData[t]})}else $.extend(a.postData,e);var g;a.searchurl&&(g=a.url,r.jqGrid("setGridParam",{url:a.searchurl}));var h="stop"===r.triggerHandler("jqGridToolbarBeforeSearch");!h&&$.isFunction(d.beforeSearch)&&(h=d.beforeSearch.call(t)),h||r.jqGrid("setGridParam",{search:n}).trigger("reloadGrid",[$.extend({page:1},d.reloadGridSearchOptions||{})]),g&&r.jqGrid("setGridParam",{url:g}),r.triggerHandler("jqGridToolbarAfterSearch"),$.isFunction(d.afterSearch)&&d.afterSearch.call(t)},q=function(e){var o,l={},n=0;e="boolean"!=typeof e||e,$.each(c,function(){var e,r,s=this,d=$(j(s.name),s.frozen===!0&&a.frozenColumns===!0?i.fhDiv:i.hDiv),c=s.searchoptions||{};switch(void 0!==c.defaultValue&&(e=c.defaultValue),o=s.index||s.name,s.stype){case"select":if(r=!(d.length>0)||!d[0].multiple,d.find("option").each(function(t){if(this.selected=0===t&&r,$(this).val()===e)return this.selected=!0,!1}),void 0!==e)l[o]=e,n++;else try{delete a.postData[o]}catch(u){}break;case"text":if(d.val(e||""),void 0!==e)l[o]=e,n++;else try{delete a.postData[o]}catch(u){}break;case"custom":$.isFunction(c.custom_value)&&d.length>0&&"SPAN"===d[0].nodeName.toUpperCase()&&c.custom_value.call(t,d.children(".customelement").first(),"set",e||"")}});var s=n>0;if(a.resetsearch=!0,d.stringResult||d.searchOperators||"local"===a.datatype){var u='{"groupOp":"'+d.groupOp+'","rules":[',p=0;$.each(l,function(e,t){p>0&&(u+=","),u+='{"field":"'+e+'",',u+='"op":"eq",',t+="",u+='"data":"'+t.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}',p++}),u+="]}",$.extend(a.postData,{filters:u}),$.each(["searchField","searchString","searchOper"],function(e,t){a.postData.hasOwnProperty(t)&&delete a.postData[t]})}else $.extend(a.postData,l);var g;a.searchurl&&(g=a.url,r.jqGrid("setGridParam",{url:a.searchurl}));var h="stop"===r.triggerHandler("jqGridToolbarBeforeClear");!h&&$.isFunction(d.beforeClear)&&(h=d.beforeClear.call(t)),h||e&&r.jqGrid("setGridParam",{search:s}).trigger("reloadGrid",[$.extend({page:1},d.reloadGridResetOptions||{})]),g&&r.jqGrid("setGridParam",{url:g}),r.triggerHandler("jqGridToolbarAfterClear"),$.isFunction(d.afterClear)&&d.afterClear()},C=function(){var e=$("tr.ui-search-toolbar",i.hDiv),t=a.frozenColumns===!0&&$("tr.ui-search-toolbar",i.fhDiv);"none"===e.css("display")?(e.show(),t&&t.show()):(e.hide(),t&&t.hide()),a.frozenColumns===!0&&(r.jqGrid("destroyFrozenColumns"),r.jqGrid("setFrozenColumns"))},D=u("search.odata")||[],_=a.customSortOperations,S=function(e,i,o){$("#sopt_menu").remove(),i=parseInt(i,10),o=parseInt(o,10)+18;var l,s,u=0,p=[],g=$(e).data("soper"),h=$(e).data("colname"),v=$(".ui-jqgrid-view").css("font-size")||"11px",b="<ul id='sopt_menu' class='"+getGuiStyles.call(t,"searchToolbar.menu","ui-search-menu")+"' role='menu' tabindex='0' style='z-index:9999;display:block;font-size:"+v+";left:"+i+"px;top:"+o+"px;'>";if(u=a.iColByName[h],void 0!==u){var w,j,y,q,C,S=c[u],F=$.extend({},S.searchoptions);for(F.sopt||(F.sopt=[],F.sopt[0]="select"===S.stype?"eq":d.defaultSearch),$.each(D,function(){p.push(this.oper)}),null!=_&&$.each(_,function(e){p.push(e)}),u=0;u<F.sopt.length;u++)y=F.sopt[u],s=$.inArray(y,p),s!==-1&&(w=D[s],void 0!==w?(q=d.operands[y],C=w.text):null!=_&&(j=_[y],q=j.operand,C=j.text),l=g===y?m:"",b+='<li class="ui-menu-item '+l+'" role="presentation"><a class="ui-corner-all g-menu-item" tabindex="0" role="menuitem" value="'+n(y)+'" data-oper="'+n(q)+'"><table><tr><td style="width:25px">'+n(q)+"</td><td>"+n(C)+"</td></tr></table></a></li>");b+="</ul>",$("body").append(b),$("#sopt_menu").addClass("ui-menu ui-widget ui-widget-content ui-corner-all"),$("#sopt_menu > li > a").hover(function(){$(this).addClass(f)},function(){$(this).removeClass(f)}).click(function(){var t=$(this).attr("value"),i=$(this).data("oper");if(r.triggerHandler("jqGridToolbarSelectOper",[t,i,e]),$("#sopt_menu").hide(),$(e).text(i).data("soper",t),d.autosearch===!0){var a=$(e).parent().next().children()[0];($(a).val()||"nu"===t||"nn"===t)&&x()}})}},F=$("<tr></tr>",{"class":"ui-search-toolbar",role:"row form"});d.loadFilterDefaults&&(b=y()||{}),$.each(c,function(e){var i,r,n,c,m,j,y=this,q="filter",C="",S=y.searchoptions||{},R=y.editoptions||{},G=$("<th></th>",{"class":getGuiStyles.call(t,"colHeaders","ui-th-column ui-th-"+a.direction+" "+(d.applyLabelClasses?y.labelClasses||"":"")),role:"gridcell","aria-describedby":a.id+"_"+y.name}),O=$("<div></div>"),I=$("<table class='ui-search-table'><tr><td class='ui-search-oper'></td><td class='ui-search-input'></td><td class='ui-search-clear' style='width:1px'></td></tr></table>");if(this.hidden===!0&&$(G).css("display","none"),this.search=this.search!==!1,void 0===this.stype&&(this.stype="text"),i=$.extend({mode:q},S),this.search){if(d.searchOperators){for(m=a.search&&null!=b[this.name]?b[this.name].op:i.sopt?i.sopt[0]:"select"===y.stype?"eq":d.defaultSearch,j=0;j<D.length;j++)if(D[j].oper===m){c=d.operands[m]||"";break}if(void 0===c&&null!=_){var k;for(k in _)if(_.hasOwnProperty(k)&&k===m){c=_[k].operand;break}}void 0===c&&(c="=");var N=null!=i.searchtitle?i.searchtitle:u("search.operandTitle");C="<a title='"+N+"' data-soper='"+m+"' class='"+getGuiStyles.call(t,"searchToolbar.operButton","soptclass")+"' data-colname='"+this.name+"'>"+c+"</a>"}if($("td",I).first().data("colindex",e).append(C),null!=i.sopt&&1!==i.sopt.length||$("td.ui-search-oper",I).hide(),a.search&&null!=b[this.name]&&(i.defaultValue=b[this.name].data),void 0===i.clearSearch&&(i.clearSearch="text"===this.stype),i.clearSearch){var E=$.isFunction(d.resetTitle)?d.resetTitle.call(t,{options:d,cm:y,cmName:y.name,iCol:e}):(u("search.resetTitle")||"Clear Search Value")+" "+jgrid.stripHtml(a.colNames[e]);$("td",I).eq(2).append("<a title='"+E+"' aria-label='"+E+"' class='"+getGuiStyles.call(t,"searchToolbar.clearButton","clearsearchclass")+"'><span>"+d.resetIcon+"</span></a>")}else $("td",I).eq(2).hide();switch(this.stype){case"select":if(r=this.surl||i.dataUrl)n=O,$(n).append(I),$.ajax($.extend({url:r,context:{stbl:I,options:i,cm:y,iCol:e},dataType:"html",success:function(e,r,a){var l,n,s=this.cm,c=this.iCol,u=this.options,p=this.stbl.find(">tbody>tr>td.ui-search-input");void 0!==u.buildSelect?(l=u.buildSelect.call(t,e,a,s,c),l&&p.append(l)):p.append(e),n=p.children("select"),0===n.find("option[value='']").length&&"string"==typeof i.noFilterText&&(P=document.createElement("option"),P.value="",P.innerHTML=i.noFilterText,n.prepend(P)),void 0!==u.defaultValue&&n.val(u.defaultValue),n.attr({name:s.index||s.name,id:w(s.name)}),u.attr&&n.attr(u.attr),n.addClass(v),n.css({width:"100%"}),o.call(t,n[0],u),jgrid.fullBoolFeedback.call(t,u.selectFilled,"jqGridSelectFilled",{elem:n[0],options:u,cm:s,cmName:s.name,iCol:c,mode:q}),d.autosearch===!0&&n.change(function(){return x(),!1})}},jgrid.ajaxOptions,a.ajaxSelectOptions||{}));else{var A,T,M;if(y.searchoptions?(A=void 0===S.value?R.value||"":S.value,T=void 0===S.separator?R.separator||":":S.separator,M=void 0===S.delimiter?R.delimiter||";":S.delimiter):y.editoptions&&(A=void 0===R.value?"":R.value,T=void 0===R.separator?":":R.separator,M=void 0===R.delimiter?";":R.delimiter),A){var z=document.createElement("select");z.style.width="100%",$(z).attr({name:y.index||y.name,id:w(y.name),"aria-describedby":a.id+"_"+y.name});var B,P,L,H,V;if("string"==typeof A)for(m=A.split(M),H=0;H<m.length;H++)B=m[H].split(T),P=document.createElement("option"),P.value=B[0],""===B[0]&&(V=!0),P.innerHTML=B[1],z.appendChild(P);else if("object"==typeof A)for(L in A)A.hasOwnProperty(L)&&(P=document.createElement("option"),P.value=L,""===L&&(V=!0),P.innerHTML=A[L],z.appendChild(P));V||"string"!=typeof i.noFilterText||(P=document.createElement("option"),P.value="",P.innerHTML=i.noFilterText,P.selected=!0,$(z).prepend(P)),void 0!==i.defaultValue&&$(z).val(i.defaultValue),i.attr&&$(z).attr(i.attr),$(z).addClass(v),$(O).append(I),o.call(t,z,i),$("td",I).eq(1).append(z),jgrid.fullBoolFeedback.call(t,i.selectFilled,"jqGridSelectFilled",{elem:z,options:y.searchoptions||R,cm:y,cmName:y.name,iCol:e,mode:q}),d.autosearch===!0&&$(z).change(function(){return x(),!1})}}break;case"text":var W=void 0!==i.defaultValue?i.defaultValue:"";$("td",I).eq(1).append("<input role='search' type='text' class='"+v+"' name='"+(y.index||y.name)+"' id='"+w(y.name)+"' aria-labelledby='jqgh_"+a.id+"_"+y.name+"' value='"+W+"'/>"),$(O).append(I),i.attr&&$("input",O).attr(i.attr),o.call(t,$("input",O)[0],i),d.autosearch===!0&&(d.searchOnEnter?$("input",O).keypress(function(e){var t=e.charCode||e.keyCode||0;return 13===t?(x(),!1):this}):$("input",O).keydown(function(e){var t=e.which;switch(t){case 13:return!1;case 9:case 16:case 37:case 38:case 39:case 40:case 27:break;default:s&&clearTimeout(s),s=setTimeout(function(){x()},d.autosearchDelay)}}));break;case"custom":$("td",I).eq(1).append("<span style='width:100%;padding:0;box-sizing:border-box;' class='"+v+"' name='"+(y.index||y.name)+"' id='"+w(y.name)+"'/>"),$(O).append(I);try{if(!$.isFunction(i.custom_element))throw"e1";var U=i.custom_element.call(t,void 0!==i.defaultValue?i.defaultValue:"",i);if(!U)throw"e2";U=$(U).addClass("customelement"),$(O).find("span[name='"+(y.index||y.name)+"']").append(U)}catch(Y){"e1"===Y&&l.call(t,p,"function 'custom_element' "+h.nodefined,g),"e2"===Y?l.call(t,p,"function 'custom_element' "+h.novalue,g):l.call(t,p,"string"==typeof Y?Y:Y.message,g)}}}$(G).append(O),$(G).find(".ui-search-oper .soptclass,.ui-search-clear .clearsearchclass").hover(function(){$(this).addClass(f)},function(){$(this).removeClass(f)}),$(F).append(G),d.searchOperators||$("td",I).eq(0).hide()}),$(i.hDiv).find(">div>.ui-jqgrid-htable>thead").append(F),d.searchOperators&&($(".soptclass",F).click(function(e){var t=$(this).offset(),i=t.left,r=t.top;S(this,i,r),e.stopPropagation()}),$("body").on("click",function(e){"soptclass"!==e.target.className&&$("#sopt_menu").hide()})),$(".clearsearchclass",F).click(function(){var e=$(this).parents("tr").first(),t=parseInt($("td.ui-search-oper",e).data("colindex"),10),i=$.extend({},c[t].searchoptions||{}),r=i.defaultValue||"";"select"===c[t].stype?r?$("td.ui-search-input select",e).val(r):$("td.ui-search-input select",e)[0].selectedIndex=0:$("td.ui-search-input input",e).val(r),d.autosearch===!0&&x()}),t.ftoolbar=!0,t.triggerToolbar=x,t.clearToolbar=q,t.toggleToolbar=C,a.frozenColumns===!0&&(r.jqGrid("destroyFrozenColumns"),r.jqGrid("setFrozenColumns")),r.bind("jqGridRefreshFilterValues.filterToolbar"+(d.loadFilterDefaults?" jqGridAfterLoadComplete.filterToolbar":""),function(){var e,t,i,r,o,l=y(!0)||{};if(d.stringResult||d.searchOperators||"local"===a.datatype||!a.search){for(e in l)l.hasOwnProperty(e)&&(t=l[e],i=$(j(e)),$.trim(i.val())!==t.data&&i.val(t.data),r=i.closest(".ui-search-input").siblings(".ui-search-oper").children(".soptclass"),r.data("soper",t.op),r.text(d.operands[t.op]));for(o=0;o<a.colModel.length;o++)e=a.colModel[o].name,l.hasOwnProperty(e)||$(j(e)).val("")}})}})},destroyFilterToolbar:function(){return this.each(function(){var e=this;e.ftoolbar&&(e.triggerToolbar=null,e.clearToolbar=null,e.toggleToolbar=null,e.ftoolbar=!1,$(e.grid.hDiv).find("table thead tr.ui-search-toolbar").remove(),e.p.frozenColumns===!0&&$(e).jqGrid("destroyFrozenColumns").jqGrid("setFrozenColumns"))})},destroyGroupHeader:function(e){return void 0===e&&(e=!0),this.each(function(){var t,i,r,a,o,l=this,n=l.grid,s=l.p.colModel,d=$("table.ui-jqgrid-htable thead",n.hDiv);if(n){$(l).unbind(".setGroupHeaders");var c=$("<tr>",{role:"row"}).addClass("ui-jqgrid-labels"),u=n.headers;for(t=0,i=u.length;t<i;t++){o=s[t].hidden?"none":"",r=$(u[t].el).width(u[t].width).css("display",o);try{r.removeAttr("rowSpan")}catch(p){r.attr("rowSpan",1)}c.append(r),a=r.children("span.ui-jqgrid-resize"),a.length>0&&(a[0].style.height=""),r.children("div")[0].style.top=""}$(d).children("tr.ui-jqgrid-labels").remove(),$(d).prepend(c),e===!0&&$(l).jqGrid("setGridParam",{groupHeader:null})}})},setGroupHeaders:function(e){return e=$.extend({useColSpanStyle:!1,applyLabelClasses:!0,groupHeaders:[]},e||{}),this.each(function(){this.p.groupHeader=e;var t,i,r,a,o,l,n,s,d,c,u,p,g,h,f,m=this,v=0,b=m.p,w=b.colModel,j=w.length,y=m.grid.headers,x=$("table.ui-jqgrid-htable",m.grid.hDiv),q=jgrid.isCellClassHidden,C=x.children("thead").children("tr.ui-jqgrid-labels"),D=C.last().addClass("jqg-second-row-header"),_=x.children("thead"),S=x.find(".jqg-first-row-header");void 0===S[0]?S=$("<tr>",{role:"row","aria-hidden":"true"}).addClass("jqg-first-row-header").css("height","auto"):S.empty();var F=function(e,t){var i,r=t.length;for(i=0;i<r;i++)if(t[i].startColumnName===e)return i;return-1};for($(m).prepend(_),r=$("<tr>",{role:"row"}).addClass("ui-jqgrid-labels jqg-third-row-header"),t=0;t<j;t++)if(o=y[t].el,l=$(o),i=w[t],n={height:"0",width:y[t].width+"px",display:i.hidden?"none":""},$("<th>",{role:"gridcell"}).css(n).addClass("ui-first-th-"+b.direction+(e.applyLabelClasses?" "+(i.labelClasses||""):"")).appendTo(S),o.style.width="",f=getGuiStyles.call(m,"colHeaders","ui-th-column-header ui-th-"+b.direction+" "+(e.applyLabelClasses?i.labelClasses||"":"")),s=F(i.name,e.groupHeaders),s>=0){for(d=e.groupHeaders[s],c=d.numberOfColumns,u=d.titleText,p=0,s=0,g=0;s<c&&t+s<j;s++)g++,w[t+s].hidden||q(w[t+s].classes)||p++;a=$("<th>").addClass(f).css({height:"22px","border-top":"0 none"}).html(u),g>1&&a.attr("colspan",String(g)),b.headertitles&&a.attr("title",a.text()),0===p&&a.hide(),l.before(a),r.append(o),v=c-1}else 0===v?e.useColSpanStyle?l.attr("rowspan",C.length+1):($("<th>").addClass(f).css({display:i.hidden?"none":"","border-top":"0 none"}).insertBefore(l),r.append(o)):(r.append(o),v--);h=$(m).children("thead"),h.prepend(S),r.insertAfter(D),x.prepend(h),e.useColSpanStyle&&(x.find("span.ui-jqgrid-resize").each(function(){var e=$(this).parent();e.is(":visible")&&(this.style.cssText="height:"+e.height()+"px !important;cursor:col-resize;")}),x.find(".ui-th-column>div").each(function(){var e=$(this),t=e.parent();t.is(":visible")&&t.is(":has(span.ui-jqgrid-resize)")&&!e.hasClass("ui-jqgrid-rotate")&&!e.hasClass("ui-jqgrid-rotateOldIE")&&e.css("top",(t.height()-e.outerHeight(!0))/2+"px")})),$(m).triggerHandler("jqGridAfterSetGroupHeaders")})},getNumberOfFrozenColumns:function(){var e=this;if(0===e.length)return 0;e=e[0];var t,i=e.p.colModel,r=i.length,a=-1;for(t=0;t<r&&i[t].frozen===!0;t++)a=t;return a+1},setFrozenColumns:function(){return this.each(function(){var e=this,t=$(e),i=e.p,r=e.grid;if(r&&null!=i&&i.frozenColumns!==!0){var a,o,l=i.colModel,n=l.length,s=-1,d=!1,c=[],u=jqID(i.id),p=getGuiStyles.call(e,"states.hover"),g=getGuiStyles.call(e,"states.disabled");if(i.subGrid!==!0&&i.treeGrid!==!0&&!i.scroll){for(a=0;a<n&&l[a].frozen===!0;a++)d=!0,s=a,c.push("#jqgh_"+u+"_"+jqID(l[a].name));if(i.sortable&&(o=$(r.hDiv).find(".ui-jqgrid-htable .ui-jqgrid-labels"),o.sortable("destroy"),t.jqGrid("setGridParam",{sortable:{options:{items:c.length>0?">th:not(:has("+c.join(",")+"),:hidden)":">th:not(:hidden)"}}}),t.jqGrid("sortableColumns",o)),s>=0&&d){var h=i.caption?$(r.cDiv).outerHeight():0,f=$(".ui-jqgrid-htable",i.gView).height();i.toppager&&(h+=$(r.topDiv).outerHeight()),i.toolbar[0]===!0&&"bottom"!==i.toolbar[1]&&(h+=$(r.uDiv).outerHeight()),r.fhDiv=$("<div style='position:absolute;overflow:hidden;"+("rtl"===i.direction?"right:0;border-top-left-radius:0;":"left:0;border-top-right-radius:0;")+"top:"+h+"px;height:"+f+"px;' class='"+getGuiStyles.call(e,"hDiv","frozen-div ui-jqgrid-hdiv")+"'></div>"),r.fbDiv=$("<div style='position:absolute;overflow:hidden;"+("rtl"===i.direction?"right:0;":"left:0;")+"top:"+(parseInt(h,10)+parseInt(f,10)+1)+"px;overflow:hidden;' class='frozen-bdiv ui-jqgrid-bdiv'></div>"),$(i.gView).append(r.fhDiv);var m=$(".ui-jqgrid-htable",i.gView).clone(!0),v=m[0].tHead.rows;if(i.groupHeader){$(v[0].cells).filter(":gt("+s+")").remove(),$(v).filter(".jqg-third-row-header").each(function(){$(this).children("th[id]").each(function(){var t,r=$(this).attr("id");r&&r.substr(0,e.id.length+1)===e.id+"_"&&(t=r.substr(e.id.length+1),i.iColByName[t]>s&&$(this).remove())})});var b,w,j=-1,y=-1;$(v).filter(".jqg-second-row-header").children("th").each(function(){if(b=parseInt($(this).attr("colspan")||1,10),w=parseInt($(this).attr("rowspan")||1,10),w>1?(j++,y++):b&&(j+=b,y++),j===s)return!1}),j!==s&&(y=s),$(v).filter(".jqg-second-row-header,.ui-search-toolbar").each(function(){$(this).children(":gt("+y+")").remove()})}else $(v).each(function(){$(this).children(":gt("+s+")").remove()});if($(m).width(1),$(r.fhDiv).append(m).mousemove(function(e){if(r.resizing)return r.dragMove(e),!1}).scroll(function(){this.scrollLeft=0}),i.footerrow){var x=$(".ui-jqgrid-bdiv",i.gView).height();r.fsDiv=$("<div style='position:absolute;"+("rtl"===i.direction?"right:0;":"left:0;")+"top:"+(parseInt(h,10)+parseInt(f,10)+parseInt(x,10)+1)+"px;' class='frozen-sdiv ui-jqgrid-sdiv'></div>"),$(i.gView).append(r.fsDiv);var q=$(".ui-jqgrid-ftable",i.gView).clone(!0);$("tr",q).each(function(){$("td:gt("+s+")",this).remove()}),$(q).width(1),$(r.fsDiv).append(q)}t.bind("jqGridSortCol.setFrozenColumns",function(e,t,a){var o=$("tr.ui-jqgrid-labels:last th:eq("+i.lastsort+")",r.fhDiv),l=$("tr.ui-jqgrid-labels:last th:eq("+a+")",r.fhDiv);$("span.ui-grid-ico-sort",o).addClass(g),$(o).attr("aria-selected","false"),$("span.ui-icon-"+i.sortorder,l).removeClass(g),$(l).attr("aria-selected","true"),i.viewsortcols[0]||i.lastsort!==a&&($("span.s-ico",o).hide(),$("span.s-ico",l).show())}),$(i.gView).append(r.fbDiv),$(r.bDiv).scroll(function(){$(r.fbDiv).scrollTop($(this).scrollTop())}),i.hoverrows===!0&&$(i.idSel).unbind("mouseover").unbind("mouseout");var C=function(e,t){var i=e.height();Math.abs(i-t)>=1&&t>0&&(e.height(t),i=e.height(),Math.abs(t-i)>=1&&e.height(t+Math.round(t-i)))},D=function(e,t){var i=e.width();Math.abs(i-t)>=1&&(e.width(t),i=e.width(),Math.abs(t-i)>=1&&e.width(t+Math.round(t-i)))},_=function(e,t,r,o){var l,n,s,d,c,u,p,g,h,f,m,v,b,w=$(t).position().top;if(null!=e&&e.length>0){if(e[0].scrollTop=t.scrollTop,e.css("rtl"===i.direction?{top:w,right:0}:{top:w,left:0}),s=e.children("table").children("thead").children("tr"),d=$(t).children("div").children("table").children("thead").children("tr"),0===d.length&&(s=$(e.children("table")[0].rows),d=$($(t).children("div").children("table")[0].rows)),n=Math.min(s.length,d.length),m=n>0?$(s[0]).position().top:0,v=n>0?$(d[0]).position().top:0,r>=0)for(o>=0&&(n=Math.min(o+1,n)),l=r;l<n;l++)if(c=$(d[l]),"none"!==c.css("display")&&c.is(":visible")){if(w=c.position().top,u=$(s[l]),p=u.position().top,g=c.height(),null!=i.groupHeader&&i.groupHeader.useColSpanStyle)for(b=c[0].cells,a=0;a<b.length;a++)f=b[a],null!=f&&"TH"===f.nodeName.toUpperCase()&&(g=Math.max(g,$(f).height()));h=g+(w-v)+(m-p),C(u,h)}C(e,t.clientHeight)}},S={resizeDiv:!0,resizedRows:{iRowStart:0,iRowEnd:-1}},F={header:S,resizeFooter:!0,body:S};t.bind("jqGridAfterGridComplete.setFrozenColumns",function(){$(i.idSel+"_frozen").remove(),$(r.fbDiv).height(r.hDiv.clientHeight);var e=$(this).clone(!0),a=e[0].rows,o=t[0].rows;if($(a).filter("tr[role=row]").each(function(){$(this.cells).filter("td[role=gridcell]:gt("+s+")").remove()}),r.fbRows=a,e.width(1).attr("id",i.id+"_frozen"),e.appendTo(r.fbDiv),i.hoverrows===!0){var l=function(e,t,i){$(e)[t](p),$(i[e.rowIndex])[t](p)};$(a).filter(".jqgrow").hover(function(){l(this,"addClass",o)},function(){l(this,"removeClass",o)}),$(o).filter(".jqgrow").hover(function(){l(this,"addClass",a)},function(){l(this,"removeClass",a)})}_(r.fhDiv,r.hDiv,0,-1),_(r.fbDiv,r.bDiv,0,-1),r.sDiv&&_(r.fsDiv,r.sDiv,0,-1)});var R=function(e){$(r.fbDiv).scrollTop($(r.bDiv).scrollTop()),e.header.resizeDiv&&_(r.fhDiv,r.hDiv,e.header.iRowStart,e.header.iRowEnd),e.body.resizeDiv&&_(r.fbDiv,r.bDiv,e.body.iRowStart,e.body.iRowEnd),e.resizeFooter&&r.sDiv&&e.resizeFooter&&_(r.fsDiv,r.sDiv,0,-1);var t=r.fhDiv[0].clientWidth;e.header.resizeDiv&&null!=r.fhDiv&&r.fhDiv.length>=1&&C($(r.fhDiv),r.hDiv.clientHeight),e.body.resizeDiv&&null!=r.fbDiv&&r.fbDiv.length>0&&D($(r.fbDiv),t),e.resizeFooter&&null!=r.fsDiv&&r.fsDiv.length>=0&&D($(r.fsDiv),t)};$(i.gBox).bind("resizestop.setFrozenColumns",function(){setTimeout(function(){R(F)},50)}),t.bind("jqGridInlineEditRow.setFrozenColumns jqGridInlineAfterRestoreRow.setFrozenColumns jqGridInlineAfterSaveRow.setFrozenColumns jqGridAfterEditCell.setFrozenColumns jqGridAfterRestoreCell.setFrozenColumns jqGridAfterSaveCell.setFrozenColumns jqGridResizeStop.setFrozenColumns",function(e,i){var r=t.jqGrid("getInd",i);R({header:{resizeDiv:!1,resizedRows:{iRowStart:-1,iRowEnd:-1}},resizeFooter:!0,body:{resizeDiv:!0,resizedRows:{iRowStart:r,iRowEnd:r}}})}),t.bind("jqGridResizeStop.setFrozenColumns",function(){R(F)}),t.bind("jqGridResetFrozenHeights.setFrozenColumns",function(e,t){R(t||F)}),r.hDiv.loading||t.triggerHandler("jqGridAfterGridComplete"),i.frozenColumns=!0}}}})},destroyFrozenColumns:function(){return this.each(function(){var e=this,t=$(e),i=e.grid,r=e.p,a=jqID(r.id);if(i&&r.frozenColumns===!0){if($(i.fhDiv).remove(),$(i.fbDiv).remove(),i.fhDiv=null,i.fbDiv=null,i.fbRows=null,r.footerrow&&($(i.fsDiv).remove(),i.fsDiv=null),t.unbind(".setFrozenColumns"),r.hoverrows===!0){var o,l=getGuiStyles.call(e,"states.hover");t.bind("mouseover",function(e){o=$(e.target).closest("tr.jqgrow"),"ui-subgrid"!==$(o).attr("class")&&$(o).addClass(l)}).bind("mouseout",function(e){o=$(e.target).closest("tr.jqgrow"),$(o).removeClass(l)})}if(r.frozenColumns=!1,r.sortable){var n=$(i.hDiv).find(".ui-jqgrid-htable .ui-jqgrid-labels");n.sortable("destroy"),t.jqGrid("setGridParam",{sortable:{options:{items:">th:not(:has(#jqgh_"+a+"_cb,#jqgh_"+a+"_rn,#jqgh_"+a+"_subgrid),:hidden)"}}}),t.jqGrid("sortableColumns",n)}}})}}),$.fn.jqFilter=function(e){if("string"==typeof e){var t=$.fn.jqFilter[e];if(!t)throw"jqFilter - No such method: "+e;var i=$.makeArray(arguments).slice(1);return t.apply(this,i)}var r=$.extend(!0,{filter:null,columns:[],onChange:null,afterRedraw:null,checkValues:null,error:!1,errmsg:"",errorcheck:!0,showQuery:!0,sopt:null,ops:[],operands:null,numopts:["eq","ne","lt","le","gt","ge","nu","nn","in","ni"],stropts:["eq","ne","bw","bn","ew","en","cn","nc","nu","nn","in","ni"],strarr:["text","string","blob"],groupOps:[{op:"AND",text:"AND"},{op:"OR",text:"OR"}],groupButton:!0,ruleButtons:!0,direction:"ltr"},jgrid.filter,e||{});return this.each(function(){if(!this.filter){this.p=r,null!==r.filter&&void 0!==r.filter||(r.filter={groupOp:r.groupOps[0].op,rules:[],groups:[]});var e,t,i=r.columns.length,a=/msie/i.test(navigator.userAgent)&&!window.opera,o=$.isFunction,l=null!=jgrid.defaults&&o(jgrid.defaults.fatalError)?jgrid.defaults.fatalError:alert,n=function(){return $("#"+jgrid.jqID(r.id))[0]||null},s=function(e,t){return $(n()).jqGrid("getGuiStyles",e,t||"")},d=function(e){return $(n()).jqGrid("getGridRes","search."+e)},c=function(e){var t=n(),i=t.p.iColByName[e];return void 0!==i?{cm:t.p.colModel[i],iCol:i}:(i=t.p.iPropByName[e],void 0!==i?{cm:t.p.colModel[i],iCol:i,isAddProp:!0}:{cm:null,iCol:-1})},u=s("states.error"),p=s("dialog.content");if(r.initFilter=$.extend(!0,{},r.filter),i){for(e=0;e<i;e++)t=r.columns[e],t.stype?t.inputtype=t.stype:t.inputtype||(t.inputtype="text"),t.sorttype?t.searchtype=t.sorttype:t.searchtype||(t.searchtype="string"),void 0===t.hidden&&(t.hidden=!1),t.label||(t.label=t.name),t.cmName=t.name,t.index&&(t.name=t.index),t.hasOwnProperty("searchoptions")||(t.searchoptions={}),t.hasOwnProperty("searchrules")||(t.searchrules={});r.showQuery&&$(this).append("<table class='queryresult "+p+"' style='display:block;max-width:440px;border:0px none;' dir='"+r.direction+"'><tbody><tr><td class='query'></td></tr></tbody></table>");var g=function(e,t){var i=[!0,""],a=n();if(o(t.searchrules))i=t.searchrules.call(a,e,t);else if(jgrid&&jgrid.checkValues)try{i=jgrid.checkValues.call(a,e,-1,t.searchrules,t.label)}catch(l){}i&&i.length&&i[0]===!1&&(r.error=!i[0],r.errmsg=i[1])};this.onchange=function(){return r.error=!1,r.errmsg="",!!o(r.onChange)&&r.onChange.call(n(),r,this)},this.reDraw=function(){$("table.group:first",this).remove();var e=this.createTableForGroup(r.filter,null);$(this).append(e),o(r.afterRedraw)&&r.afterRedraw.call(n(),r,this)},this.createTableForGroup=function(e,t){var i,a=this,o=$("<table class='"+s("searchDialog.operationGroup","group")+"' style='border:0px none;'><tbody></tbody></table>"),l="left";"rtl"===r.direction&&(l="right",o.attr("dir","rtl")),null===t&&o.append("<tr class='error' style='display:none;'><th colspan='5' class='"+u+"' align='"+l+"'></th></tr>");var n=$("<tr></tr>");o.append(n);var c=$("<th colspan='5' align='"+l+"'></th>");if(n.append(c),r.ruleButtons===!0){var p=$("<select class='"+s("searchDialog.operationSelect","opsel")+"'></select>");c.append(p);var g,h="";for(i=0;i<r.groupOps.length;i++)g=e.groupOp===a.p.groupOps[i].op?" selected='selected'":"",h+="<option value='"+a.p.groupOps[i].op+"'"+g+">"+a.p.groupOps[i].text+"</option>";p.append(h).bind("change",function(){e.groupOp=$(p).val(),a.onchange()})}var f="<span></span>";if(r.groupButton&&(f=$("<input type='button' value='+ {}' title='"+d("addGroupTitle")+"' class='"+s("searchDialog.addGroupButton","add-group")+"'/>"),f.bind("click",function(){return void 0===e.groups&&(e.groups=[]),e.groups.push({groupOp:r.groupOps[0].op,rules:[],groups:[]}),a.reDraw(),a.onchange(),!1})),c.append(f),r.ruleButtons===!0){var m,v=$("<input type='button' value='+' title='"+d("addRuleTitle")+"' class='"+s("searchDialog.addRuleButton","add-rule ui-add")+"'/>");v.bind("click",function(){var t,r,o;for(void 0===e.rules&&(e.rules=[]),i=0;i<a.p.columns.length;i++)if(t=void 0===a.p.columns[i].search||a.p.columns[i].search,r=a.p.columns[i].hidden===!0,o=a.p.columns[i].searchoptions.searchhidden===!0,o&&t||t&&!r){m=a.p.columns[i];break}var l;return l=m.searchoptions.sopt?m.searchoptions.sopt:a.p.sopt?a.p.sopt:$.inArray(m.searchtype,a.p.strarr)!==-1?a.p.stropts:a.p.numopts,e.rules.push({field:m.name,op:l[0],data:""}),a.reDraw(),!1}),c.append(v)}if(null!==t){var b=$("<input type='button' value='-' title='"+d("deleteGroupTitle")+"' class='"+s("searchDialog.deleteGroupButton","delete-group")+"'/>");c.append(b),b.bind("click",function(){for(i=0;i<t.groups.length;i++)if(t.groups[i]===e){t.groups.splice(i,1);break}return a.reDraw(),a.onchange(),!1})}if(void 0!==e.groups){var w,j,y;for(i=0;i<e.groups.length;i++)w=$("<tr></tr>"),o.append(w),j=$("<td class='first'></td>"),w.append(j),y=$("<td colspan='4'></td>"),y.append(this.createTableForGroup(e.groups[i],e)),w.append(y)}if(void 0===e.groupOp&&(e.groupOp=a.p.groupOps[0].op),void 0!==e.rules)for(i=0;i<e.rules.length;i++)o.append(this.createTableRowForRule(e.rules[i],e));return o},this.createTableRowForRule=function(e,t){var i,l,u,p,g=this,h=n(),f=$("<tr></tr>"),m="";f.append("<td class='first'></td>");var v=$("<td class='columns'></td>");f.append(v);var b,w=$("<select class='"+s("searchDialog.label","selectLabel")+"'></select>"),j=[];v.append(w),w.bind("change",function(){e.field=$(w).val();var t,i,r=$(this).parents("tr:first");for(i=0;i<g.p.columns.length;i++)if(g.p.columns[i].name===e.field){t=g.p.columns[i];break}if(t){var n=$.extend({},t.editoptions||{});delete n.readonly,delete n.disabled;var d=$.extend({},n||{},t.searchoptions||{},c(t.cmName),{id:jgrid.randId(),name:t.name,mode:"search"});a&&"text"===t.inputtype&&(d.size||(d.size=10));var u=jgrid.createEl.call(h,t.inputtype,d,"",!0,g.p.ajaxSelectOptions||{},!0);$(u).addClass(s("searchDialog.elem","input-elm")),l=d.sopt?d.sopt:g.p.sopt?g.p.sopt:$.inArray(t.searchtype,g.p.strarr)!==-1?g.p.stropts:g.p.numopts;var p,f,m,v="",y=0;for(j=[],$.each(g.p.ops,function(){j.push(this.oper)}),g.p.cops&&$.each(g.p.cops,function(e){j.push(e)}),i=0;i<l.length;i++)f=l[i],b=$.inArray(l[i],j),b!==-1&&(p=g.p.ops[b],m=void 0!==p?p.text:g.p.cops[f].text,0===y&&(e.op=f),v+="<option value='"+f+"'>"+m+"</option>",y++);if($(".selectopts",r).empty().append(v),$(".selectopts",r)[0].selectedIndex=0,jgrid.msie&&jgrid.msiever()<9){var x=parseInt($("select.selectopts",r)[0].offsetWidth,10)+1;$(".selectopts",r).width(x),$(".selectopts",r).css("width","auto")}$(".data",r).empty().append(u),jgrid.bindEv.call(h,u,d),$(".input-elm",r).bind("change",function(t){var i=t.target;e.data="SPAN"===i.nodeName.toUpperCase()&&d&&o(d.custom_value)?d.custom_value.call(h,$(i).children(".customelement:first"),"get"):i.value,g.onchange()}),setTimeout(function(){e.data=$(u).val(),g.onchange()},0)}});var y,x,q,C=0;for(i=0;i<g.p.columns.length;i++)y=void 0===g.p.columns[i].search||g.p.columns[i].search,x=g.p.columns[i].hidden===!0,q=g.p.columns[i].searchoptions.searchhidden===!0,(q&&y||y&&!x)&&(p="",e.field===g.p.columns[i].name&&(p=" selected='selected'",C=i),m+="<option value='"+g.p.columns[i].name+"'"+p+">"+g.p.columns[i].label+"</option>");w.append(m);var D=$("<td class='operators'></td>");f.append(D),u=r.columns[C],a&&"text"===u.inputtype&&(u.searchoptions.size||(u.searchoptions.size=10));var _=$.extend({},u.editoptions||{});delete _.readonly,delete _.disabled;var S=jgrid.createEl.call(h,u.inputtype,$.extend({},_,u.searchoptions||{},c(u.cmName),{id:jgrid.randId(),name:u.name}),e.data,!0,g.p.ajaxSelectOptions||{},!0);"nu"!==e.op&&"nn"!==e.op||($(S).attr("readonly","true"),$(S).attr("disabled","true"));var F=$("<select class='"+s("searchDialog.operator","selectopts")+"'></select>");D.append(F),F.bind("change",function(){e.op=$(F).val();var t=$(this).parents("tr:first"),i=$(".input-elm",t)[0];"nu"===e.op||"nn"===e.op?(e.data="","SELECT"!==i.tagName.toUpperCase()&&(i.value=""),i.setAttribute("readonly","true"),i.setAttribute("disabled","true")):("SELECT"===i.tagName.toUpperCase()&&(e.data=i.value),i.removeAttribute("readonly"),i.removeAttribute("disabled")),g.onchange()}),l=u.searchoptions.sopt?u.searchoptions.sopt:g.p.sopt?g.p.sopt:$.inArray(u.searchtype,g.p.strarr)!==-1?g.p.stropts:g.p.numopts,m="";var R,G;for($.each(g.p.ops,function(){j.push(this.oper)}),g.p.cops&&$.each(g.p.cops,function(e){j.push(e)}),i=0;i<l.length;i++)G=l[i],b=$.inArray(l[i],j),b!==-1&&(R=g.p.ops[b],p=e.op===G?" selected='selected'":"",m+="<option value='"+G+"'"+p+">"+(void 0!==R?R.text:g.p.cops[G].text)+"</option>");F.append(m);var O=$("<td class='data'></td>");f.append(O),O.append(S),jgrid.bindEv.call(h,S,u.searchoptions),$(S).addClass(s("searchDialog.elem","input-elm")).bind("change",function(){e.data="custom"===u.inputtype?u.searchoptions.custom_value.call(h,$(this).children(".customelement:first"),"get"):$(this).val(),g.onchange()});var I=$("<td></td>");if(f.append(I),r.ruleButtons===!0){var k=$("<input type='button' value='-' title='"+d("deleteRuleTitle")+"' class='"+s("searchDialog.deleteRuleButton","delete-rule ui-del")+"'/>");I.append(k),k.bind("click",function(){for(i=0;i<t.rules.length;i++)if(t.rules[i]===e){t.rules.splice(i,1);break}return g.reDraw(),g.onchange(),!1})}return f},this.getStringForGroup=function(e){var t,i="(";if(void 0!==e.groups)for(t=0;t<e.groups.length;t++){
i.length>1&&(i+=" "+e.groupOp+" ");try{i+=this.getStringForGroup(e.groups[t])}catch(r){l(r)}}if(void 0!==e.rules)try{for(t=0;t<e.rules.length;t++)i.length>1&&(i+=" "+e.groupOp+" "),i+=this.getStringForRule(e.rules[t])}catch(a){l(a)}return i+=")","()"===i?"":i},this.getStringForRule=function(e){var t,i,a,l,n="",s="",d=e.data,c=["int","integer","float","number","currency"];for(t=0;t<r.ops.length;t++)if(r.ops[t].oper===e.op){n=r.operands.hasOwnProperty(e.op)?r.operands[e.op]:"",s=r.ops[t].oper;break}if(""===s&&null!=r.cops)for(l in r.cops)if(r.cops.hasOwnProperty(l)&&(s=l,n=r.cops[l].operand,o(r.cops[l].buildQueryValue)))return r.cops[l].buildQueryValue.call(r,{cmName:e.field,searchValue:d,operand:n});for(t=0;t<r.columns.length;t++)if(r.columns[t].name===e.field){i=r.columns[t];break}return null==i?"":("bw"!==s&&"bn"!==s||(d+="%"),"ew"!==s&&"en"!==s||(d="%"+d),"cn"!==s&&"nc"!==s||(d="%"+d+"%"),"in"!==s&&"ni"!==s||(d=" ("+d+")"),r.errorcheck&&g(e.data,i),a=$.inArray(i.searchtype,c)!==-1||"nn"===s||"nu"===s?e.field+" "+n+" "+d:e.field+" "+n+' "'+d+'"')},this.resetFilter=function(){r.filter=$.extend(!0,{},r.initFilter),this.reDraw(),this.onchange()},this.hideError=function(){$("th."+u,this).html(""),$("tr.error",this).hide()},this.showError=function(){$("th."+u,this).html(r.errmsg),$("tr.error",this).show()},this.toUserFriendlyString=function(){return this.getStringForGroup(r.filter)},this.toString=function(){function e(e){if(i.p.errorcheck){var t,r;for(t=0;t<i.p.columns.length;t++)if(i.p.columns[t].name===e.field){r=i.p.columns[t];break}r&&g(e.data,r)}return e.op+"(item."+e.field+",'"+e.data+"')"}function t(i){var r,a="(";if(void 0!==i.groups)for(r=0;r<i.groups.length;r++)a.length>1&&(a+="OR"===i.groupOp?" || ":" && "),a+=t(i.groups[r]);if(void 0!==i.rules)for(r=0;r<i.rules.length;r++)a.length>1&&(a+="OR"===i.groupOp?" || ":" && "),a+=e(i.rules[r]);return a+=")","()"===a?"":a}var i=this;return t(r.filter)},this.reDraw(),r.showQuery&&this.onchange(),this.filter=!0}}})},$.extend($.fn.jqFilter,{toSQLString:function(){var e="";return this.each(function(){e=this.toUserFriendlyString()}),e},filterData:function(){var e;return this.each(function(){e=this.p.filter}),e},getParameter:function(e){return void 0!==e&&this.p.hasOwnProperty(e)?this.p[e]:this.p},resetFilter:function(){return this.each(function(){this.resetFilter()})},addFilter:function(e){"string"==typeof e&&(e=$.parseJSON(e)),this.each(function(){this.p.filter=e,this.reDraw(),this.onchange()})}});var xmlJsonClass={xml2json:function(e,t){9===e.nodeType&&(e=e.documentElement);var i=this.removeWhite(e),r=this.toObj(i),a=this.toJson(r,e.nodeName,"\t");return"{\n"+t+(t?a.replace(/\t/g,t):a.replace(/\t|\n/g,""))+"\n}"},json2xml:function(e,t){var i,r=function(e,t,i){var a,o,l,n,s,d="";if(e instanceof Array)if(0===e.length)d+=i+"<"+t+">__EMPTY_ARRAY_</"+t+">\n";else for(a=0,o=e.length;a<o;a+=1)l=i+r(e[a],t,i+"\t")+"\n",d+=l;else if("object"==typeof e){n=!1,d+=i+"<"+t;for(s in e)e.hasOwnProperty(s)&&("@"===s.charAt(0)?d+=" "+s.substr(1)+'="'+e[s].toString()+'"':n=!0);if(d+=n?">":"/>",n){for(s in e)e.hasOwnProperty(s)&&("#text"===s?d+=e[s]:"#cdata"===s?d+="<![CDATA["+e[s]+"]]>":"@"!==s.charAt(0)&&(d+=r(e[s],s,i+"\t")));d+=("\n"===d.charAt(d.length-1)?i:"")+"</"+t+">"}}else"function"==typeof e?d+=i+"<"+t+"><![CDATA["+e+"]]></"+t+">":(void 0===e&&(e=""),d+='""'===e.toString()||0===e.toString().length?i+"<"+t+">__EMPTY_STRING_</"+t+">":i+"<"+t+">"+e.toString()+"</"+t+">");return d},a="";for(i in e)e.hasOwnProperty(i)&&(a+=r(e[i],i,""));return t?a.replace(/\t/g,t):a.replace(/\t|\n/g,"")},toObj:function(e){var t,i,r={},a=/function/i,o=0,l=0,n=!1;if(1===e.nodeType){if(e.attributes.length)for(t=0;t<e.attributes.length;t+=1)r["@"+e.attributes[t].nodeName]=(e.attributes[t].nodeValue||"").toString();if(e.firstChild){for(i=e.firstChild;i;i=i.nextSibling)1===i.nodeType?n=!0:3===i.nodeType&&i.nodeValue.match(/[^ \f\n\r\t\v]/)?o+=1:4===i.nodeType&&(l+=1);if(n)if(o<2&&l<2)for(this.removeWhite(e),i=e.firstChild;i;i=i.nextSibling)3===i.nodeType?r["#text"]=this.escape(i.nodeValue):4===i.nodeType?a.test(i.nodeValue)?r[i.nodeName]=[r[i.nodeName],i.nodeValue]:r["#cdata"]=this.escape(i.nodeValue):r[i.nodeName]?r[i.nodeName]instanceof Array?r[i.nodeName][r[i.nodeName].length]=this.toObj(i):r[i.nodeName]=[r[i.nodeName],this.toObj(i)]:r[i.nodeName]=this.toObj(i);else e.attributes.length?r["#text"]=this.escape(this.innerXml(e)):r=this.escape(this.innerXml(e));else if(o)e.attributes.length?r["#text"]=this.escape(this.innerXml(e)):(r=this.escape(this.innerXml(e)),"__EMPTY_ARRAY_"===r?r="[]":"__EMPTY_STRING_"===r&&(r=""));else if(l)if(l>1)r=this.escape(this.innerXml(e));else for(i=e.firstChild;i;i=i.nextSibling){if(a.test(e.firstChild.nodeValue)){r=e.firstChild.nodeValue;break}r["#cdata"]=this.escape(i.nodeValue)}}e.attributes.length||e.firstChild||(r=null)}else 9===e.nodeType?r=this.toObj(e.documentElement):(null!=$.jgrid&&null!=$.jgrid.defaults&&$.isFunction($.jgrid.defaults.fatalError)?$.jgrid.defaults.fatalError:alert)("unhandled node type: "+e.nodeType);return r},toJson:function(e,t,i,r){void 0===r&&(r=!0);var a,o,l,n=t?'"'+t+'"':"",s="\t",d="\n",c=[],u=[];if(r||(s="",d=""),"[]"===e)n+=t?":[]":"[]";else if(e instanceof Array){for(o=0,a=e.length;o<a;o+=1)c[o]=this.toJson(e[o],"",i+s,r);n+=(t?":[":"[")+(c.length>1?d+i+s+c.join(","+d+i+s)+d+i:c.join(""))+"]"}else if(null===e)n+=(t&&":")+"null";else if("object"==typeof e){for(l in e)e.hasOwnProperty(l)&&(u[u.length]=this.toJson(e[l],l,i+s,r));n+=(t?":{":"{")+(u.length>1?d+i+s+u.join(","+d+i+s)+d+i:u.join(""))+"}"}else n+="string"==typeof e?(t&&":")+'"'+e.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"':(t&&":")+e.toString();return n},innerXml:function(e){var t,i="",r=function(e){var t,i,a="";if(1===e.nodeType){for(a+="<"+e.nodeName,t=0;t<e.attributes.length;t+=1)a+=" "+e.attributes[t].nodeName+'="'+(e.attributes[t].nodeValue||"").toString()+'"';if(e.firstChild){for(a+=">",i=e.firstChild;i;i=i.nextSibling)a+=r(i);a+="</"+e.nodeName+">"}else a+="/>"}else 3===e.nodeType?a+=e.nodeValue:4===e.nodeType&&(a+="<![CDATA["+e.nodeValue+"]]>");return a};if(e.hasOwnProperty("innerHTML"))i=e.innerHTML;else for(t=e.firstChild;t;t=t.nextSibling)i+=r(t);return i},escape:function(e){return e.replace(/[\\]/g,"\\\\").replace(/[\"]/g,'\\"').replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r")},removeWhite:function(e){e.normalize();for(var t,i=e.firstChild;i;)3===i.nodeType?i.nodeValue.match(/[^ \f\n\r\t\v]/)?i=i.nextSibling:(t=i.nextSibling,e.removeChild(i),i=t):1===i.nodeType?(this.removeWhite(i),i=i.nextSibling):i=i.nextSibling;return e}};window.xmlJsonClass=xmlJsonClass;var jgridFeedback=jgrid.feedback,fullBoolFeedback=jgrid.fullBoolFeedback,builderFmButon=jgrid.builderFmButon,addFormIcon=function(e,t,i){var r;t[0]===!0&&(r="<span class='"+mergeCssClasses("fm-button-icon",i,t[2])+"'></span>","right"===t[1]?e.addClass("fm-button-icon-right").append(r):e.addClass("fm-button-icon-left").prepend(r))},getGuiStateStyles=function(e){return getGuiStyles.call(this,"states."+e)},isEmptyString=function(e){return"&nbsp;"===e||"&#160;"===e||1===e.length&&160===e.charCodeAt(0)};jgrid.extend({searchGrid:function(e){return this.each(function(){function t(e){h("beforeShow",e)&&($(d).data("onClose",o.onClose),jgrid.viewModal.call(i,d,{gbox:c,jqm:o.jqModal,overlay:o.overlay,modal:o.modal,overlayClass:o.overlayClass,toTop:o.toTop,onHide:function(e){e.w.remove(),e.o&&e.o.remove()}}),h("afterShow",e))}var i=this,r=$(i),a=i.p;if(i.grid&&null!=a){var o=$.extend(!0,{drag:!0,sField:"searchField",sValue:"searchString",sOper:"searchOper",sFilter:"filters",loadDefaults:!0,beforeShowSearch:null,afterShowSearch:null,onInitializeSearch:null,afterRedraw:null,afterChange:null,closeAfterSearch:!1,closeAfterReset:!1,closeOnEscape:!1,searchOnEnter:!1,multipleSearch:!1,multipleGroup:!1,top:0,left:0,removemodal:!0,resize:!0,width:450,height:"auto",dataheight:"auto",showQuery:!1,errorcheck:!0,sopt:null,stringResult:void 0,onClose:null,onSearch:null,onReset:null,columns:[],tmplNames:null,tmplFilters:null,tmplLabel:" Template: ",showOnLoad:!1,layer:null,operands:{eq:"=",ne:"<>",lt:"<",le:"<=",gt:">",ge:">=",bw:"LIKE",bn:"NOT LIKE","in":"IN",ni:"NOT IN",ew:"LIKE",en:"NOT LIKE",cn:"LIKE",nc:"NOT LIKE",nu:"IS NULL",nn:"IS NOT NULL"}},base.getGridRes.call(r,"search"),jgrid.search||{},a.searching||{},e||{}),l="fbox_"+a.id,n=o.commonIconClass,s={themodal:"searchmod"+l,modalhead:"searchhd"+l,modalcontent:"searchcnt"+l,resizeAlso:l},d="#"+jqID(s.themodal),c=a.gBox,u=a.gView,p=$.each,g=a.postData[o.sFilter],h=function(){var e=$.makeArray(arguments);return e.unshift("Search"),e.unshift("Filter"),e.unshift(o),jgridFeedback.apply(i,e)},f=function(){jgrid.hideModal(d,{gb:c,jqm:o.jqModal,onClose:o.onClose,removemodal:o.removemodal})};if("string"==typeof g&&(g=""!==$.trim(g)?$.parseJSON(g):void 0),$(d).remove(),void 0!==$(d)[0])t($("#fbox_"+a.idSel));else{var m=$("<div><div id='"+l+"' class='"+getGuiStyles.call(i,"dialog.body","searchFilter")+"' style='overflow:auto'></div></div>").insertBefore(u);"rtl"===a.direction&&m.attr("dir","rtl");var v,b,w="",j="",y=!1,x=-1,q=$.extend([],a.colModel),C=builderFmButon.call(i,l+"_search",o.Find,mergeCssClasses(n,o.findDialogIcon),"right"),D=builderFmButon.call(i,l+"_reset",o.Reset,mergeCssClasses(n,o.resetDialogIcon),"left");if(o.showQuery&&(w=builderFmButon.call(i,l+"_query","Query",mergeCssClasses(n,o.queryDialogIcon),"left")+"&#160;"),o.searchForAdditionalProperties&&p(a.additionalProperties,function(){var e="string"==typeof this?{name:this}:this;e.label||(e.label=e.name),e.isAddProp=!0,q.push(e)}),o.columns.length?(q=o.columns,x=0,v=q[0].index||q[0].name):p(q,function(e,t){if(t.label||(t.label=t.isAddProp?t.name:a.colNames[e]),!y){var i=void 0===t.search||t.search,r=t.hidden===!0,o=t.searchoptions&&t.searchoptions.searchhidden===!0;(o&&i||i&&!r)&&(y=!0,v=t.index||t.name,x=e)}}),!g&&v||o.multipleSearch===!1){var _="eq";x>=0&&q[x].searchoptions&&q[x].searchoptions.sopt?_=q[x].searchoptions.sopt[0]:o.sopt&&o.sopt.length&&(_=o.sopt[0]),g={groupOp:"AND",rules:[{field:v,op:_,data:""}]}}y=!1,o.tmplNames&&o.tmplNames.length&&(y=!0,j=o.tmplLabel,j+="<select class='ui-template'>",j+="<option value='default'>Default</option>",p(o.tmplNames,function(e,t){j+="<option value='"+e+"'>"+t+"</option>"}),j+="</select>"),b="<div class='"+getGuiStyles.call(i,"dialog.footer")+"'><table class='EditTable' style='border:0px none;margin-top:5px' id='"+l+"_2'><tbody><tr><td colspan='2'><hr class='"+getGuiStyles.call(i,"dialog.hr")+"' style='margin:1px'/></td></tr><tr><td class='EditButton EditButton-"+a.direction+"'  style='float:"+("rtl"===a.direction?"right":"left")+";'>"+D+j+"</td><td class='EditButton EditButton-"+a.direction+"'>"+w+C+"</td></tr></tbody></table></div>",l=jqID(l),o.gbox=c,o.height="auto",l="#"+l,$(l).jqFilter({columns:q,filter:o.loadDefaults?g:null,showQuery:o.showQuery,errorcheck:o.errorcheck,sopt:o.sopt,groupButton:o.multipleGroup,ruleButtons:o.multipleSearch,afterRedraw:o.afterRedraw,ops:o.odata,cops:a.customSortOperations,operands:o.operands,ajaxSelectOptions:a.ajaxSelectOptions,groupOps:o.groupOps,onChange:function(e,t,r){e.showQuery&&$(".query",r).text(t.toUserFriendlyString()),fullBoolFeedback.call(i,o.afterChange,"jqGridFilterAfterChange",$(l),o,e,t)},direction:a.direction,id:a.id}),m.append(b),y&&o.tmplFilters&&o.tmplFilters.length&&$(".ui-template",m).bind("change",function(){var e=$(this).val();return"default"===e?$(l).jqFilter("addFilter",g):$(l).jqFilter("addFilter",o.tmplFilters[parseInt(e,10)]),!1}),o.multipleGroup===!0&&(o.multipleSearch=!0),h("onInitialize",$(l)),o.layer?jgrid.createModal.call(i,s,m,o,u,$(c)[0],"#"+jqID(o.layer),{position:"relative"}):jgrid.createModal.call(i,s,m,o,u,$(c)[0]),(o.searchOnEnter||o.closeOnEscape)&&$(d).keydown(function(e){var t=$(e.target);return!o.searchOnEnter||13!==e.which||t.hasClass("add-group")||t.hasClass("add-rule")||t.hasClass("delete-group")||t.hasClass("delete-rule")||t.hasClass("fm-button")&&t.is("[id$=_query]")?o.closeOnEscape&&27===e.which?($("#"+jqID(s.modalhead)).find(".ui-jqdialog-titlebar-close").click(),!1):void 0:($(l+"_search").click(),!1)}),w&&$(l+"_query").bind("click",function(){return $(".queryresult",m).toggle(),!1}),void 0===o.stringResult&&(o.stringResult=o.multipleSearch),$(l+"_search").bind("click",function(){var e,t={},n="",s=$(l),d=s.find(".input-elm");if(d.filter(":focus")&&(d=d.filter(":focus")),d.change(),e=s.jqFilter("filterData"),o.errorcheck&&(s[0].hideError(),o.showQuery||s.jqFilter("toSQLString"),s[0].p.error))return s[0].showError(),!1;if(o.stringResult||"local"===a.datatype){try{n=window.JSON&&window.JSON.stringify?JSON.stringify(e):xmlJsonClass.toJson(e,"","",!1)}catch(c){}"string"==typeof n&&(t[o.sFilter]=n,p([o.sField,o.sValue,o.sOper],function(){t[this]=""}))}else o.multipleSearch?(t[o.sFilter]=e,p([o.sField,o.sValue,o.sOper],function(){t[this]=""})):(t[o.sField]=e.rules[0].field,t[o.sValue]=e.rules[0].data,t[o.sOper]=e.rules[0].op,t[o.sFilter]="");return a.search=!0,$.extend(a.postData,t),fullBoolFeedback.call(i,o.onSearch,"jqGridFilterSearch",a.filters)&&r.trigger("reloadGrid",[$.extend({page:1},o.reloadGridSearchOptions||{})]),o.closeAfterSearch&&f(),!1}),$(l+"_reset").bind("click",function(){var e={},t=$(l);return a.search=!1,a.resetsearch=!0,o.multipleSearch===!1?e[o.sField]=e[o.sValue]=e[o.sOper]="":e[o.sFilter]="",t[0].resetFilter(),y&&$(".ui-template",m).val("default"),$.extend(a.postData,e),fullBoolFeedback.call(i,o.onReset,"jqGridFilterReset")&&r.trigger("reloadGrid",[$.extend({page:1},o.reloadGridResetOptions||{})]),o.closeAfterReset&&f(),!1}),t($(l));var S=getGuiStateStyles.call(i,"hover");$(".fm-button:not(."+getGuiStateStyles.call(i,"disabled").split(" ").join(".")+")",m).hover(function(){$(this).addClass(S)},function(){$(this).removeClass(S)})}}})},editGridRow:function(e,t){return this.each(function(){function i(){return $(D+" > tbody > tr > td .FormElement").each(function(){var e,t,i,r,a,o,l=$(".customelement",this),n=this.name;if(l.length){if(n=l.attr("name"),t=O[n],void 0!==t&&(e=G[t],i=e.editoptions||{},$.isFunction(i.custom_value))){try{if(f[n]=i.custom_value.call(p,$("#"+jqID(n),D),"get"),void 0===f[n])throw"e1"}catch(s){"e1"===s?jgrid.info_dialog.call(p,A,"function 'custom_value' "+y.msg.novalue,y.bClose):jgrid.info_dialog.call(p,A,s.message,y.bClose)}return!0}}else switch(o=$(this)[0].type){case"checkbox":f[n]=$(this).is(":checked")?$(this).val():$(this).data("offval");break;case"select-one":f[n]=$("option:selected",this).val();break;case"select-multiple":f[n]=$(this).val(),f[n]=f[n]?f[n].join(","):"";var d=[];$("option:selected",this).each(function(e,t){d[e]=$(t).text()});break;case"date":f[n]=$(this).val(),3===String(f[n]).split("-").length&&(t=O[n],void 0!==t&&(e=G[t],r=e.formatoptions||{},a=r.newformat||w.call(g,"formatter.date.newformat"),f[n]=jgrid.parseDate.call(g[0],"Y-m-d",f[n],a)));break;default:void 0!==o&&$.inArray(o,y.skipPostTypes)<0&&(f[n]=$(this).val())}}),!0}function r(e,t,i){var r,a=0,o=[],l=!1,n="<td class='CaptionTD'>&#160;</td><td class='DataTD'>&#160;</td>",s="";for(r=1;r<=i;r++)s+=n;if("_empty"!==e&&(l=base.getInd.call(g,e)),$(G).each(function(r){var n,d,c,u,g,f,m=this,v=m.name,b=m.editable,w=!1,j=!1,q="_empty"===e?"addForm":"editForm";switch($.isFunction(b)&&(b=b.call(p,{rowid:e,iCol:r,iRow:l,cmName:v,cm:m,mode:q})),d=(!m.editrules||m.editrules.edithidden!==!0)&&(m.hidden===!0||"hidden"===b),g=d?"style='display:none'":"",String(b).toLowerCase()){case"hidden":b=!0;break;case"disabled":b=!0,w=!0;break;case"readonly":b=!0,j=!0}if("cb"!==v&&"subgrid"!==v&&b===!0&&"rn"!==v){if(l===!1)u="";else{n=$(p.rows[l].cells[r]);try{u=$.unformat.call(p,n,{rowId:e,colModel:m},r)}catch(C){u=m.edittype&&"textarea"===m.edittype?n.text():n.html()}isEmptyString(u)&&(u="")}var D=$.extend({},m.editoptions||{},{id:v,name:v,rowId:e,mode:q,cm:m,iCol:r}),_=$.extend({},{elmprefix:"",elmsuffix:"",rowabove:!1,rowcontent:""},m.formoptions||{}),S=parseInt(_.rowpos,10)||a+1,F=parseInt(2*(parseInt(_.colpos,10)||1),10);if("_empty"===e&&D.defaultValue&&(u=$.isFunction(D.defaultValue)?D.defaultValue.call(p):D.defaultValue),m.edittype||(m.edittype="text"),h.autoEncodeOnEdit&&(u=jgrid.oldDecodePostedData(u)),f=jgrid.createEl.call(p,m.edittype,D,u,!1,$.extend({},jgrid.ajaxOptions,h.ajaxSelectOptions||{})),(y.checkOnSubmit||y.checkOnUpdate)&&(y._savedData[v]=u),$(f).addClass("FormElement"),$.inArray(m.edittype,["text","textarea","checkbox","password","select"])>-1&&$(f).addClass(getGuiStyles.call(p,"dialog.dataField")),c=$(t).find("tr[data-rowpos="+S+"]"),_.rowabove){var R=$("<tr><td class='contentinfo' colspan='"+2*i+"'>"+_.rowcontent+"</td></tr>");$(t).append(R),R[0].rp=S}0===c.length&&(c=$("<tr "+g+" data-rowpos='"+S+"'></tr>").addClass("FormData").attr("id","tr_"+v),$(c).append(s),$(t).append(c),c[0].rp=S);var G=$("td:eq("+(F-2)+")",c[0]),O=$("td:eq("+(F-1)+")",c[0]);G.html(void 0===_.label?h.colNames[r]:_.label||"&#160;"),O[isEmptyString(O.html())?"html":"append"](_.elmprefix).append(f).append(_.elmsuffix),w?(G.addClass(z),O.addClass(z),$(f).prop("readonly",!0),$(f).prop("disabled",!0)):j&&$(f).prop("readonly",!0),"custom"===m.edittype&&$.isFunction(D.custom_value)&&D.custom_value.call(p,$("#"+jqID(v),x),"set",u),jgrid.bindEv.call(p,f,D),o[a]=r,a++}}),a>0){var d=$("<tr class='FormData' style='display:none'><td class='CaptionTD'>&#160;</td><td colspan='"+(2*i-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='"+b+"_id' value='"+e+"'/></td></tr>");d[0].rp=a+999,$(t).append(d),(y.checkOnSubmit||y.checkOnUpdate)&&(y._savedData[b+"_id"]=e)}return o}function a(e,t){var i,r,a,o,l,n=0;(y.checkOnSubmit||y.checkOnUpdate)&&(y._savedData={},y._savedData[b+"_id"]=e);var s=h.colModel;if("_empty"===e)return $(s).each(function(){i=this.name,a=$.extend({},this.editoptions||{}),r=$("#"+jqID(i),t),r&&r.length&&null!==r[0]&&(o="","custom"===this.edittype&&$.isFunction(a.custom_value)?a.custom_value.call(p,r,"set",o):a.defaultValue?(o=$.isFunction(a.defaultValue)?a.defaultValue.call(p):a.defaultValue,"checkbox"===r[0].type?(l=o.toLowerCase(),l.search(/(false|f|0|no|n|off|undefined)/i)<0&&""!==l?(r[0].checked=!0,r[0].defaultChecked=!0,r[0].value=o):(r[0].checked=!1,r[0].defaultChecked=!1)):r.val(o)):"checkbox"===r[0].type?(r[0].checked=!1,r[0].defaultChecked=!1,o=$(r).data("offval")):r[0].type&&"select"===r[0].type.substr(0,6)?r[0].selectedIndex=0:r.val(o),(y.checkOnSubmit===!0||y.checkOnUpdate)&&(y._savedData[i]=o))}),void $("#id_g",t).val(e);var d=base.getInd.call(g,e,!0);d&&($(d.cells).filter("td[role=gridcell]").each(function(r){var a;if(i=s[r].name,"cb"!==i&&"subgrid"!==i&&"rn"!==i&&s[r].editable===!0){try{a=$.unformat.call(p,$(this),{rowId:e,colModel:s[r]},r)}catch(o){a="textarea"===s[r].edittype?$(this).text():$(this).html()}switch(h.autoEncodeOnEdit&&(a=jgrid.oldDecodePostedData(a)),(y.checkOnSubmit===!0||y.checkOnUpdate)&&(y._savedData[i]=a),i="#"+jqID(i),s[r].edittype){case"password":case"text":case"button":case"image":case"textarea":isEmptyString(a)&&(a=""),$(i,t).val(a);break;case"select":var l=a.split(",");l=$.map(l,function(e){return $.trim(e)}),$(i+" option",t).each(function(){var e=this,t=$(e),i=$.trim(t.val()),o=$.trim(t.text());s[r].editoptions.multiple||$.trim(a)!==o&&l[0]!==o&&l[0]!==i?s[r].editoptions.multiple&&($.inArray(o,l)>-1||$.inArray(i,l)>-1)?e.selected=!0:e.selected=!1:e.selected=!0});break;case"checkbox":a=String(a),s[r].editoptions&&s[r].editoptions.value?a=s[r].editoptions.value.split(":")[0]===a:(a=a.toLowerCase(),a=a.search(/(false|f|0|no|n|off|undefined)/i)<0&&""!==a),$(i,t).prop({checked:a,defaultChecked:a});break;case"custom":try{if(!s[r].editoptions||!$.isFunction(s[r].editoptions.custom_value))throw"e1";s[r].editoptions.custom_value.call(p,$(i,t),"set",a)}catch(d){"e1"===d?jgrid.info_dialog.call(p,A,"function 'custom_value' "+y.msg.nodefined,y.bClose):jgrid.info_dialog.call(p,A,d.message,y.bClose)}}n++}}),n>0&&$("#id_g",D).val(e))}function o(){var e=y.url||h.editurl;$.each(G,function(t,i){var r=i.name,a=f[r];"date"!==i.formatter||null!=i.formatoptions&&i.formatoptions.sendFormatted===!0||(f[r]=$.unformat.date.call(p,a,i)),"clientArray"!==e&&i.editoptions&&i.editoptions.NullIfEmpty===!0&&f.hasOwnProperty(r)&&""===a&&(f[r]="null")})}function l(){var t,i,r,l,n,s,d,c,u=[!0,"",""],m=u,w={},q=h.prmNames,C=base.getInd.call(g,e),S=C===!1?null:p.rows[C],F=g.triggerHandler("jqGridAddEditBeforeCheckValues",[$(x),v]);F&&"object"==typeof F&&(f=F),C=C===!1?-1:C,$.isFunction(y.beforeCheckValues)&&(F=y.beforeCheckValues.call(p,f,$(x),v),F&&"object"==typeof F&&(f=F));for(r in f)if(f.hasOwnProperty(r)&&(c=h.iColByName[r],m=jgrid.checkValues.call(p,f[r],r,void 0,void 0,{oldValue:"_empty"===e?null:base.getCell.call(g,e,c),newValue:f[r],cmName:r,rowid:e,cm:G[c],iCol:c,iRow:C,tr:S,td:null==S?null:S.cells[c],mode:"_empty"===e?"addForm":"editForm"}),null!=m&&m!==!0||(m=u),m[0]===!1))break;if(o(),m[0]&&(w=g.triggerHandler("jqGridAddEditClickSubmit",[y,f,v]),void 0===w&&$.isFunction(y.onclickSubmit)&&(w=y.onclickSubmit.call(p,y,f,v)||{}),m=g.triggerHandler("jqGridAddEditBeforeSubmit",[f,$(x),v]),null!=m&&m!==!0||(m=u),m[0]&&$.isFunction(y.beforeSubmit)&&(m=y.beforeSubmit.call(p,f,$(x),v),null!=m&&m!==!0||(m=u))),m[0]&&!y.processing){if(y.processing=!0,$("#sData",_).addClass(P),s=y.url||h.editurl,i=q.oper,t="clientArray"===s&&h.keyName!==!1?h.keyName:q.id,f[i]="_empty"===$.trim(f[b+"_id"])?q.addoper:q.editoper,f[i]!==q.addoper?f[t]=f[b+"_id"]:void 0===f[t]&&(f[t]=f[b+"_id"]),delete f[b+"_id"],f=$.extend(f,y.editData,w),h.treeGrid===!0){if(f[i]===q.addoper){l=h.selrow;var R="adjacency"===h.treeGridModel?h.treeReader.parent_id_field:"parent_id";f[R]=l}for(n in h.treeReader)if(h.treeReader.hasOwnProperty(n)&&(d=h.treeReader[n],f.hasOwnProperty(d))){if(f[i]===q.addoper&&"parent_id_field"===n)continue;delete f[d]}}f[t]=jgrid.stripPref(h.idPrefix,f[t]),h.autoEncodeOnEdit&&$.each(f,function(e,t){$.isFunction(t)||(f[e]=jgrid.oldEncodePostedData(t))});var O=$.extend({url:$.isFunction(s)?s.call(p,f[t],v,f,y):s,type:$.isFunction(y.mtype)?y.mtype.call(p,v,y,f[t],f):y.mtype,data:jgrid.serializeFeedback.call(p,$.isFunction(y.serializeEditData)?y.serializeEditData:h.serializeEditData,"jqGridAddEditSerializeEditData",f),complete:function(e,r){if($("#sData",_).removeClass(P),f[t]=$("#id_g",D).val(),e.status>=300&&304!==e.status||0===e.status&&4===e.readyState?(m[0]=!1,m[1]=g.triggerHandler("jqGridAddEditErrorTextFormat",[e,v]),$.isFunction(y.errorTextFormat)?m[1]=y.errorTextFormat.call(p,e,v):m[1]=r+" Status: '"+e.statusText+"'. Error code: "+e.status):(m=g.triggerHandler("jqGridAddEditAfterSubmit",[e,f,v]),null!=m&&m!==!0||(m=u),m[0]&&$.isFunction(y.afterSubmit)&&(m=y.afterSubmit.call(p,e,f,v),null!=m&&m!==!0||(m=u))),m[0]===!1)$("#FormError>td",D).html(m[1]),$("#FormError",D).show();else{h.autoEncodeOnEdit&&$.each(f,function(e,t){f[e]=jgrid.oldDecodePostedData(t)});var o=[$.extend({},y.reloadGridOptions||{})];if(f[i]===q.addoper?(m[2]||(m[2]=jgrid.randId()),null==f[t]||"_empty"===f[t]||f[i]===q.addoper?f[t]=m[2]:m[2]=f[t],y.reloadAfterSubmit?g.trigger("reloadGrid",o):h.treeGrid===!0?base.addChildNode.call(g,m[2],l,f):base.addRowData.call(g,m[2],f,y.addedrow),y.closeAfterAdd?(h.treeGrid!==!0&&j.call(g,m[2]),E()):y.clearAfterAdd&&a("_empty",x)):(y.reloadAfterSubmit?(g.trigger("reloadGrid",o),y.closeAfterEdit||setTimeout(function(){j.call(g,f[t])},1e3)):h.treeGrid===!0?base.setTreeRow.call(g,f[t],f):base.setRowData.call(g,f[t],f),y.closeAfterEdit&&E()),$.isFunction(y.afterComplete)){var n=e;setTimeout(function(){g.triggerHandler("jqGridAddEditAfterComplete",[n,f,$(x),v]),y.afterComplete.call(p,n,f,$(x),v),n=null},50)}if((y.checkOnSubmit||y.checkOnUpdate)&&($(x).data("disabled",!1),"_empty"!==y._savedData[b+"_id"])){var s;for(s in y._savedData)y._savedData.hasOwnProperty(s)&&f[s]&&(y._savedData[s]=f[s])}}y.processing=!1;try{$(":input:visible",x)[0].focus()}catch(d){}}},jgrid.ajaxOptions,y.ajaxEditOptions);if(O.url||y.useDataProxy||($.isFunction(h.dataProxy)?y.useDataProxy=!0:(m[0]=!1,m[1]+=" "+jgrid.errors.nourl)),m[0])if(y.useDataProxy){var I=h.dataProxy.call(p,O,"set_"+b);void 0===I&&(I=[!0,""]),I[0]===!1?(m[0]=!1,m[1]=I[1]||"Error deleting the selected row!"):(O.data.oper===q.addoper&&y.closeAfterAdd&&E(),O.data.oper===q.editoper&&y.closeAfterEdit&&E())}else"clientArray"===O.url?(y.reloadAfterSubmit=!1,f=O.data,O.complete({status:200,statusText:""},"")):$.ajax(O)}m[0]===!1&&($("#FormError>td",D).html(m[1]),$("#FormError",D).show())}function n(e,t){var i,r=!1;for(i in e)if(e.hasOwnProperty(i)&&String(e[i])!==String(t[i])){r=!0;break}return r}function s(){var e=!0;return $("#FormError",D).hide(),y.checkOnUpdate&&(f={},i(),m=n(f,y._savedData),m&&($(x).data("disabled",!0),$(".confirm",F).show(),e=!1)),e}function d(){var t=jgrid.detectRowEditing.call(p,e);if(null!=t)if("inlineEditing"===t.mode)base.restoreRow.call(g,e);else{var i=t.savedRow,r=p.rows[i.id];base.restoreCell.call(g,i.id,i.ic),$(r.cells[i.ic]).removeClass("edit-cell "+B),$(r).addClass(B).attr({"aria-selected":"true",tabindex:"0"})}}function c(e,t){var i=t[1].length-1;0===e?$("#pData",_).addClass(z):void 0!==t[1][e-1]&&hasOneFromClasses($("#"+jqID(t[1][e-1])),z)?$("#pData",_).addClass(z):$("#pData",_).removeClass(z),e===i?$("#nData",_).addClass(z):void 0!==t[1][e+1]&&hasOneFromClasses($("#"+jqID(t[1][e+1])),z)?$("#nData",_).addClass(z):$("#nData",_).removeClass(z)}function u(){var e=base.getDataIDs.call(g),t=$("#id_g",D).val(),i=$.inArray(t,e);return[i,e]}var p=this,g=$(p),h=p.p;if(p.grid&&null!=h&&e){var f,m,v,b=h.id,w=base.getGridRes,j=base.setSelection,y=$.extend(!0,{top:0,left:0,width:300,datawidth:"auto",height:"auto",dataheight:"auto",drag:!0,resize:!0,url:null,mtype:"POST",clearAfterAdd:!0,closeAfterEdit:!1,reloadAfterSubmit:!0,onInitializeForm:null,beforeInitData:null,beforeShowForm:null,afterShowForm:null,beforeSubmit:null,afterSubmit:null,onclickSubmit:null,afterComplete:null,onclickPgButtons:null,afterclickPgButtons:null,editData:{},closeOnEscape:!1,addedrow:"first",topinfo:"",bottominfo:"",savekey:[!1,13],navkeys:[!1,38,40],checkOnSubmit:!1,checkOnUpdate:!1,_savedData:{},processing:!1,onClose:null,ajaxEditOptions:{},serializeEditData:null,viewPagerButtons:!0,overlayClass:getGuiStyles.call(this,"overlay"),removemodal:!0,skipPostTypes:["image","file"]},w.call(g,"edit"),jgrid.edit,h.formEditing||{},t||{}),x="FrmGrid_"+b,q=x,C="TblGrid_"+b,D="#"+jqID(C),_=D+"_2",S={themodal:"editmod"+b,modalhead:"edithd"+b,modalcontent:"editcnt"+b,resizeAlso:x},F="#"+jqID(S.themodal),R=h.gBox,G=h.colModel,O=h.iColByName,I=1,k=0,N=y.commonIconClass,E=function(){jgrid.hideModal(F,{gb:R,jqm:y.jqModal,onClose:y.onClose,removemodal:y.removemodal})},A=w.call(g,"errors.errcap"),T=function(){var e=$.makeArray(arguments);return e.unshift(""),e.unshift("AddEdit"),e.unshift(y),jgridFeedback.apply(p,e)},M=getGuiStateStyles.call(p,"hover"),z=getGuiStateStyles.call(p,"disabled"),B=getGuiStateStyles.call(p,"select"),P=getGuiStateStyles.call(p,"active"),L=getGuiStateStyles.call(p,"error");$(F).remove(),x="#"+jqID(x),"new"===e?(e="_empty",v="add",y.caption=y.addCaption):(y.caption=y.editCaption,v="edit");var H=!0;!y.checkOnUpdate||y.jqModal!==!0&&void 0!==y.jqModal||y.modal||(H=!1);var V=isNaN(y.dataheight)?y.dataheight:y.dataheight+"px",W=isNaN(y.datawidth)?y.datawidth:y.datawidth+"px",U=$("<form name='FormPost' id='"+q+"' class='FormGrid' onSubmit='return false;' style='width:"+W+";overflow:auto;position:relative;height:"+V+";'></form>").data("disabled",!1),Y=$("<table id='"+C+"' class='EditTable'><tbody></tbody></table>");$(G).each(function(){var e=this.formoptions;I=Math.max(I,e?e.colpos||0:0),k=Math.max(k,e?e.rowpos||0:0)}),$(U).append(Y);var X=$("<tr id='FormError' style='display:none'><td class='"+L+"' colspan='"+2*I+"'>&#160;</td></tr>");if(X[0].rp=0,$(Y).append(X),X=$("<tr style='display:none' class='tinfo'><td class='topinfo' colspan='"+2*I+"'>"+(y.topinfo||"&#160;")+"</td></tr>"),X[0].rp=0,$(Y).append(X),T("beforeInitData",U,v)){d();var Q="rtl"===h.direction,J=Q?"nData":"pData",K=Q?"pData":"nData";r(e,Y,I);var Z=builderFmButon.call(p,J,"",mergeCssClasses(N,y.prevIcon),"","left"),ee=builderFmButon.call(p,K,"",mergeCssClasses(N,y.nextIcon),"","right"),te=builderFmButon.call(p,"sData",y.bSubmit),ie=builderFmButon.call(p,"cData",y.bCancel),re="<div class='"+getGuiStyles.call(p,"dialog.footer")+"'><table class='EditTable' id='"+C+"_2'><tbody><tr><td colspan='2'><hr class='"+getGuiStyles.call(p,"dialog.hr")+"' style='margin:1px'/></td></tr><tr id='Act_Buttons'><td class='navButton navButton-"+h.direction+"'>"+(Q?ee+Z:Z+ee)+"</td><td class='EditButton EditButton-"+h.direction+"'>"+te+"&#160;"+ie+"</td></tr>";if(re+="<tr style='display:none' class='binfo'><td class='bottominfo' colspan='2'>"+(y.bottominfo||"&#160;")+"</td></tr>",re+="</tbody></table></div>",k>0){var ae=[];$.each($(Y)[0].rows,function(e,t){ae[e]=t}),ae.sort(function(e,t){return e.rp>t.rp?1:e.rp<t.rp?-1:0}),$.each(ae,function(e,t){$("tbody",Y).append(t)})}y.gbox=R;var oe=!1;y.closeOnEscape===!0&&(y.closeOnEscape=!1,oe=!0);var le=$("<div></div>").append($("<div class='"+getGuiStyles.call(p,"dialog.body")+"'></div>").append(U)).append(re);if(jgrid.createModal.call(p,S,le,y,h.gView,$(R)[0]),y.topinfo&&$(".tinfo",D).show(),y.bottominfo&&$(".binfo",_).show(),le=null,re=null,$(F).keydown(function(e){var t,i,r=(e.target.tagName||"").toUpperCase();if($(x).data("disabled")===!0)return!1;if(13===e.which&&"TEXTAREA"!==r){if(t=$(_).find(":focus"),i=t.attr("id"),t.length>0&&$.inArray(i,["pData","nData","cData"])>=0)return t.trigger("click"),!1;if(y.savekey[0]===!0&&13===y.savekey[1])return $("#sData",_).trigger("click"),!1}if(y.savekey[0]===!0&&e.which===y.savekey[1]&&"TEXTAREA"!==r)return $("#sData",_).trigger("click"),!1;if(27===e.which)return!!s()&&(oe&&E(),!1);if(y.navkeys[0]===!0){if("_empty"===$("#id_g",D).val())return!0;if(e.which===y.navkeys[1])return $("#pData",_).trigger("click"),!1;if(e.which===y.navkeys[2])return $("#nData",_).trigger("click"),!1}}),y.checkOnUpdate&&($("a.ui-jqdialog-titlebar-close span",F).removeClass("jqmClose"),$("a.ui-jqdialog-titlebar-close",F).unbind("click").click(function(){return!!s()&&(E(),!1)})),addFormIcon($("#sData",_),y.saveicon,N),addFormIcon($("#cData",_),y.closeicon,N),y.checkOnSubmit||y.checkOnUpdate){te=builderFmButon.call(p,"sNew",y.bYes),ee=builderFmButon.call(p,"nNew",y.bNo),ie=builderFmButon.call(p,"cNew",y.bExit);var ne=y.zIndex||999;ne++,$("<div class='"+y.overlayClass+" jqgrid-overlay confirm' style='z-index:"+ne+";display:none;'>&#160;</div><div class='"+getGuiStyles.call(p,"dialog.content","confirm ui-jqconfirm")+"' style='z-index:"+(ne+1)+"'>"+y.saveData+"<br/><br/>"+te+ee+ie+"</div>").insertAfter(x),$("#sNew",F).click(function(){return l(),$(x).data("disabled",!1),$(".confirm",F).hide(),!1}),$("#nNew",F).click(function(){return $(".confirm",F).hide(),$(x).data("disabled",!1),setTimeout(function(){$(":input:visible",x)[0].focus()},0),!1}),$("#cNew",F).click(function(){return $(".confirm",F).hide(),$(x).data("disabled",!1),E(),!1})}T("onInitializeForm",$(x),v),"_empty"!==e&&y.viewPagerButtons?$("#pData,#nData",_).show():$("#pData,#nData",_).hide(),T("beforeShowForm",$(x),v),$(F).data("onClose",y.onClose),jgrid.viewModal.call(p,F,{gbox:R,jqm:y.jqModal,overlay:y.overlay,modal:y.modal,overlayClass:y.overlayClass,toTop:y.toTop,onHide:function(e){e.w.remove(),e.o&&e.o.remove()}}),H||$("."+jqID(y.overlayClass)).click(function(){return!!s()&&(E(),!1)}),$(".fm-button",F).hover(function(){$(this).addClass(M)},function(){$(this).removeClass(M)}),$("#sData",_).click(function(){return f={},$("#FormError",D).hide(),i(),"_empty"===f[b+"_id"]?l():y.checkOnSubmit===!0?(m=n(f,y._savedData),m?($(x).data("disabled",!0),$(".confirm",F).show()):l()):l(),!1}),$("#cData",_).click(function(){return!!s()&&(E(),!1)}),$("#nData",_).click(function(){if(!s())return!1;$("#FormError",D).hide();var e=u();if(e[0]=parseInt(e[0],10),e[0]!==-1&&e[1][e[0]+1]){if(!T("onclickPgButtons","next",$(x),e[1][e[0]]))return!1;
a(e[1][e[0]+1],x),j.call(g,e[1][e[0]+1]),T("afterclickPgButtons","next",$(x),e[1][e[0]+1]),c(e[0]+1,e)}return!1}),$("#pData",_).click(function(){if(!s())return!1;$("#FormError",D).hide();var e=u();if(e[0]!==-1&&e[1][e[0]-1]){if(!T("onclickPgButtons","prev",$(x),e[1][e[0]]))return!1;if(hasOneFromClasses($("#"+jqID(e[1][e[0]-1])),z))return!1;a(e[1][e[0]-1],x),j.call(g,e[1][e[0]-1]),T("afterclickPgButtons","prev",$(x),e[1][e[0]-1]),c(e[0]-1,e)}return!1}),T("afterShowForm",$(x),v);var se=u();c(se[0],se)}}})},viewGridRow:function(e,t){return this.each(function(){function i(){u.closeOnEscape!==!0&&u.navkeys[0]!==!0||setTimeout(function(){$("#cData").focus()},0)}function r(e,t,i){var r,a,o,l,c,p,g,h,f,m=0,v=[],b=base.getInd.call(s,e),w=getGuiStyles.call(n,"dialog.viewData","DataTD form-view-data"),j=getGuiStyles.call(n,"dialog.viewLabel","CaptionTD form-view-label"),x="<td class='"+j+"' width='"+u.labelswidth+"'>&#160;</td><td class='"+w+" ui-helper-reset'>&#160;</td>",q="",C="<td class='"+j+"'></td><td class='"+w+"'></td>",D=["integer","number","currency"],_=0,S=0;for(p=1;p<=i;p++)q+=1===p?x:C;if($(y).each(function(){var e=this;a=(!e.editrules||e.editrules.edithidden!==!0)&&e.hidden===!0,a||"right"!==e.align||(e.formatter&&$.inArray(e.formatter,D)!==-1?_=Math.max(_,parseInt(e.width,10)):S=Math.max(S,parseInt(e.width,10)))}),g=0!==_?_:0!==S?S:0,$(y).each(function(e){var s=this;if(r=s.name,h=!1,a=(!s.editrules||s.editrules.edithidden!==!0)&&s.hidden===!0,c=a?"style='display:none'":"",f="boolean"!=typeof s.viewable||s.viewable,"cb"!==r&&"subgrid"!==r&&"rn"!==r&&f){l=b===!1?"":jgrid.getDataFieldOfCell.call(n,n.rows[b],e).html(),h="right"===s.align&&0!==g;var u=$.extend({},{rowabove:!1,rowcontent:""},s.formoptions||{}),p=parseInt(u.rowpos,10)||m+1,w=parseInt(2*(parseInt(u.colpos,10)||1),10);if(u.rowabove){var j=$("<tr><td class='contentinfo' colspan='"+2*i+"'>"+u.rowcontent+"</td></tr>");$(t).append(j),j[0].rp=p}o=$(t).find("tr[data-rowpos="+p+"]"),0===o.length&&(o=$("<tr "+c+" data-rowpos='"+p+"'></tr>").addClass("FormData").attr("id","trv_"+r),$(o).append(q),$(t).append(o),o[0].rp=p);var y=void 0===u.label?d.colNames[e]:u.label,x=$("td:eq("+(w-1)+")",o[0]);$("td:eq("+(w-2)+")",o[0]).html("<b>"+(y||"&nbsp;")+"</b>"),x[isEmptyString(x.html())?"html":"append"]("<span>"+(l||"&nbsp;")+"</span>").attr("id","v_"+r),h&&$("td:eq("+(w-1)+") span",o[0]).css({"text-align":"right",width:g+"px"}),v[m]=e,m++}}),m>0){var F=$("<tr class='FormData' style='display:none'><td class='CaptionTD'>&#160;</td><td colspan='"+(2*i-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='id' value='"+e+"'/></td></tr>");F[0].rp=m+99,$(t).append(F)}return v}function a(e){var t,i,r,a=0,o=base.getInd.call(s,e,!0);o&&($("td",o).each(function(e){r=y[e],t=r.name,i=(!r.editrules||r.editrules.edithidden!==!0)&&r.hidden===!0,"cb"!==t&&"subgrid"!==t&&"rn"!==t&&(t=jqID("v_"+t),$("#"+t+" span",g).html(jgrid.getDataFieldOfCell.call(n,o,e).html()),i&&$("#"+t,g).parents("tr:first").hide(),a++)}),a>0&&$("#id_g",g).val(e))}function o(e,t){var i=t[1].length-1;0===e?$("#pData",h).addClass(S):void 0!==t[1][e-1]&&hasOneFromClasses($("#"+jqID(t[1][e-1])),S)?$("#pData",h).addClass(S):$("#pData",h).removeClass(S),e===i?$("#nData",h).addClass(S):void 0!==t[1][e+1]&&hasOneFromClasses($("#"+jqID(t[1][e+1])),S)?$("#nData",h).addClass(S):$("#nData",h).removeClass(S)}function l(){var e=base.getDataIDs.call(s),t=$("#id_g",g).val(),i=$.inArray(t,e);return[i,e]}var n=this,s=$(n),d=n.p;if(n.grid&&null!=d&&e){var c=d.id,u=$.extend(!0,{top:0,left:0,width:0,datawidth:"auto",height:"auto",dataheight:"auto",drag:!0,resize:!0,closeOnEscape:!1,labelswidth:"30%",navkeys:[!1,38,40],onClose:null,beforeShowForm:null,beforeInitData:null,viewPagerButtons:!0,removemodal:!0},base.getGridRes.call(s,"view"),jgrid.view||{},d.formViewing||{},t||{}),p="#ViewGrid_"+jqID(c),g="#ViewTbl_"+jqID(c),h=g+"_2",f="ViewGrid_"+c,m="ViewTbl_"+c,v=u.commonIconClass,b={themodal:"viewmod"+c,modalhead:"viewhd"+c,modalcontent:"viewcnt"+c,resizeAlso:f},w="#"+jqID(b.themodal),j=d.gBox,y=d.colModel,x=1,q=0,C=function(){var e=$.makeArray(arguments);return e.unshift(""),e.unshift("View"),e.unshift(u),jgridFeedback.apply(n,e)},D=function(){jgrid.hideModal(w,{gb:j,jqm:u.jqModal,onClose:u.onClose,removemodal:u.removemodal})},_=getGuiStateStyles.call(n,"hover"),S=getGuiStateStyles.call(n,"disabled"),F=isNaN(u.dataheight)?u.dataheight:u.dataheight+"px",R=isNaN(u.datawidth)?u.datawidth:u.datawidth+"px",G=$("<div class='"+getGuiStyles.call(n,"dialog.body")+"'><form name='FormPost' id='"+f+"' class='FormGrid' style='width:"+R+";overflow:auto;position:relative;height:"+F+";'></form></div>"),O=G.children("form.FormGrid"),I=$("<table id='"+m+"' class='EditTable'><tbody></tbody></table>");if($(w).remove(),$(y).each(function(){var e=this.formoptions;x=Math.max(x,e?e.colpos||0:0),q=Math.max(q,e?e.rowpos||0:0)}),O.append(I),C("beforeInitData",O)){r(e,I,x);var k="rtl"===d.direction,N=k?"nData":"pData",E=k?"pData":"nData",A=builderFmButon.call(n,N,"",mergeCssClasses(v,u.prevIcon),"","left"),T=builderFmButon.call(n,E,"",mergeCssClasses(v,u.nextIcon),"","right"),M=builderFmButon.call(n,"cData",u.bClose);if(q>0){var z=[];$.each($(I)[0].rows,function(e,t){z[e]=t}),z.sort(function(e,t){return e.rp>t.rp?1:e.rp<t.rp?-1:0}),$.each(z,function(e,t){$("tbody",I).append(t)})}u.gbox=j;var B=$("<div></div>").append(G).append("<div class='"+getGuiStyles.call(n,"dialog.footer")+"'><table border='0' class='EditTable' id='"+m+"_2'><tbody><tr id='Act_Buttons'><td class='navButton navButton-"+d.direction+"' width='"+(u.labelswidth||"auto")+"'>"+(k?T+A:A+T)+"</td><td class='EditButton EditButton-"+d.direction+"'>"+M+"</td></tr></tbody></table></div>");jgrid.createModal.call(n,b,B,u,d.gView,$(d.gView)[0]),u.viewPagerButtons||$("#pData, #nData",h).hide(),B=null,$(w).keydown(function(e){var t,i;if($(p).data("disabled")===!0)return!1;if(13===e.which&&(t=$(h).find(":focus"),i=t.attr("id"),t.length>0&&$.inArray(i,["pData","nData","cData"])>=0))return t.trigger("click"),!1;if(27===e.which)return u.closeOnEscape&&D(),!1;if(u.navkeys[0]===!0){if(e.which===u.navkeys[1])return $("#pData",h).trigger("click"),!1;if(e.which===u.navkeys[2])return $("#nData",h).trigger("click"),!1}}),addFormIcon($("#cData",h),u.closeicon,v),C("beforeShowForm",$(p)),jgrid.viewModal.call(n,w,{gbox:j,jqm:u.jqModal,overlay:u.overlay,toTop:u.toTop,modal:u.modal,onHide:function(e){e.w.remove(),e.o&&e.o.remove()}}),$(".fm-button:not(."+S.split(" ").join(".")+")",h).hover(function(){$(this).addClass(_)},function(){$(this).removeClass(_)}),i(),$("#cData",h).click(function(){return D(),!1}),$("#nData",h).click(function(){$("#FormError",g).hide();var e=l();if(e[0]=parseInt(e[0],10),e[0]!==-1&&e[1][e[0]+1]){if(!C("onclickPgButtons","next",$(p),e[1][e[0]]))return!1;a(e[1][e[0]+1]),base.setSelection.call(s,e[1][e[0]+1]),C("afterclickPgButtons","next",$(p),e[1][e[0]+1]),o(e[0]+1,e)}return i(),!1}),$("#pData",h).click(function(){$("#FormError",g).hide();var e=l();if(e[0]!==-1&&e[1][e[0]-1]){if(!C("onclickPgButtons","prev",$(p),e[1][e[0]]))return!1;a(e[1][e[0]-1]),base.setSelection.call(s,e[1][e[0]-1]),C("afterclickPgButtons","prev",$(p),e[1][e[0]-1]),o(e[0]-1,e)}return i(),!1});var P=l();o(P[0],P)}}})},delGridRow:function(e,t){return this.each(function(){var i=this,r=i.p,a=$(i);if(i.grid&&null!=r&&e){var o,l,n,s,d=r.id,c=$.extend(!0,{top:0,left:0,width:240,removemodal:!0,height:"auto",dataheight:"auto",datawidth:"auto",drag:!0,resize:!0,url:"",mtype:"POST",reloadAfterSubmit:!0,beforeShowForm:null,beforeInitData:null,afterShowForm:null,beforeSubmit:null,onclickSubmit:null,afterSubmit:null,closeOnEscape:!1,delData:{},onClose:null,ajaxDelOptions:{},processing:!1,serializeDelData:null,useDataProxy:!1},base.getGridRes.call(a,"del"),jgrid.del||{},r.formDeleting||{},t||{}),u="DelTbl_"+d,p="#DelTbl_"+jqID(d),g={themodal:"delmod"+d,modalhead:"delhd"+d,modalcontent:"delcnt"+d,resizeAlso:u},h="#"+jqID(g.themodal),f=r.gBox,m=c.commonIconClass,v=function(){var e=$.makeArray(arguments);return e.unshift(""),e.unshift("Delete"),e.unshift(c),jgridFeedback.apply(i,e)},b=getGuiStateStyles.call(i,"hover"),w=getGuiStateStyles.call(i,"active"),j=getGuiStateStyles.call(i,"error");if($.isArray(e)||(e=[String(e)]),void 0!==$(h)[0]){if(!v("beforeInitData",$(p)))return;$("#DelData>td",p).text(e.join()).data("rowids",e),$("#DelError",p).hide(),c.processing===!0&&(c.processing=!1,$("#dData",p).removeClass(w)),v("beforeShowForm",$(p)),jgrid.viewModal.call(i,h,{gbox:f,jqm:c.jqModal,jqM:!1,overlay:c.overlay,toTop:c.toTop,modal:c.modal}),v("afterShowForm",$(p))}else{var y=isNaN(c.dataheight)?c.dataheight:c.dataheight+"px",x=isNaN(c.datawidth)?c.datawidth:c.datawidth+"px",q="<div class='"+getGuiStyles.call(i,"dialog.body")+"'><div id='"+u+"' class='formdata' style='width:"+x+";overflow:auto;position:relative;height:"+y+";'>";q+="<table class='DelTable'><tbody>",q+="<tr id='DelError' style='display:none'><td class='"+j+"'></td></tr>",q+="<tr id='DelData' style='display:none'><td >"+e.join()+"</td></tr>",q+="<tr><td class='delmsg' style='white-space:pre;'>"+c.msg+"</td></tr>",q+="</tbody></table></div></div>";var C=builderFmButon.call(i,"dData",c.bSubmit),D=builderFmButon.call(i,"eData",c.bCancel);if(q+="<div class='"+getGuiStyles.call(i,"dialog.footer")+"'><table class='EditTable' id='"+u+"_2'><tbody><tr><td><hr class='"+getGuiStyles.call(i,"dialog.hr")+"' style='margin:1px'/></td></tr><tr><td class='DelButton EditButton EditButton-"+r.direction+"'>"+C+"&#160;"+D+"</td></tr></tbody></table></div>",c.gbox=f,jgrid.createModal.call(i,g,q,c,r.gView,$(r.gView)[0]),$("#DelData>td",p).data("rowids",e),!v("beforeInitData",$(q)))return;$(".fm-button",p+"_2").hover(function(){$(this).addClass(b)},function(){$(this).removeClass(b)}),addFormIcon($("#dData",p+"_2"),c.delicon,m),addFormIcon($("#eData",p+"_2"),c.cancelicon,m),$("#dData",p+"_2").click(function(){var e,t=[!0,""],u=$("#DelData>td",p),g=u.text(),m=u.data("rowids"),b={};if($.isFunction(c.onclickSubmit)&&(b=c.onclickSubmit.call(i,c,g)||{}),$.isFunction(c.beforeSubmit)&&(t=c.beforeSubmit.call(i,g)||t),t[0]&&!c.processing){if(c.processing=!0,n=r.prmNames,o=$.extend({},c.delData,b),s=n.oper,o[s]=n.deloper,l=n.id,g=m.slice(),!g.length)return!1;for(e in g)g.hasOwnProperty(e)&&(g[e]=jgrid.stripPref(r.idPrefix,g[e]));o[l]=g.join(),$(this).addClass(w);var j=c.url||r.editurl,y=$.extend({url:$.isFunction(j)?j.call(i,o[l],o,c):j,type:c.mtype,data:$.isFunction(c.serializeDelData)?c.serializeDelData.call(i,o):o,complete:function(e,l){var n;if($("#dData",p+"_2").removeClass(w),e.status>=300&&304!==e.status||0===e.status&&4===e.readyState?(t[0]=!1,$.isFunction(c.errorTextFormat)?t[1]=c.errorTextFormat.call(i,e):t[1]=l+" Status: '"+e.statusText+"'. Error code: "+e.status):$.isFunction(c.afterSubmit)&&(t=c.afterSubmit.call(i,e,o)||[!0]),t[0]===!1)$("#DelError>td",p).html(t[1]),$("#DelError",p).show();else{if(c.reloadAfterSubmit&&"local"!==r.datatype)a.trigger("reloadGrid",[$.extend({},c.reloadGridOptions||{})]);else if(r.treeGrid===!0)try{base.delTreeNode.call(a,m[0])}catch(s){}else for(m=m.slice(),n=0;n<m.length;n++)base.delRowData.call(a,m[n]);setTimeout(function(){v("afterComplete",e,g,$(p))},50)}c.processing=!1,t[0]&&jgrid.hideModal(h,{gb:f,jqm:c.jqModal,onClose:c.onClose,removemodal:c.removemodal})}},jgrid.ajaxOptions,c.ajaxDelOptions);if(y.url||c.useDataProxy||($.isFunction(r.dataProxy)?c.useDataProxy=!0:(t[0]=!1,t[1]+=" "+jgrid.errors.nourl)),t[0])if(c.useDataProxy){var x=r.dataProxy.call(i,y,"del_"+d);void 0===x&&(x=[!0,""]),x[0]===!1?(t[0]=!1,t[1]=x[1]||"Error deleting the selected row!"):jgrid.hideModal(h,{gb:f,jqm:c.jqModal,onClose:c.onClose,removemodal:c.removemodal})}else"clientArray"===y.url?(o=y.data,y.complete({status:200,statusText:""},"")):$.ajax(y)}return t[0]===!1&&($("#DelError>td",p).html(t[1]),$("#DelError",p).show()),!1}),$("#eData",p+"_2").click(function(){return jgrid.hideModal(h,{gb:f,jqm:c.jqModal,onClose:c.onClose,removemodal:c.removemodal}),!1}),v("beforeShowForm",$(p)),jgrid.viewModal.call(i,h,{gbox:f,jqm:c.jqModal,overlay:c.overlay,toTop:c.toTop,modal:c.modal}),v("afterShowForm",$(p))}c.closeOnEscape===!0&&setTimeout(function(){$(".ui-jqdialog-titlebar-close","#"+jqID(g.modalhead)).attr("tabindex","-1").focus()},0)}})},navGrid:function(e,t,i,r,a,o,l){return"object"==typeof e&&(l=o,o=a,a=r,r=i,i=t,t=e,e=void 0),r=r||{},i=i||{},l=l||{},a=a||{},o=o||{},this.each(function(){var n=this,s=n.p,d=$(n);if(n.grid&&null!=s&&!(n.nav&&$(e).find(".navtable").length>0)){var c=s.id,u=$.extend({edit:!0,add:!0,del:!0,search:!0,refresh:!0,refreshstate:"firstpage",view:!1,closeOnEscape:!0,beforeRefresh:null,afterRefresh:null,cloneToTop:!1,hideEmptyPagerParts:!0,alertwidth:200,alertheight:"auto",alerttop:null,removemodal:!0,alertleft:null,alertzIndex:null,iconsOverText:!1},base.getGridRes.call(d,"nav"),jgrid.nav||{},s.navOptions||{},t||{});u.position=u.position||("rtl"===s.direction?"right":"left");var p,g,h,f=s.idSel,m=s.gBox,v=u.commonIconClass,b={themodal:"alertmod_"+c,modalhead:"alerthd_"+c,modalcontent:"alertcnt_"+c},w=function(){return function(){var e=document.documentElement,t=window,i=1024,r=768,a=d.closest(".ui-jqgrid").offset();void 0===$("#"+jqID(b.themodal))[0]&&(u.alerttop||u.alertleft||(void 0!==t.innerWidth?(i=t.innerWidth,r=t.innerHeight):null!=e&&void 0!==e.clientWidth&&0!==e.clientWidth&&(i=e.clientWidth,r=e.clientHeight),i=i/2-parseInt(u.alertwidth,10)/2-a.left,r=r/2-25-a.top),jgrid.createModal.call(n,b,"<div class='"+getGuiStyles.call(n,"dialog.body")+"'><div>"+u.alerttext+"</div></div>",{gbox:m,jqModal:u.jqModal,drag:!0,resize:!0,caption:u.alertcap,top:null!=u.alerttop?u.alerttop:r,left:null!=u.alertleft?u.alertleft:i,width:u.alertwidth,height:u.alertheight,closeOnEscape:u.closeOnEscape,zIndex:u.alertzIndex,removemodal:u.removemodal},s.gView,$(m)[0],!1)),jgrid.viewModal.call(n,"#"+jqID(b.themodal),{gbox:m,toTop:u.alertToTop,jqm:u.jqModal});var o=$("#"+jqID(b.modalhead)).find(".ui-jqdialog-titlebar-close");o.attr({tabindex:"0",href:"#",role:"button"}),setTimeout(function(){o.focus()},50)}},j=w(),y=function(e){var t;if(13===e.which&&(t=$(this).find(".ui-pg-button").filter(":focus"),t.length>0)){var i=t[0].id,r=i.substr(0,$(this).closest(".ui-jqgrid-toppager").length>0?i.length-c.length-5:i.length-c.length-1),a=r+"mod"+s.id,o=$(".ui-jqdialog").filter(":visible").map(function(){return this.id});if($.inArray(a,o)<0)return t.trigger("click"),!1}},x=getGuiStateStyles.call(n,"hover"),q=getGuiStateStyles.call(n,"disabled"),C=getGuiStyles.call(n,"navButton","ui-pg-button");if(n.grid){n.modalAlert=j,void 0===e&&(s.pager?(e=s.pager,s.toppager&&(u.cloneToTop=!0)):s.toppager&&(e=s.toppager));var D,_,S,F,R,G,O,I=1,k=["left","center","right"],N=getGuiStyles.call(n,"navButton","ui-pg-button "+getGuiStateStyles.call(n,"disabled")),E="<div class='"+N+"'><span class='ui-separator'></span></div>",A=function(){hasOneFromClasses(this,q)||$(this).addClass(x)},T=function(){$(this).removeClass(x)},M=function(){return hasOneFromClasses(this,q)||($.isFunction(u.addfunc)?u.addfunc.call(n):base.editGridRow.call(d,"new",r)),!1},z=function(e,t,i){if(!hasOneFromClasses(this,q)){var r=s.selrow;r?$.isFunction(e)?e.call(n,r):base[t].call(d,r,i):j()}return!1},B=function(){return z.call(this,u.editfunc,"editGridRow",i)},P=function(){return z.call(this,u.viewfunc,"viewGridRow",l)},L=function(){var e;return hasOneFromClasses(this,q)||(s.multiselect?(e=s.selarrrow,0===e.length&&(e=null)):e=s.selrow,e?$.isFunction(u.delfunc)?u.delfunc.call(n,e):base.delGridRow.call(d,e,a):j()),!1},H=function(){return hasOneFromClasses(this,q)||($.isFunction(u.searchfunc)?u.searchfunc.call(n,o):base.searchGrid.call(d,o)),!1},V=function(){if(!hasOneFromClasses(this,q)){$.isFunction(u.beforeRefresh)&&u.beforeRefresh.call(n),s.search=!1,s.resetsearch=!0;try{if("currentfilter"!==u.refreshstate){s.postData.filters="";try{$("#fbox_"+f).jqFilter("resetFilter")}catch(e){}$.isFunction(n.clearToolbar)&&n.clearToolbar(!1)}}catch(e){}switch(u.refreshstate){case"firstpage":d.trigger("reloadGrid",[$.extend({},u.reloadGridOptions||{},{page:1})]);break;case"current":case"currentfilter":d.trigger("reloadGrid",[$.extend({},u.reloadGridOptions||{},{current:!0})])}$.isFunction(u.afterRefresh)&&u.afterRefresh.call(n)}return!1},W=function(e,t,i){var r=$("<div class='"+C+"' tabindex='0' role='button'></div>"),a=u[e+"icon"],o=$.trim(u[e+"text"]);return r.append("<div class='ui-pg-div'><span class='"+(u.iconsOverText?mergeCssClasses("ui-pg-button-icon-over-text",v,a):mergeCssClasses(v,a))+"'></span>"+(o?"<span class='ui-pg-button-text"+(u.iconsOverText?" ui-pg-button-icon-over-text":"")+"'>"+o+"</span>":"")+"</div>"),$(h).append(r),r.attr({title:u[e+"title"]||"",id:t||e+"_"+F}).click(i).hover(A,T),r};for(u.cloneToTop&&s.toppager&&(I=2),D=0;D<I;D++){if(h=$("<div class='ui-pg-table navtable' role='toolbar' style='float:"+("rtl"===s.direction?"right":"left")+";table-layout:auto;'></div>"),0===D?(S=e,F=c,S===s.toppager&&(F+="_top",I=1)):(S=s.toppager,F=c+"_top"),u.add&&W("add",r.id,M),u.edit&&W("edit",i.id,B),u.view&&W("view",l.id,P),u.del&&W("del",a.id,L),(u.add||u.edit||u.del||u.view)&&$(h).append(E),u.search&&(_=W("search",o.id,H),o.showOnLoad&&o.showOnLoad===!0&&$(_,h).click()),u.refresh&&W("refresh","",V),g=$(".ui-jqgrid>.ui-jqgrid-view").css("font-size")||"11px",$("body").append("<div id='testpg2' class='"+getGuiStyles.call(n,"gBox","ui-jqgrid")+"' style='font-size:"+g+";visibility:hidden;' ></div>"),p=$(h).clone().appendTo("#testpg2").width(),$("#testpg2").remove(),$(S+"_"+u.position,S).append(h),u.hideEmptyPagerParts)for(R=0;R<k.length;R++)k[R]!==u.position&&(O=$(S+"_"+k[R],S),0===O.length||0===O[0].childNodes.length?O.hide():1===O[0].childNodes.length&&(G=O[0].firstChild,!$(G).is("table.ui-pg-table")||0!==G.rows&&0!==G.rows[0].cells.length||O.hide()));s._nvtd&&(p>s._nvtd[0]&&($(S+"_"+u.position,S).width(p),s._nvtd[0]=p),s._nvtd[1]=p),n.nav=!0,h.bind("keydown.jqGrid",y)}d.triggerHandler("jqGridResetFrozenHeights")}}})},navButtonAdd:function(e,t){return"object"==typeof e&&(t=e,e=void 0),this.each(function(){var i=this,r=i.p;if(i.grid){var a=$.extend({caption:"newButton",title:"",onClickButton:null,position:"last",cursor:"pointer",iconsOverText:!1},base.getGridRes.call($(i),"nav"),jgrid.nav||{},r.navOptions||{},t||{}),o=a.id,l=getGuiStateStyles.call(i,"hover"),n=getGuiStateStyles.call(i,"disabled"),s=getGuiStyles.call(i,"navButton","ui-pg-button");if(void 0===e)if(r.pager){if(base.navButtonAdd.call($(i),r.pager,a),!r.toppager)return;e=r.toppager,o&&(o+="_top")}else r.toppager&&(e=r.toppager);"string"==typeof e&&0!==e.indexOf("#")&&(e="#"+jqID(e));var d=$(".navtable",e),c=a.commonIconClass;if(d.length>0){if(o&&d.find("#"+jqID(o)).length>0)return;var u=$("<div tabindex='0' role='button'></div>");"NONE"===a.buttonicon.toString().toUpperCase()?$(u).addClass(s).append("<div class='ui-pg-div'>"+(a.caption?"<span class='ui-pg-button-text"+(a.iconsOverText?" ui-pg-button-icon-over-text":"")+"'>"+a.caption+"</span>":"")+"</div>"):$(u).addClass(s).append("<div class='ui-pg-div'><span class='"+(a.iconsOverText?mergeCssClasses("ui-pg-button-icon-over-text",c,a.buttonicon):mergeCssClasses(c,a.buttonicon))+"'></span>"+(a.caption?"<span class='ui-pg-button-text"+(a.iconsOverText?" ui-pg-button-icon-over-text":"")+"'>"+a.caption+"</span>":"")+"</div>"),o&&$(u).attr("id",o),"first"===a.position&&d.children("div.ui-pg-button").length>0?d.children("div.ui-pg-button").first().before(u):d.append(u),$(u,d).attr("title",a.title||"").click(function(e){return hasOneFromClasses(this,n)||$.isFunction(a.onClickButton)&&a.onClickButton.call(i,a,e),!1}).hover(function(){hasOneFromClasses(this,n)||$(this).addClass(l)},function(){$(this).removeClass(l)}),$(i).triggerHandler("jqGridResetFrozenHeights")}}})},navSeparatorAdd:function(e,t){return t=$.extend({sepclass:"ui-separator",sepcontent:"",position:"last"},t||{}),this.each(function(){if(this.grid){var i=this,r=i.p,a=getGuiStyles.call(i,"navButton","ui-pg-button "+getGuiStateStyles.call(i,"disabled"));if(void 0===e)if(r.pager){if(base.navSeparatorAdd.call($(i),r.pager,t),!r.toppager)return;e=r.toppager}else r.toppager&&(e=r.toppager);"string"==typeof e&&0!==e.indexOf("#")&&(e="#"+jqID(e));var o=$(".navtable",e);if(o.length>0){var l="<div class='"+a+"'><span class='"+t.sepclass+"'></span>"+t.sepcontent+"</div>";"first"===t.position?0===o.children("div.ui-pg-button").length?o.append(l):o.children("div.ui-pg-button").first().before(l):o.append(l)}}})},GridToForm:function(e,t){return this.each(function(){var i,r,a,o,l=this;if(l.grid){var n=base.getRowData.call($(l),e);if(n)for(i in n)if(n.hasOwnProperty(i))if(r=$("[name="+jqID(i)+"]",t),r.is("input:radio")||r.is("input:checkbox"))for(a=0;a<r.length;a++)o=$(r[a]),o.prop("checked",o.val()===String(n[i]));else r.val(isEmptyString(n[i])?"":n[i])}})},FormToGrid:function(e,t,i,r){return this.each(function(){var a=this;if(a.grid){i||(i="set"),r||(r="first");var o=$(t).serializeArray(),l={};$.each(o,function(e,t){l[t.name]=t.value}),"add"===i?base.addRowData.call($(a),e,l,r):"set"===i&&base.setRowData.call($(a),e,l)}})}}),jgrid.extend({groupingSetup:function(){return this.each(function(){var e,t,i,r,a,o=this,l=o.p,n=l.colModel,s=l.groupingView,d=function(){return""};if(null===s||"object"!=typeof s&&!$.isFunction(s))l.grouping=!1;else if(s.groupField.length){for(void 0===s.visibiltyOnNextGrouping&&(s.visibiltyOnNextGrouping=[]),s.lastvalues=[],s._locgr||(s.groups=[]),s.counters=[],e=0;e<s.groupField.length;e++)s.groupOrder[e]||(s.groupOrder[e]="asc"),s.groupText[e]||(s.groupText[e]="{0}"),"boolean"!=typeof s.groupColumnShow[e]&&(s.groupColumnShow[e]=!0),"boolean"!=typeof s.groupSummary[e]&&(s.groupSummary[e]=!1),s.groupSummaryPos[e]||(s.groupSummaryPos[e]="footer"),r=n[l.iColByName[s.groupField[e]]],s.groupColumnShow[e]===!0?(s.visibiltyOnNextGrouping[e]=!0,null!=r&&r.hidden===!0&&base.showCol.call($(o),s.groupField[e])):(s.visibiltyOnNextGrouping[e]=$("#"+jgrid.jqID(l.id+"_"+s.groupField[e])).is(":visible"),null!=r&&r.hidden!==!0&&base.hideCol.call($(o),s.groupField[e]));for(s.summary=[],s.hideFirstGroupCol&&(s.formatDisplayField[0]=function(e){return e}),t=0,i=n.length;t<i;t++)r=n[t],s.hideFirstGroupCol&&(r.hidden||s.groupField[0]!==r.name||(r.formatter=d)),r.summaryType&&(a={nm:r.name,st:r.summaryType,v:"",sr:r.summaryRound,srt:r.summaryRoundType||"round"},r.summaryDivider&&(a.sd=r.summaryDivider,a.vd=""),s.summary.push(a))}else l.grouping=!1})},groupingPrepare:function(e,t){return this.each(function(){var i,r,a,o,l,n,s,d,c,u=this,p=u.p.groupingView,g=p.groups,h=p.counters,f=p.lastvalues,m=p.isInTheSameGroup,v=p.groupField.length,b=!1,w=base.groupingCalculations.handler,j=function(){var t,i,r;for(t=0;t<l.summary.length;t++)i=l.summary[t],r=$.isArray(i.st)?i.st[o.idx]:i.st,$.isFunction(r)?i.v=r.call(u,i.v,i.nm,e,o):(i.v=w.call($(u),r,i.v,i.nm,i.sr,i.srt,e),"avg"===r.toLowerCase()&&i.sd&&(i.vd=w.call($(u),r,i.vd,i.sd,i.sr,i.srt,e)));return l.summary};for(i=0;i<v;i++)if(n=p.groupField[i],d=p.displayField[i],s=e[n],c=null==d?null:e[d],null==c&&(c=s),void 0!==s){for(a=[],r=0;r<=i;r++)a.push(e[p.groupField[r]]);o={idx:i,dataIndex:n,value:s,displayValue:c,startRow:t,cnt:1,keys:a,summary:[]},0===t?(g.push(o),f[i]=s,l={cnt:1,pos:g.length-1,summary:$.extend(!0,[],p.summary)},h[i]=l,g[l.pos].summary=j()):(l={cnt:1,pos:g.length,summary:$.extend(!0,[],p.summary)},"object"==typeof s||($.isArray(m)&&$.isFunction(m[i])?m[i].call(u,f[i],s,i,p):f[i]===s)?b?(g.push(o),f[i]=s,h[i]=l,g[l.pos].summary=j()):(l=h[i],l.cnt+=1,g[l.pos].cnt=l.cnt,g[l.pos].summary=j()):(g.push(o),f[i]=s,b=!0,h[i]=l,g[l.pos].summary=j()))}}),this},groupingToggle:function(e,t){return this.each(function(){var i,r,a,o=this,l=o.p,n=l.groupingView,s=n.minusicon,d=n.plusicon,c=t?$(t).closest("tr.jqgroup"):$("#"+jgrid.jqID(e)),u=function(e){return e.find(">td>span.tree-wrap")},p=!0,g=!1,h=[],f=function(e){var t,i=e.length;for(t=0;t<i;t++)h.push(e[t])},m=parseInt(c.data("jqgrouplevel"),10);for(l.frozenColumns&&c.length>0&&(r=c[0].rowIndex,c=$(o.rows[r]),c=c.add(o.grid.fbRows[r])),a=u(c),jgrid.hasAllClasses(a,s)?(a.removeClass(s).addClass(d),g=!0):a.removeClass(d).addClass(s),c=c.next();c.length;c=c.next())if(c.hasClass("jqfoot")){if(i=parseInt(c.data("jqfootlevel"),10),g){if(i=parseInt(c.data("jqfootlevel"),10),(!n.showSummaryOnHide&&i===m||i>m)&&f(c),i<m)break}else if((i===m||n.showSummaryOnHide&&i===m+1)&&f(c),i<=m)break}else if(c.hasClass("jqgroup"))if(i=parseInt(c.data("jqgrouplevel"),10),g){if(i<=m)break;f(c)}else{if(i<=m)break;i===m+1&&(u(c).removeClass(s).addClass(d),f(c)),p=!1}else(g||p)&&f(c);$(h).css("display",g?"none":""),l.frozenColumns&&$(o).triggerHandler("jqGridResetFrozenHeights",[{header:{resizeDiv:!1,resizedRows:{iRowStart:-1,iRowEnd:-1}},resizeFooter:!1,body:{resizeDiv:!0,resizedRows:{iRowStart:r,iRowEnd:c.length?c[0].rowIndex-1:-1}}}]),o.fixScrollOffsetAndhBoxPadding(),$(o).triggerHandler("jqGridGroupingClickGroup",[e,g]),$.isFunction(l.onClickGroup)&&l.onClickGroup.call(o,e,g)}),!1},groupingRender:function(e,t){function i(e,t,i,r,a){var o,l,d,c,u,g,h,f,w,j,y,x,q,C=m[e],D="",_=0,S=!0;if(0!==t&&0!==m[e].idx)for(o=e;o>=0;o--)if(m[o].idx===m[e].idx-t){C=m[o];break}for(l=C.cnt,y=void 0===a?r:0;y<b;y++){for(d="&#160;",j=v[y],f=0;f<C.summary.length;f++)if(w=C.summary[f],x=$.isArray(w.st)?w.st[i.idx]:w.st,q=$.isArray(j.summaryTpl)?j.summaryTpl[i.idx]:j.summaryTpl||"{0}",w.nm===j.name){"string"==typeof x&&"avg"===x.toLowerCase()&&(w.sd&&w.vd?w.v=w.v/w.vd:w.v&&l>0&&(w.v=w.v/l));try{w.groupCount=C.cnt,w.groupIndex=C.dataIndex,w.groupValue=C.value,g=n.formatter("",w.v,y,w)}catch(F){g=w.v}d=jgrid.format(q,g),j.summaryFormat&&(d=j.summaryFormat.call(n,i,d,g,j,w));break}c=!1,u=!1,void 0!==a&&S&&(j.hidden||(d=a,S=!1,r>1&&(c=!0,_=r-1),u=j.align,j.align="rtl"===s.direction?"right":"left",p.iconColumnName=j.name)),h=!1,_>0&&!j.hidden&&"&#160;"===d?(h=!0,u&&(j.align=u),_--):(D+="<td role='gridcell' "+n.formatCol(y,1,"")+(c?"colspan='"+r+"'":"")+">"+d+"</td>",c=!1,u&&(j.align=u),h&&(j.hidden=!1,_--))}return D}var r,a,o,l="",n=this[0],s=n.p,d=0,c=[],u="",p=s.groupingView,g=$.makeArray(p.groupSummary),h=(p.groupCollapse?p.plusicon:p.minusicon)+" tree-wrap",f=p.groupField.length,m=p.groups,v=s.colModel,b=v.length,w=s.page,j="jqGridShowHideCol.groupingRender",y=function(e){return base.getGuiStyles.call(n,"gridRow",e)},x=y("jqgroup ui-row-"+s.direction),q=y("jqfoot ui-row-"+s.direction);return $.each(v,function(e,t){var i;for(i=0;i<f;i++)if(p.groupField[i]===t.name){c[i]=e;break}}),g.reverse(),$.each(m,function(j,y){if(p._locgr&&!(y.startRow+y.cnt>(w-1)*t&&y.startRow<w*t))return!0;d++,o=s.id+"ghead_"+y.idx,a=o+"_"+j,u="<span style='cursor:pointer;margin-"+("rtl"===s.direction?"right:":"left:")+12*y.idx+"px;' class='"+p.commonIconClass+" "+h+"' onclick=\"jQuery('#"+jgrid.jqID(s.id).replace("\\","\\\\")+"').jqGrid('groupingToggle','"+a+"', this);return false;\"></span>";try{$.isArray(p.formatDisplayField)&&$.isFunction(p.formatDisplayField[y.idx])?(y.displayValue=p.formatDisplayField[y.idx].call(n,y.displayValue,y.value,v[c[y.idx]],y.idx,p),r=y.displayValue):r=n.formatter(a,y.displayValue,c[y.idx],y.value)}catch(C){r=y.displayValue}l+="<tr id='"+a+"' data-jqgrouplevel='"+y.idx+"' "+(p.groupCollapse&&y.idx>0?"style='display:none;' ":"")+"role='row' class='"+x+" "+o+"'>";var D,_,S,F,R,G,O=$.isFunction(p.groupText[y.idx])?p.groupText[y.idx].call(n,r,y.cnt,y.summary):jgrid.template(p.groupText[y.idx],r,y.cnt,y.summary),I=1,k=0,N=f-1===y.idx;if("string"!=typeof O&&"number"!=typeof O&&(O=r),"header"===p.groupSummaryPos[y.idx]?(I=1,"cb"!==v[0].name&&"cb"!==v[1].name||I++,"subgrid"!==v[0].name&&"subgrid"!==v[1].name||I++,l+=i(j,0,y,I,u+"<span class='cell-wrapper'>"+O+"</span>")):l+="<td role='gridcell' style='padding-left:"+12*y.idx+"px;' colspan='"+b+"'>"+u+O+"</td>",l+="</tr>",N){for(R=m[j+1],F=y.startRow,G=void 0!==R?R.startRow:m[j].startRow+m[j].cnt,p._locgr&&(k=(w-1)*t,k>y.startRow&&(F=k)),_=F;_<G&&e[_-k];_++)l+=e[_-k].join("");if("header"!==p.groupSummaryPos[y.idx]){if(void 0!==R){for(D=0;D<p.groupField.length&&R.dataIndex!==p.groupField[D];D++);d=p.groupField.length-D}for(S=0;S<d;S++)g[S]&&(l+="<tr data-jqfootlevel='"+(y.idx-S)+(p.groupCollapse&&(y.idx-S>0||!p.showSummaryOnHide)?"' style='display:none;'":"'")+" role='row' class='"+q+"'>",l+=i(j,S,m[y.idx-S],0),l+="</tr>");d=D}}}),this.unbind(j).bind(j,function(){var e,t,i,r,a=s.iColByName[p.iconColumnName];if($.inArray("header",p.groupSummaryPos)>=0){for(r=0;r<v.length;r++)if(!v[r].hidden){i=r;break}if(void 0===i||a===i)return;for(e=0;e<n.rows.length;e++)t=n.rows[e],$(t).hasClass("jqgroup")&&($(t.cells[i]).html(t.cells[a].innerHTML),$(t.cells[a]).html("&nbsp;"));p.iconColumnName=v[i].name}}),l},groupingGroupBy:function(e,t){return this.each(function(){var i,r,a=this,o=a.p,l=o.groupingView;for("string"==typeof e&&(e=[e]),o.grouping=!0,l._locgr=!1,void 0===l.visibiltyOnNextGrouping&&(l.visibiltyOnNextGrouping=[]),i=0;i<l.groupField.length;i++)r=o.colModel[o.iColByName[l.groupField[i]]],!l.groupColumnShow[i]&&l.visibiltyOnNextGrouping[i]&&null!=r&&r.hidden===!0&&base.showCol.call($(a),l.groupField[i]);for(i=0;i<e.length;i++)l.visibiltyOnNextGrouping[i]=$(o.idSel+"_"+jgrid.jqID(e[i])).is(":visible");o.groupingView=$.extend(o.groupingView,t||{}),l.groupField=e,$(a).trigger("reloadGrid")})},groupingRemove:function(e){return this.each(function(){var t,i=this,r=i.p,a=i.tBodies[0],o=r.groupingView;if(void 0===e&&(e=!0),r.grouping=!1,e===!0){for(t=0;t<o.groupField.length;t++)!o.groupColumnShow[t]&&o.visibiltyOnNextGrouping[t]&&base.showCol.call($(i),o.groupField);$("tr.jqgroup, tr.jqfoot",a).remove(),$("tr.jqgrow",a).filter(":hidden").show()}else $(i).trigger("reloadGrid")})},groupingCalculations:{handler:function(e,t,i,r,a,o){var l,n,s={sum:function(){return parseFloat(t||0)+parseFloat(o[i]||0)},min:function(){return""===t?parseFloat(o[i]||0):Math.min(parseFloat(t),parseFloat(o[i]||0))},max:function(){return""===t?parseFloat(o[i]||0):Math.max(parseFloat(t),parseFloat(o[i]||0))},count:function(){return""===t&&(t=0),o.hasOwnProperty(i)?t+1:0},avg:function(){return s.sum()}};if(!s[e])throw"jqGrid Grouping No such method: "+e;return l=s[e](),null!=r&&("fixed"===a?l=l.toFixed(r):(n=Math.pow(10,r),l=Math.round(l*n)/n)),l}}}),$.jgrid.extend({jqGridImport:function(e){return e=$.extend({imptype:"xml",impstring:"",impurl:"",mtype:"GET",impData:{},xmlGrid:{config:"roots>grid",data:"roots>rows"},jsonGrid:{config:"grid",data:"data"},ajaxOptions:{}},e||{}),this.each(function(){var t,i=this,r=function(e,t){var r,a,o,l,n=$(t.xmlGrid.config,e)[0],s=$(t.xmlGrid.data,e)[0];if(xmlJsonClass.xml2json){r=xmlJsonClass.xml2json(n," "),r=$.parseJSON(r);for(o in r)r.hasOwnProperty(o)&&(a=r[o]);void 0!==a&&(s?(l=r.grid.datatype,r.grid.datatype="xmlstring",r.grid.datastr=e,$(i).jqGrid(a).jqGrid("setGridParam",{datatype:l})):$(i).jqGrid(a))}else(null!=jgrid.defaults&&$.isFunction(jgrid.defaults.fatalError)?jgrid.defaults.fatalError:alert)("xml2json or parse are not present")},a=function(e,t){if(e&&"string"==typeof e){var r,a=$.parseJSON(e),o=a[t.jsonGrid.config],l=a[t.jsonGrid.data];l?(r=o.datatype,o.datatype="jsonstring",o.datastr=l,$(i).jqGrid(o).jqGrid("setGridParam",{datatype:r})):$(i).jqGrid(o)}};switch(e.imptype){case"xml":$.ajax($.extend({url:e.impurl,type:e.mtype,data:e.impData,dataType:"xml",context:e,complete:function(e){!(e.status<300||304===e.status)||0===e.status&&4===e.readyState||(r(e.responseXML,this),$(i).triggerHandler("jqGridImportComplete",[e,this]),$.isFunction(this.importComplete)&&this.importComplete(e))}},e.ajaxOptions));break;case"xmlstring":e.impstring&&"string"==typeof e.impstring&&(t=$.parseXML(e.impstring),t&&(r(t,e),$(i).triggerHandler("jqGridImportComplete",[t,e]),$.isFunction(e.importComplete)&&e.importComplete(t),e.impstring=null));break;case"json":$.ajax($.extend({url:e.impurl,type:e.mtype,data:e.impData,dataType:"json",context:e,complete:function(e){try{!(e.status<300||304===e.status)||0===e.status&&4===e.readyState||(a(e.responseText,this),
$(i).triggerHandler("jqGridImportComplete",[e,this]),$.isFunction(this.importComplete)&&this.importComplete(e))}catch(t){}}},e.ajaxOptions));break;case"jsonstring":e.impstring&&"string"==typeof e.impstring&&(a(e.impstring,e),$(i).triggerHandler("jqGridImportComplete",[e.impstring,e]),$.isFunction(e.importComplete)&&e.importComplete(e.impstring),e.impstring=null)}})},jqGridExport:function(e){e=$.extend({exptype:"xmlstring",root:"grid",ident:"\t"},e||{});var t=null;return this.each(function(){if(this.grid){var i,r=$.extend(!0,{},$(this).jqGrid("getGridParam"));if(r.rownumbers&&(r.colNames.splice(0,1),r.colModel.splice(0,1)),r.multiselect&&(r.colNames.splice(0,1),r.colModel.splice(0,1)),r.subGrid&&(r.colNames.splice(0,1),r.colModel.splice(0,1)),r.knv=null,r.treeGrid)for(i in r.treeReader)r.treeReader.hasOwnProperty(i)&&(r.colNames.splice(r.colNames.length-1),r.colModel.splice(r.colModel.length-1));switch(e.exptype){case"xmlstring":t="<"+e.root+">"+xmlJsonClass.json2xml(r,e.ident)+"</"+e.root+">";break;case"jsonstring":t="{"+xmlJsonClass.toJson(r,e.root,e.ident,!1)+"}",void 0!==r.postData.filters&&(t=t.replace(/filters":"/,'filters":'),t=t.replace(/\}\]\}"/,"}]}"))}}}),t},excelExport:function(e){return e=$.extend({exptype:"remote",url:null,oper:"oper",tag:"excel",exportOptions:{}},e||{}),this.each(function(){var t,i,r;this.grid&&"remote"===e.exptype&&(i=$.extend({},this.p.postData,e.exportOptions),i[e.oper]=e.tag,r=jQuery.param(i),t=e.url.indexOf("?")!==-1?e.url+"&"+r:e.url+"?"+r,window.location=t)})}});var editFeedback=function(e){var t=$.makeArray(arguments).slice(1);return t.unshift(""),t.unshift("Inline"),t.unshift(e),jgrid.feedback.apply(this,t)};jgrid.inlineEdit=jgrid.inlineEdit||{},jgrid.extend({editRow:function(e,t,i,r,a,o,l,n,s,d){var c={},u=$.makeArray(arguments).slice(1);return"object"===$.type(u[0])?c=u[0]:(void 0!==t&&(c.keys=t),$.isFunction(i)&&(c.oneditfunc=i),$.isFunction(r)&&(c.successfunc=r),void 0!==a&&(c.url=a),null!=o&&(c.extraparam=o),$.isFunction(l)&&(c.aftersavefunc=l),$.isFunction(n)&&(c.errorfunc=n),$.isFunction(s)&&(c.afterrestorefunc=s),$.isFunction(d)&&(c.beforeEditRow=d)),this.each(function(){var t=this,i=$(t),r=t.p,a=0,o=null,l={},n=r.colModel,s=r.prmNames;if(t.grid){var d=$.extend(!0,{keys:!1,oneditfunc:null,successfunc:null,url:null,extraparam:{},aftersavefunc:null,errorfunc:null,afterrestorefunc:null,restoreAfterError:!0,beforeEditRow:null,mtype:"POST",focusField:!0},jgrid.inlineEdit,r.inlineEditing||{},c),u=i.jqGrid("getInd",e,!0),p=d.focusField,g="object"==typeof p&&null!=p?$(p.target||p).closest("tr.jqgrow>td")[0]:null;if(u!==!1&&(d.extraparam[s.oper]===s.addoper||editFeedback.call(t,d,"beforeEditRow",d,e))&&"0"===($(u).attr("editable")||"0")&&!$(u).hasClass("not-editable-row")){var h=jgrid.detectRowEditing.call(t,e);if(null!=h&&"cellEditing"===h.mode){var f=h.savedRow,m=t.rows[f.id],v=getGuiStateStyles.call(t,"select");i.jqGrid("restoreCell",f.id,f.ic),$(m.cells[f.ic]).removeClass("edit-cell "+v),$(m).addClass(v).attr({"aria-selected":"true",tabindex:"0"})}if(jgrid.enumEditableCells.call(t,u,$(u).hasClass("jqgrid-new-row")?"add":"edit",function(i){var n,s,d,c=i.cm,u=$(i.dataElement),p=i.dataWidth,g=c.name,h=c.edittype,f=i.iCol,m=c.editoptions||{};if("hidden"!==i.editable){try{n=$.unformat.call(this,i.td,{rowId:e,colModel:c},f)}catch(v){n="textarea"===h?u.text():u.html()}l[g]=n,u.html(""),s=$.extend({},m,{id:e+"_"+g,name:g,rowId:e,mode:i.mode,cm:c,iCol:f}),("&nbsp;"===n||"&#160;"===n||1===n.length&&160===n.charCodeAt(0))&&(n=""),d=jgrid.createEl.call(t,h,s,n,!0,$.extend({},jgrid.ajaxOptions,r.ajaxSelectOptions||{})),$(d).addClass("editable"),u.append(d),p&&$(d).width(i.dataWidth),jgrid.bindEv.call(t,d,s),"select"===h&&m.multiple===!0&&void 0===m.dataUrl&&jgrid.msie&&$(d).width($(d).width()),null===o&&(o=f),a++}}),a>0){if(l.id=e,r.savedRow.push(l),$(u).attr("editable","1"),p&&("number"==typeof p&&parseInt(p,10)<=n.length?o=p:"string"==typeof p?o=r.iColByName[p]:null!=g&&(o=g.cellIndex),setTimeout(function(){var e=i.jqGrid("getNumberOfFrozenColumns"),a=function(i){return r.frozenColumns&&e>0&&o<e?t.grid.fbRows[u.rowIndex].cells[i]:u.cells[i]},l=function(e){return $(e).find("input,textarea,select,button,object,*[tabindex]").filter(":input:visible:not(:disabled)")},n=function(){return l(r.frozenColumns&&e>0?t.grid.fbRows[u.rowIndex]:u).first()},s=l(a(o));s.length>0?s.first().focus():"number"==typeof d.defaultFocusField||"string"==typeof d.defaultFocusField?(s=l(a("number"==typeof d.defaultFocusField?d.defaultFocusField:r.iColByName[d.defaultFocusField])),0===s.length&&(s=n()),s.first().focus()):n().focus()},0)),d.keys===!0){var b=$(u);r.frozenColumns&&(b=b.add(t.grid.fbRows[u.rowIndex])),b.bind("keydown",function(t){if(27===t.keyCode)return i.jqGrid("restoreRow",e,d.afterrestorefunc),!1;if(13===t.keyCode){var r=t.target;return"TEXTAREA"===r.tagName||(i.jqGrid("saveRow",e,d),!1)}})}fullBoolFeedback.call(t,d.oneditfunc,"jqGridInlineEditRow",e,d)}}}})},saveRow:function(e,t,i,r,a,o,l,n){var s,d=$.makeArray(arguments).slice(1),c={},u=this[0],p=$(u),g=null!=u?u.p:null,h=jgrid.info_dialog,f=$.isFunction,m=null!=jgrid.defaults&&f(jgrid.defaults.fatalError)?jgrid.defaults.fatalError:alert;if(u.grid&&null!=g){"object"===$.type(d[0])?c=d[0]:(f(t)&&(c.successfunc=t),void 0!==i&&(c.url=i),void 0!==r&&(c.extraparam=r),f(a)&&(c.aftersavefunc=a),f(o)&&(c.errorfunc=o),f(l)&&(c.afterrestorefunc=l),f(n)&&(c.beforeSaveRow=n));var v=function(e){return p.jqGrid("getGridRes",e)};c=$.extend(!0,{successfunc:null,url:null,extraparam:{},aftersavefunc:null,errorfunc:null,afterrestorefunc:null,restoreAfterError:!0,beforeSaveRow:null,ajaxSaveOptions:{},serializeSaveData:null,mtype:"POST",saveui:"enable",savetext:v("defaults.savetext")||"Saving..."},jgrid.inlineEdit,g.inlineEditing||{},c);var b,w,j,y,x,q,C={},D={},_={},S=p.jqGrid("getInd",e,!0),F=$(S),R=g.prmNames,G=v("errors.errcap"),O=v("edit.bClose");if(S!==!1&&(s=c.extraparam[R.oper]===R.addoper?"add":"edit",editFeedback.call(u,c,"beforeSaveRow",c,e,s)&&(b=F.attr("editable"),c.url=c.url||g.editurl,q="clientArray"!==c.url,"1"===b))){if(jgrid.enumEditableCells.call(u,S,F.hasClass("jqgrid-new-row")?"add":"edit",function(t){var i=t.cm,r=i.formatter,a=i.editoptions||{},o=i.formatoptions||{},l={},n=($.jgrid.detectRowEditing.call(u,e)||{}).savedRow,s=jgrid.getEditedValue.call(u,$(t.dataElement),i,l,t.editable);return"select"===i.edittype&&"select"!==i.formatter&&(D[i.name]=l.text),x=jgrid.checkValues.call(u,s,t.iCol,void 0,void 0,$.extend(t,{oldValue:null!=n?n[i.name]:null,newValue:s,oldRowData:n})),(null==x||x[0]!==!1)&&("date"===r&&o.sendFormatted!==!0&&(s=$.unformat.date.call(u,s,i)),q&&a.NullIfEmpty===!0&&""===s&&(s="null"),void(C[i.name]=s))}),null!=x&&x[0]===!1){try{var I=p.jqGrid("getGridRowById",e),k=jgrid.findPos(I);h.call(u,G,x[1],O,{left:k[0],top:k[1]+$(I).outerHeight()})}catch(N){m(x[1])}return}var E,A=e;if(R=g.prmNames,E=g.keyName===!1?R.id:g.keyName,C){if(C[R.oper]=R.editoper,void 0===C[E]||""===C[E])C[E]=e;else if(S.id!==g.idPrefix+C[E]){var T=jgrid.stripPref(g.idPrefix,e);if(void 0!==g._index[T]&&(g._index[C[E]]=g._index[T],delete g._index[T]),e=g.idPrefix+C[E],F.attr("id",e),g.selrow===A&&(g.selrow=e),$.isArray(g.selarrrow)){var M=$.inArray(A,g.selarrrow);M>=0&&(g.selarrrow[M]=e)}if(g.multiselect){var z="jqg_"+g.id+"_"+e;F.find("input.cbox").attr("id",z).attr("name",z)}}C=$.extend({},C,g.inlineData||{},c.extraparam)}if(q)p.jqGrid("progressBar",{method:"show",loadtype:c.saveui,htmlcontent:c.savetext}),_=$.extend({},C,_),_[E]=jgrid.stripPref(g.idPrefix,_[E]),g.autoEncodeOnEdit&&$.each(_,function(e,t){f(t)||(_[e]=jgrid.oldEncodePostedData(t))}),$.ajax($.extend({url:f(c.url)?c.url.call(u,_[E],s,_,c):c.url,data:jgrid.serializeFeedback.call(u,f(c.serializeSaveData)?c.serializeSaveData:g.serializeRowData,"jqGridInlineSerializeSaveData",_),type:f(c.mtype)?c.mtype.call(u,s,c,_[E],_):c.mtype,complete:function(t,i){if(p.jqGrid("progressBar",{method:"hide",loadtype:c.saveui,htmlcontent:c.savetext}),(t.status<300||304===t.status)&&(0!==t.status||4!==t.readyState)){var r,a,o;if(a=p.triggerHandler("jqGridInlineSuccessSaveRow",[t,e,c]),null!=a&&a!==!0||(a=[!0,C]),a[0]&&f(c.successfunc)&&(a=c.successfunc.call(u,t)),$.isArray(a)?(r=a[0],C=a[1]||C):r=a,r===!0){for(g.autoEncodeOnEdit&&$.each(C,function(e,t){C[e]=jgrid.oldDecodePostedData(t)}),C=$.extend({},C,D),p.jqGrid("setRowData",e,C),F.attr("editable","0"),o=0;o<g.savedRow.length;o++)if(String(g.savedRow[o].id)===String(e)){j=o;break}j>=0&&g.savedRow.splice(j,1),fullBoolFeedback.call(u,c.aftersavefunc,"jqGridInlineAfterSaveRow",e,t,C,c),F.removeClass("jqgrid-new-row").unbind("keydown")}else fullBoolFeedback.call(u,c.errorfunc,"jqGridInlineErrorSaveRow",e,t,i,null,c),c.restoreAfterError===!0&&p.jqGrid("restoreRow",e,c.afterrestorefunc)}},error:function(t,i,r){if($("#lui_"+jgrid.jqID(g.id)).hide(),p.triggerHandler("jqGridInlineErrorSaveRow",[e,t,i,r,c]),f(c.errorfunc))c.errorfunc.call(u,e,t,i,r);else{var a=t.responseText||t.statusText;try{h.call(u,G,'<div class="'+getGuiStateStyles.call(u,"error")+'">'+a+"</div>",O,{buttonalign:"right"})}catch(o){m(a)}}c.restoreAfterError===!0&&p.jqGrid("restoreRow",e,c.afterrestorefunc)}},jgrid.ajaxOptions,g.ajaxRowOptions,c.ajaxSaveOptions||{}));else{for(C=$.extend({},C,D),y=p.jqGrid("setRowData",e,C),F.attr("editable","0"),w=0;w<g.savedRow.length;w++)if(String(g.savedRow[w].id)===String(A)){j=w;break}j>=0&&g.savedRow.splice(j,1),fullBoolFeedback.call(u,c.aftersavefunc,"jqGridInlineAfterSaveRow",e,y,C,c),F.removeClass("jqgrid-new-row").unbind("keydown")}}}},restoreRow:function(e,t){var i=$.makeArray(arguments).slice(1),r={};return"object"===$.type(i[0])?r=i[0]:$.isFunction(t)&&(r.afterrestorefunc=t),this.each(function(){var t,i=this,a=$(i),o=i.p,l=-1,n={};if(i.grid){var s=$.extend(!0,{},jgrid.inlineEdit,o.inlineEditing||{},r),d=a.jqGrid("getInd",e,!0);if(d!==!1&&editFeedback.call(i,s,"beforeCancelRow",s,e)){for(t=0;t<o.savedRow.length;t++)if(String(o.savedRow[t].id)===String(e)){l=t;break}if(l>=0){if($.isFunction($.fn.datepicker))try{$("input.hasDatepicker","#"+jgrid.jqID(d.id)).datepicker("hide")}catch(c){}$.each(o.colModel,function(){var e=this.name;o.savedRow[l].hasOwnProperty(e)&&(n[e]=o.savedRow[l][e],!this.formatter||"date"!==this.formatter||null!=this.formatoptions&&this.formatoptions.sendFormatted===!0||(n[e]=$.unformat.date.call(i,n[e],this)))}),a.jqGrid("setRowData",e,n),$(d).attr("editable","0").unbind("keydown"),o.savedRow.splice(l,1),$("#"+jgrid.jqID(e),i).hasClass("jqgrid-new-row")&&setTimeout(function(){a.jqGrid("delRowData",e),a.jqGrid("showAddEditButtons",!1)},0)}fullBoolFeedback.call(i,s.afterrestorefunc,"jqGridInlineAfterRestoreRow",e)}}})},addRow:function(e){return this.each(function(){if(this.grid){var t=this,i=$(t),r=t.p,a=$.extend(!0,{rowID:null,initdata:{},position:"first",useDefValues:!0,useFormatter:!1,beforeAddRow:null,addRowParams:{extraparam:{}}},jgrid.inlineEdit,r.inlineEditing||{},e||{});if(editFeedback.call(t,a,"beforeAddRow",a.addRowParams))if(a.rowID=$.isFunction(a.rowID)?a.rowID.call(t,a):null!=a.rowID?a.rowID:jgrid.randId(),a.useDefValues===!0&&$(r.colModel).each(function(){if(this.editoptions&&this.editoptions.defaultValue){var e=this.editoptions.defaultValue;a.initdata[this.name]=$.isFunction(e)?e.call(t):e}}),a.rowID=r.idPrefix+a.rowID,i.jqGrid("addRowData",a.rowID,a.initdata,a.position),$("#"+jgrid.jqID(a.rowID),t).addClass("jqgrid-new-row"),a.useFormatter)$("#"+jgrid.jqID(a.rowID)+" .ui-inline-edit",t).click();else{var o=r.prmNames,l=o.oper;a.addRowParams.extraparam[l]=o.addoper,i.jqGrid("editRow",a.rowID,a.addRowParams),i.jqGrid("setSelection",a.rowID)}}})},inlineNav:function(e,t){return"object"==typeof e&&(t=e,e=void 0),this.each(function(){var i=this,r=$(i),a=i.p;if(this.grid&&null!=a){var o,l=e===a.toppager?a.idSel+"_top":a.idSel,n=e===a.toppager?a.id+"_top":a.id,s=getGuiStateStyles.call(i,"disabled"),d=$.extend(!0,{edit:!0,editicon:"ui-icon-pencil",add:!0,addicon:"ui-icon-plus",save:!0,saveicon:"ui-icon-disk",cancel:!0,cancelicon:"ui-icon-cancel",commonIconClass:"ui-icon",iconsOverText:!1,addParams:{addRowParams:{extraparam:{}}},editParams:{},restoreAfterSelect:!0},r.jqGrid("getGridRes","nav"),jgrid.nav||{},a.navOptions||{},jgrid.inlineNav||{},a.inlineNavOptions||{},t||{}),c=function(){i.modalAlert()};if(void 0===e)if(a.pager){if(r.jqGrid("inlineNav",a.pager,d),!a.toppager)return;e=a.toppager,l=a.idSel+"_top",n=a.id+"_top"}else a.toppager&&(e=a.toppager,l=a.idSel+"_top",n=a.id+"_top");if(void 0!==e&&(o=$(e),!(o.length<=0))){if(o.find(".navtable").length<=0&&r.jqGrid("navGrid",e,{add:!1,edit:!1,del:!1,search:!1,refresh:!1,view:!1}),a._inlinenav=!0,d.addParams.useFormatter===!0){var u,p,g,h=a.colModel;for(u=0;u<h.length;u++)if(h[u].formatter&&"actions"===h[u].formatter){h[u].formatoptions&&(p={keys:!1,onEdit:null,onSuccess:null,afterSave:null,onError:null,afterRestore:null,extraparam:{},url:null},g=$.extend(p,h[u].formatoptions),d.addParams.addRowParams={keys:g.keys,oneditfunc:g.onEdit,successfunc:g.onSuccess,url:g.url,extraparam:g.extraparam,aftersavefunc:g.afterSave,errorfunc:g.onError,afterrestorefunc:g.afterRestore});break}}d.add&&r.jqGrid("navButtonAdd",e,{caption:d.addtext,title:d.addtitle,commonIconClass:d.commonIconClass,buttonicon:d.addicon,iconsOverText:d.iconsOverText,id:n+"_iladd",onClickButton:function(){hasOneFromClasses(this,s)||r.jqGrid("addRow",d.addParams)}}),d.edit&&r.jqGrid("navButtonAdd",e,{caption:d.edittext,title:d.edittitle,commonIconClass:d.commonIconClass,buttonicon:d.editicon,iconsOverText:d.iconsOverText,id:n+"_iledit",onClickButton:function(){if(!hasOneFromClasses(this,s)){var e=a.selrow;e?r.jqGrid("editRow",e,d.editParams):c()}}}),d.save&&(r.jqGrid("navButtonAdd",e,{caption:d.savetext,title:d.savetitle,commonIconClass:d.commonIconClass,buttonicon:d.saveicon,iconsOverText:d.iconsOverText,id:n+"_ilsave",onClickButton:function(){if(!hasOneFromClasses(this,s)){var e=a.savedRow[0].id;if(e){var t=a.prmNames,o=t.oper,l=d.editParams;$("#"+jgrid.jqID(e),i).hasClass("jqgrid-new-row")?(d.addParams.addRowParams.extraparam[o]=t.addoper,l=d.addParams.addRowParams):(d.editParams.extraparam||(d.editParams.extraparam={}),d.editParams.extraparam[o]=t.editoper),r.jqGrid("saveRow",e,l)}else c()}}}),$(l+"_ilsave").addClass(s)),d.cancel&&(r.jqGrid("navButtonAdd",e,{caption:d.canceltext,title:d.canceltitle,commonIconClass:d.commonIconClass,buttonicon:d.cancelicon,iconsOverText:d.iconsOverText,id:n+"_ilcancel",onClickButton:function(){if(!hasOneFromClasses(this,s)){var e=a.savedRow[0].id,t=d.editParams;e?($("#"+jgrid.jqID(e),i).hasClass("jqgrid-new-row")&&(t=d.addParams.addRowParams),r.jqGrid("restoreRow",e,t)):c()}}}),$(l+"_ilcancel").addClass(s)),d.restoreAfterSelect===!0&&r.bind("jqGridSelectRow",function(e,t){if(a.savedRow.length>0&&a._inlinenav===!0){var i=a.savedRow[0].id;t!==i&&"number"!=typeof i&&r.jqGrid("restoreRow",i,d.editParams)}}),r.bind("jqGridInlineAfterRestoreRow jqGridInlineAfterSaveRow",function(){r.jqGrid("showAddEditButtons",!1)}),r.bind("jqGridInlineEditRow",function(e,t){r.jqGrid("showAddEditButtons",!0,t)})}}})},showAddEditButtons:function(e){return this.each(function(){var t=this;if(t.grid){var i=t.p,r=i.idSel,a=getGuiStateStyles.call(t,"disabled"),o=r+"_ilsave,"+r+"_ilcancel"+(i.toppager?","+r+"_top_ilsave,"+r+"_top_ilcancel":""),l=r+"_iladd,"+r+"_iledit"+(i.toppager?","+r+"_top_iladd,"+r+"_top_iledit":"");$(e?l:o).addClass(a),$(e?o:l).removeClass(a)}})}});var $UiMultiselect=null!=$.ui?$.ui.multiselect:null;if(jgrid.msie&&8===jgrid.msiever()&&($.expr[":"].hidden=function(e){return 0===e.offsetWidth||0===e.offsetHeight||"none"===e.style.display}),jgrid._multiselect=!1,$UiMultiselect){if($UiMultiselect.prototype._setSelected){var setSelected=$UiMultiselect.prototype._setSelected;$UiMultiselect.prototype._setSelected=function(e,t){var i=this,r=setSelected.call(i,e,t);if(t&&i.selectedList){var a=i.element;i.selectedList.find("li").each(function(){$(i).data("optionLink")&&$(i).data("optionLink").remove().appendTo(a)})}return r}}$UiMultiselect.prototype.destroy&&($UiMultiselect.prototype.destroy=function(){var e=this;e.element.show(),e.container.remove(),void 0===$.Widget?$.widget.prototype.destroy.apply(e,arguments):$.Widget.prototype.destroy.apply(e,arguments)}),jgrid._multiselect=!0}jgrid.extend({sortableColumns:function(e){return this.each(function(){function t(){r.disableClick=!0}var i=this,r=i.p,a=jqID(r.id),o={tolerance:"pointer",axis:"x",scrollSensitivity:"1",items:">th:not(:has(#jqgh_"+a+"_cb,#jqgh_"+a+"_rn,#jqgh_"+a+"_subgrid),:hidden)",placeholder:{element:function(e){var t=$(document.createElement(e[0].nodeName)).addClass(e[0].className+" ui-sortable-placeholder ui-state-highlight").removeClass("ui-sortable-helper")[0];return t},update:function(e,t){t.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),t.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10))}},update:function(e,t){var a=$(">th",$(t.item).parent()),o=r.id+"_",l=[];a.each(function(){var e=$(">div",this).get(0).id.replace(/^jqgh_/,"").replace(o,""),t=r.iColByName[e];void 0!==t&&l.push(t)}),$(i).jqGrid("remapColumns",l,!0,!0),$.isFunction(r.sortable.update)&&r.sortable.update(l),setTimeout(function(){r.disableClick=!1},50)}};if(r.sortable.options?$.extend(o,r.sortable.options):$.isFunction(r.sortable)&&(r.sortable={update:r.sortable}),o.start){var l=o.start;o.start=function(e,i){t(),l.call(this,e,i)}}else o.start=t;r.sortable.exclude&&(o.items+=":not("+r.sortable.exclude+")");var n=e.sortable(o),s=n.data("sortable")||n.data("uiSortable")||n.data("ui-sortable");null!=s&&(s.floating=!0)})},columnChooser:function(e){function t(e,t,i){var r,a;return t>=0?(r=e.slice(),a=r.splice(t,Math.max(e.length-t,t)),t>e.length&&(t=e.length),r[t]=i,r.concat(a)):e}function i(e,t){e&&("string"==typeof e?$.fn[e]&&$.fn[e].apply(t,$.makeArray(arguments).slice(2)):$.isFunction(e)&&e.apply(t,$.makeArray(arguments).slice(2)))}var r,a,o,l,n,s,d,c=this,u=c[0],p=u.p,g={},h=[],f=p.colModel,m=f.length,v=p.colNames,b=function(e){return $UiMultiselect&&$UiMultiselect.prototype&&e.data($UiMultiselect.prototype.widgetFullName||$UiMultiselect.prototype.widgetName)||e.data("ui-multiselect")||e.data("multiselect")};if(!$("#colchooser_"+jqID(p.id)).length){if(r=$('<div id="colchooser_'+p.id+'" style="position:relative;overflow:hidden"><div><select multiple="multiple"></select></div></div>'),a=$("select",r),e=$.extend({width:400,height:240,classname:null,done:function(e){e&&null==p.groupHeader&&c.jqGrid("remapColumns",e,!0)},msel:"multiselect",dlog:"dialog",dialog_opts:{minWidth:470,dialogClass:"ui-jqdialog"},dlog_opts:function(e){var t={};return t[e.bSubmit]=function(){e.apply_perm(),e.cleanup(!1)},t[e.bCancel]=function(){e.cleanup(!0)},$.extend(!0,{buttons:t,close:function(){e.cleanup(!0)},modal:e.modal||!1,resizable:e.resizable||!0,width:e.width+70,resize:function(){var e=b(a),t=e.container.closest(".ui-dialog-content");t.length>0&&"object"==typeof t[0].style?t[0].style.width="":t.css("width",""),e.selectedList.height(Math.max(e.selectedContainer.height()-e.selectedActions.outerHeight()-1,1)),e.availableList.height(Math.max(e.availableContainer.height()-e.availableActions.outerHeight()-1,1))}},e.dialog_opts||{})},apply_perm:function(){var i=[],r={notSkipFrozen:void 0!==e.notSkipFrozen&&e.notSkipFrozen,skipSetGridWidth:!0,skipSetGroupHeaders:!0};if($("option",a).each(function(){$(this).is(":selected")?c.jqGrid("showCol",f[this.value].name,r):c.jqGrid("hideCol",f[this.value].name,r)}),p.groupHeader&&("object"==typeof p.groupHeader||$.isFunction(p.groupHeader)))if(c.jqGrid("destroyGroupHeader",!1),null!=p.pivotOptions&&null!=p.pivotOptions.colHeaders&&p.pivotOptions.colHeaders.length>1){var o,l=p.pivotOptions.colHeaders;for(o=0;o<l.length;o++)l[o]&&l[o].groupHeaders.length&&c.jqGrid("setGroupHeaders",l[o])}else c.jqGrid("setGroupHeaders",p.groupHeader);$("option",a).filter(":selected").each(function(){i.push(parseInt(this.value,10))}),$.each(i,function(){delete g[f[parseInt(this,10)].name]}),$.each(g,function(){var e=parseInt(this,10);i=t(i,e,e)}),e.done&&e.done.call(c,i),c.jqGrid("setGridWidth",p.autowidth||void 0!==p.widthOrg&&"auto"!==p.widthOrg&&"100%"!==p.widthOrg?p.width:p.tblwidth,p.shrinkToFit)},cleanup:function(t){i(e.dlog,r,"destroy"),i(e.msel,a,"destroy"),r.remove(),t&&e.done&&e.done.call(c)},msel_opts:{}},c.jqGrid("getGridRes","col"),jgrid.col,e||{}),$.ui&&$UiMultiselect&&$UiMultiselect.defaults){if(!jgrid._multiselect)return void(null!=jgrid.defaults&&$.isFunction(jgrid.defaults.fatalError)?jgrid.defaults.fatalError:alert)("Multiselect plugin loaded after jqGrid. Please load the plugin before the jqGrid!");e.msel_opts=$.extend($UiMultiselect.defaults,e.msel_opts)}e.caption&&r.attr("title",e.caption),e.classname&&(r.addClass(e.classname),a.addClass(e.classname)),e.width&&($(">div",r).css({width:e.width,margin:"0 auto"}),a.css("width",e.width)),e.height&&($(">div",r).css("height",e.height),a.css("height",e.height-10)),a.empty();var w,j,y,x,q,C=p.groupHeader,D={};if(null!=C&&null!=C.groupHeaders)for(w=0,y=C.groupHeaders.length;w<y;w++)for(q=C.groupHeaders[w],j=0;j<q.numberOfColumns;j++)x=p.iColByName[q.startColumnName]+j,D[x]=$.isFunction(e.buildItemText)?e.buildItemText.call(c[0],{iCol:x,cm:f[x],cmName:f[x].name,colName:v[x],groupTitleText:q.titleText}):$.jgrid.stripHtml(q.titleText)+": "+$.jgrid.stripHtml(""===v[x]?f[x].name:v[x]);for(x=0;x<m;x++)void 0===D[x]&&(D[x]=$.isFunction(e.buildItemText)?e.buildItemText.call(c[0],{iCol:x,cm:f[x],cmName:f[x].name,colName:v[x],groupTitleText:null}):$.jgrid.stripHtml(v[x]));$.each(f,function(e){return g[this.name]=e,this.hidedlg?void(this.hidden||h.push(e)):void a.append("<option value='"+e+"'"+(p.headertitles||this.headerTitle?" title='"+jgrid.stripHtml("string"==typeof this.headerTitle?this.headerTitle:D[e])+"'":"")+(this.hidden?"":" selected='selected'")+">"+D[e]+"</option>")}),o=$.isFunction(e.dlog_opts)?e.dlog_opts.call(c,e):e.dlog_opts,i(e.dlog,r,o),l=$.isFunction(e.msel_opts)?e.msel_opts.call(c,e):e.msel_opts,i(e.msel,a,l),n=$("#colchooser_"+jqID(p.id)),n.css({margin:"auto"}),n.find(">div").css({width:"100%",height:"100%",margin:"auto"}),s=b(a),s&&(s.container.css({width:"100%",height:"100%",margin:"auto"}),s.selectedContainer.css({width:100*s.options.dividerLocation+"%",height:"100%",margin:"auto",boxSizing:"border-box"}),s.availableContainer.css({width:100-100*s.options.dividerLocation+"%",height:"100%",margin:"auto",boxSizing:"border-box"}),s.selectedList.css("height","auto"),s.availableList.css("height","auto"),d=Math.max(s.selectedList.height(),s.availableList.height()),d=Math.min(d,$(window).height()),s.selectedList.css("height",d),s.availableList.css("height",d))}},sortableRows:function(e){return this.each(function(){var t=this,i=t.grid,r=t.p;i&&(r.treeGrid||$.fn.sortable&&(e=$.extend({cursor:"move",axis:"y",items:">tbody>.jqgrow"},e||{}),e.start&&$.isFunction(e.start)?(e._start_=e.start,delete e.start):e._start_=!1,e.update&&$.isFunction(e.update)?(e._update_=e.update,delete e.update):e._update_=!1,e.start=function(a,o){if($(o.item).css("border-width","0"),$("td",o.item).each(function(e){this.style.width=i.cols[e].style.width}),r.subGrid){var l=$(o.item).attr("id");try{$(t).jqGrid("collapseSubGridRow",l)}catch(n){}}e._start_&&e._start_.apply(this,[a,o])},e.update=function(i,a){$(a.item).css("border-width",""),r.rownumbers===!0&&$("td.jqgrid-rownum",t.rows).each(function(e){$(this).html(e+1+(parseInt(r.page,10)-1)*parseInt(r.rowNum,10))}),e._update_&&e._update_.apply(this,[i,a])},$(t).sortable(e),$.isFunction($.fn.disableSelection)&&$(t.tBodies[0]).children("tr.jqgrow").disableSelection()))})},gridDnD:function(e){return this.each(function(){function t(){var e=$.data(a,"dnd");$("tr.jqgrow:not(.ui-draggable)",a).draggable($.isFunction(e.drag)?e.drag.call($(a),e):e.drag)}var i,r,a=this;if(a.grid&&!a.p.treeGrid&&$.fn.draggable&&$.fn.droppable){var o="<table id='jqgrid_dnd' class='ui-jqgrid-dnd'></table>";if(void 0===$("#jqgrid_dnd")[0]&&$("body").append(o),"string"==typeof e&&"updateDnD"===e&&a.p.jqgdnd===!0)return void t();if(e=$.extend({drag:function(e){return $.extend({start:function(t,i){var r,o;if(a.p.subGrid){o=$(i.helper).attr("id");try{$(a).jqGrid("collapseSubGridRow",o)}catch(l){}}for(r=0;r<$.data(a,"dnd").connectWith.length;r++)0===$($.data(a,"dnd").connectWith[r]).jqGrid("getGridParam","reccount")&&$($.data(a,"dnd").connectWith[r]).jqGrid("addRowData","jqg_empty_row",{});i.helper.addClass("ui-state-highlight"),$("td",i.helper).each(function(e){this.style.width=a.grid.headers[e].width+"px"}),e.onstart&&$.isFunction(e.onstart)&&e.onstart.call($(a),t,i)},stop:function(t,i){var r,o;for(i.helper.dropped&&!e.dragcopy&&(o=$(i.helper).attr("id"),void 0===o&&(o=$(this).attr("id")),$(a).jqGrid("delRowData",o)),r=0;r<$.data(a,"dnd").connectWith.length;r++)$($.data(a,"dnd").connectWith[r]).jqGrid("delRowData","jqg_empty_row");e.onstop&&$.isFunction(e.onstop)&&e.onstop.call($(a),t,i)}},e.drag_opts||{})},drop:function(e){return $.extend({accept:function(e){if(!$(e).hasClass("jqgrow"))return e;var t=$(e).closest("table.ui-jqgrid-btable");if(t.length>0&&void 0!==$.data(t[0],"dnd")){var i=$.data(t[0],"dnd").connectWith;return $.inArray("#"+jqID(this.id),i)!==-1}return!1},drop:function(t,i){if($(i.draggable).hasClass("jqgrow")){var r=$(i.draggable).attr("id"),o=i.draggable.parent().parent().jqGrid("getRowData",r);if(!e.dropbyname){var l,n,s=0,d={},c=$("#"+jqID(this.id)).jqGrid("getGridParam","colModel");try{for(n in o)o.hasOwnProperty(n)&&(l=c[s].name,"cb"!==l&&"rn"!==l&&"subgrid"!==l&&o.hasOwnProperty(n)&&c[s]&&(d[l]=o[n]),s++);o=d}catch(u){}}if(i.helper.dropped=!0,e.beforedrop&&$.isFunction(e.beforedrop)){var p=e.beforedrop.call(this,t,i,o,$("#"+jqID(a.p.id)),$(this));void 0!==p&&null!==p&&"object"==typeof p&&(o=p)}if(i.helper.dropped){var g;e.autoid&&($.isFunction(e.autoid)?g=e.autoid.call(this,o):(g=Math.ceil(1e3*Math.random()),g=e.autoidprefix+g)),$("#"+jqID(this.id)).jqGrid("addRowData",g,o,e.droppos),o[a.p.localReader.id]=g}e.ondrop&&$.isFunction(e.ondrop)&&e.ondrop.call(this,t,i,o)}}},e.drop_opts||{})},onstart:null,onstop:null,beforedrop:null,ondrop:null,drop_opts:{},drag_opts:{revert:"invalid",helper:"clone",cursor:"move",appendTo:"#jqgrid_dnd",zIndex:5e3},dragcopy:!1,dropbyname:!1,droppos:"first",autoid:!0,autoidprefix:"dnd_"},e||{}),e.connectWith)for(e.connectWith=e.connectWith.split(","),e.connectWith=$.map(e.connectWith,function(e){return $.trim(e)}),$.data(a,"dnd",e),0===a.p.reccount||a.p.jqgdnd||t(),a.p.jqgdnd=!0,i=0;i<e.connectWith.length;i++)r=e.connectWith[i],$(r).droppable($.isFunction(e.drop)?e.drop.call($(a),e):e.drop)}})},gridResize:function(e){return this.each(function(){var t,i=this,r=i.grid,a=i.p,o=a.gView+">.ui-jqgrid-bdiv",l=!1,n=a.height;if(r&&$.fn.resizable){if(e=$.extend({},e||{}),e.alsoResize?(e._alsoResize_=e.alsoResize,delete e.alsoResize):e._alsoResize_=!1,e.stop&&$.isFunction(e.stop)?(e._stop_=e.stop,delete e.stop):e._stop_=!1,e.stop=function(s,d){$(i).jqGrid("setGridWidth",d.size.width,e.shrinkToFit),$(a.gView+">.ui-jqgrid-titlebar").css("width",""),l?($(t).each(function(){$(this).css("height","")}),"auto"!==n&&"100%"!==n||$(r.bDiv).css("height",n)):$(i).jqGrid("setGridParam",{height:$(o).height()}),i.fixScrollOffsetAndhBoxPadding&&i.fixScrollOffsetAndhBoxPadding(),e._stop_&&e._stop_.call(i,s,d)},t=o,"auto"!==n&&"100%"!==n||void 0!==e.handles||(e.handles="e,w"),e.handles){var s=$.map(String(e.handles).split(","),function(e){return $.trim(e)});2===s.length&&("e"===s[0]&&"w"===s[1]||"e"===s[1]&&"w"===s[1])&&(t=a.gView+">div:not(.frozen-div)",l=!0,a.pager&&(t+=","+a.pager))}e._alsoResize_?e.alsoResize=t+","+e._alsoResize_:e.alsoResize=t,delete e._alsoResize_,$(a.gBox).resizable(e)}})}}),Aggregation.prototype.calc=function(e,t,i,r,a){var o=this;if(void 0!==e)switch(o.result=o.result||0,e=parseFloat(e),o.aggregator){case"sum":o.result+=e;break;case"count":o.result++;break;case"avg":o.finilized?(o.count=o.count||0,o.result=(o.result*o.count+e)/(o.count+1),o.count++):(o.result+=e,o.count=o.count||0,o.count++);break;case"min":o.result=Math.min(o.result,e);break;case"max":o.result=Math.max(o.result,e);break;default:$.isFunction(o.aggregator)&&(o.result=o.aggregator.call(o.context,{previousResult:o.result,value:e,fieldName:t,item:i,iItem:r,items:a}))}},Aggregation.prototype.getResult=function(e,t,i){var r=this;(void 0!==r.result||i)&&(i&&void 0!==r.result&&(r.result=0,r.count=0),void 0===r.result||r.finilized||"avg"!==r.aggregator||(r.result=r.result/r.count,r.finilized=!0),e[t]=r.result)},ArrayOfFieldsets.prototype.compareVectorsEx=function(e,t){var i,r,a=this,o=a.fieldLength;for(i=0;i<o;i++)if(r=a.fieldCompare[i](e[i],t[i]),0!==r)return{index:i,result:r};return{index:-1,result:0}},ArrayOfFieldsets.prototype.getIndexOfDifferences=function(e,t){return null===t||null===e?0:this.compareVectorsEx(e,t).index},ArrayOfFieldsets.prototype.compareVectors=function(e,t){var i=this.compareVectorsEx(e,t),r=i.index>=0?this.fieldSortDirection[i.index]:1;return r>0?i.result:-i.result},ArrayOfFieldsets.prototype.getItem=function(e){return this.items[e]},ArrayOfFieldsets.prototype.getIndexLength=function(){return this.items.length},ArrayOfFieldsets.prototype.getIndexesOfSourceData=function(e){return this.indexesOfSourceData[e]},ArrayOfFieldsets.prototype.createDataIndex=function(e){var t,i,r,a,o,l,n,s,d,c=this,u=e.length,p=c.fieldLength,g=c.fieldNames,h=c.indexesOfSourceData,f=c.items;for(t=0;t<u;t++){for(n=e[t],i=new Array(p),a=0;a<p;a++)r=n[g[a]],void 0!==r&&("string"==typeof r&&c.trimByCollect&&(r=$.trim(r)),i[a]=r);if(s=0,d=f.length-1,d<0)f.push(i),h.push([t]);else if(o=c.compareVectors(i,f[d]),0!==o)if(1===o||c.skipSort)f.push(i),h.push([t]);else if(o=c.compareVectors(f[0],i),1!==o)if(0!==o)for(;;){if(d-s<2){f.splice(d,0,i),h.splice(d,0,[t]);break}if(l=Math.floor((s+d)/2),o=c.compareVectors(f[l],i),0===o){h[l].push(t);break}1===o?d=l:s=l}else h[0].push(t);else f.unshift(i),h.unshift([t]);else h[d].push(t)}},jgrid.extend({pivotSetup:function(e,t){var i,r,a,o,l,n,s,d,c,u,p,g,h,f,m,v,b,w,j,y,x,q,C,D,_,S,F,R,G,O=this[0],I=$.isArray,k={},N={groupField:[],groupSummary:[],groupSummaryPos:[]},E={grouping:!0,groupingView:N},A=$.extend({totals:!1,useColSpanStyle:!1,trimByCollect:!0,skipSortByX:!1,skipSortByY:!1,caseSensitive:!1,footerTotals:!1,groupSummary:!0,groupSummaryPos:"header",frozenStaticCols:!1,defaultFormatting:!0,data:e},t||{}),T=e.length,M=A.xDimension,z=A.yDimension,B=A.aggregates,P=A.totalText||A.totals||A.rowTotals||A.totalHeader,L=I(M)?M.length:0,H=I(z)?z.length:0,V=I(B)?B.length:0,W=H-(1===V?1:0),U=[],Y=[],X=[],Q=[],J=new Array(V),K=new Array(H),Z=function(t,i,r){var a=new ArrayOfFieldsets(A.trimByCollect,A.caseSensitive,i,t);return $.isFunction(r)&&(a.compareVectorsEx=r),a.createDataIndex(e),a},ee=function(e,t,i,r,a){var o,l,n;switch(e){case 1:o=z[r].totalText||"{0} {1} {2}",l="y"+a+"t"+r;break;case 2:o=A.totalText||"{0}",l="t";break;default:o=V>1?t.label||"{0}":R.getItem(a)[r],l="y"+a}return n=$.extend({},t,{name:l+(V>1?"a"+i:""),label:$.isFunction(o)?o.call(O,2===e?{aggregate:t,iAggregate:i,pivotOptions:A}:{yIndex:R.getItem(a),aggregate:t,iAggregate:i,yLevel:r,pivotOptions:A}):jgrid.template.apply(O,2===e?[o,t.aggregator,t.member,i]:[o,t.aggregator,t.member,R.getItem(a)[r],r])}),delete n.member,delete n.aggregator,n},te=function(e,t,i){var r,a;for(r=0;r<V;r++)a=B[r],void 0===a.template&&void 0===a.formatter&&A.defaultFormatting&&(a.template="count"===a.aggregator?"integer":"number"),X.push(ee(e,a,r,t,i))},ie=function(e,t,i){var r,a,o,n;for(r=W-1;r>=t;r--)if(Y[r]){for(a=0;a<=r;a++)_=U[a].groupHeaders,_[_.length-1].numberOfColumns+=V;for(l=z[r],o=l.totalHeader,n=l.headerOnTop,a=r+1;a<=W-1;a++)U[a].groupHeaders.push({titleText:n&&a===r+1||!n&&a===W-1?$.isFunction(o)?o.call(O,i,r):jgrid.template.call(O,o||"",i[r],r):"",
startColumnName:"y"+(e-1)+"t"+r+(1===V?"":"a0"),numberOfColumns:V})}},re=function(e){var i=new Aggregation("count"===B[e].aggregator?"sum":B[e].aggregator,O,t);return i.groupInfo={iRows:[],rows:[],ys:[],iYs:[]},i},ae=function(){var e,t;for(e=W-1;e>=0;e--)if(Y[e])for(null==K[e]&&(K[e]=new Array(V)),t=0;t<V;t++)K[e][t]=re(t)},oe=function(e,t,i,r){var a,o,l,n=R.getIndexOfDifferences(t,i);if(null!==i)for(n=Math.max(n,0),a=W-1;a>=n;a--)o="y"+e+"t"+a+(V>1?"a"+r:""),Y[a]&&void 0===C[o]&&(l=K[a][r],l.getResult(C,o),C.pivotInfos[o]={colType:1,iA:r,a:B[r],level:a,iRows:l.groupInfo.iRows,rows:l.groupInfo.rows,ys:l.groupInfo.ys,iYs:l.groupInfo.iYs},t!==i&&(K[a][r]=re(r)))},le=function(t,i,r,a,o,l,n){var s,d,c;if(t!==i)for(s=W-1;s>=0;s--)Y[s]&&(d=K[s][a],d.calc(o[r.member],r.member,o,l,e),c=d.groupInfo,$.inArray(n,c.iYs)<0&&(c.iYs.push(n),c.ys.push(t)),$.inArray(l,c.iRows)<0&&(c.iRows.push(l),c.rows.push(o)))};if(0===L||0===V)throw"xDimension or aggregates options are not set!";for(F=Z(M,A.skipSortByX,A.compareVectorsByX),R=Z(z,A.skipSortByY,A.compareVectorsByY),t.xIndex=F,t.yIndex=R,r=0;r<L;r++)o=M[r],n={name:"x"+r,label:null!=o.label?$.isFunction(o.label)?o.label.call(O,o,r,A):o.label:o.dataName,frozen:A.frozenStaticCols},r<L-1&&(N.groupField.push(n.name),N.groupSummary.push(A.groupSummary),N.groupSummaryPos.push(A.groupSummaryPos)),n=$.extend(n,o),delete n.dataName,delete n.footerText,X.push(n);for(L<2&&(E.grouping=!1),E.sortname=X[L-1].name,N.hideFirstGroupCol=!0,r=0;r<H;r++)l=z[r],Y.push(!!(l.totals||l.rowTotals||l.totalText||l.totalHeader));for(D=R.getItem(0),te(0,H-1,0),G=R.getIndexLength(),w=1;w<G;w++){for(j=R.getItem(w),r=R.getIndexOfDifferences(j,D),a=W-1;a>=r;a--)Y[a]&&te(1,a,w-1);D=j,te(0,H-1,w)}for(r=W-1;r>=0;r--)Y[r]&&te(1,r,G-1);for(P&&te(2),D=R.getItem(0),a=0;a<W;a++)U.push({useColSpanStyle:A.useColSpanStyle,groupHeaders:[{titleText:D[a],startColumnName:1===V?"y0":"y0a0",numberOfColumns:V}]});for(w=1;w<G;w++){for(j=R.getItem(w),r=R.getIndexOfDifferences(j,D),ie(w,r,D),a=W-1;a>=r;a--)U[a].groupHeaders.push({titleText:j[a],startColumnName:"y"+w+(1===V?"":"a0"),numberOfColumns:V});for(a=0;a<r;a++)_=U[a].groupHeaders,_[_.length-1].numberOfColumns+=V;D=j}if(ie(G,0,D),P)for(r=0;r<W;r++)U[r].groupHeaders.push({titleText:r<W-1?"":A.totalHeader||"",startColumnName:"t"+(1===V?"":"a0"),numberOfColumns:V});for(v=F.getIndexLength(),c=0;c<v;c++){for(u=F.getItem(c),p={iX:c,x:u},C={pivotInfos:p},r=0;r<L;r++)C["x"+r]=u[r];if(b=F.getIndexesOfSourceData(c),P)for(a=0;a<V;a++)J[a]=re(a);for(D=null,ae(),w=0;w<G;w++){for(j=R.getItem(w),y=R.getIndexesOfSourceData(w),a=0;a<V;a++){for(null!==D&&oe(w-1,j,D,a),x=[],r=0;r<y.length;r++)S=y[r],$.inArray(S,b)>=0&&x.push(S);if(x.length>0){for(g=new Array(x.length),q=B[a],h=new Aggregation(q.aggregator,O,t),s=0;s<x.length;s++)r=x[s],i=e[r],g[s]=i,h.calc(i[q.member],q.member,i,r,e),P&&(f=J[a],f.calc(i[q.member],q.member,i,r,e),m=f.groupInfo,$.inArray(r,m.iYs)<0&&(m.iYs.push(w),m.ys.push(j)),$.inArray(r,m.iRows)<0&&(m.iRows.push(r),m.rows.push(i))),le(j,D,q,a,i,r,w);d="y"+w+(1===V?"":"a"+a),h.getResult(C,d),p[d]={colType:0,iY:w,y:j,iA:a,a:q,iRows:x,rows:g}}}D=j}if(null!==D)for(a=0;a<V;a++)oe(G-1,D,D,a);if(P)for(a=0;a<V;a++)d="t"+(1===V?"":"a"+a),f=J[a],f.getResult(C,d),m=f.groupInfo,p[d]={colType:2,iA:a,a:B[a],iRows:m.iRows,rows:m.rows,iYs:m.iYs,ys:m.ys};Q.push(C)}if(A.footerTotals||A.colTotals){for(T=Q.length,r=0;r<L;r++)k["x"+r]=M[r].footerText||"";for(r=L;r<X.length;r++){for(d=X[r].name,h=new Aggregation(A.footerAggregator||"sum",O,t),s=0;s<T;s++)C=Q[s],h.calc(C[d],d,C,s,Q);h.getResult(k,d)}}return t.colHeaders=U,{colModel:X,options:t,rows:Q,groupOptions:E,groupHeaders:U,summary:k}},jqPivot:function(e,t,i,r){return this.each(function(){function a(){var r,a=n.pivotSetup.call(l,e,t),s=a.groupHeaders,d=function(e){var t,i=0;for(t in e)e.hasOwnProperty(t)&&i++;return i},c=d(a.summary)>0,u=a.groupOptions.groupingView,p=jgrid.from.call(o,a.rows);if(t.skipSortByX)for(r=0;r<u.groupField.length;r++)p.orderBy(u.groupField[r],null!=i&&i.groupingView&&null!=i.groupingView.groupOrder&&"desc"===i.groupingView.groupOrder[r]?"d":"a","text","");if(t.data=e,n.call(l,$.extend(!0,{datastr:$.extend(p.select(),c?{userdata:a.summary}:{}),datatype:"jsonstring",footerrow:c,userDataOnFooter:c,colModel:a.colModel,pivotOptions:a.options,additionalProperties:["pivotInfos"],viewrecords:!0,sortname:t.xDimension[0].dataName},a.groupOptions,i||{})),s.length)for(r=0;r<s.length;r++)s[r]&&s[r].groupHeaders.length&&n.setGroupHeaders.call(l,s[r]);t.frozenStaticCols&&n.setFrozenColumns.call(l)}var o=this,l=$(o),n=$.fn.jqGrid;"string"==typeof e?$.ajax($.extend({url:e,dataType:"json",success:function(t){e=jgrid.getAccessor(t,r&&r.reader?r.reader:"rows"),a()}},r||{})):a()})}});var subGridFeedback=function(){var e=$.makeArray(arguments);return e[0]="subGrid"+e[0].charAt(0).toUpperCase()+e[0].substring(1),e.unshift(""),e.unshift(""),e.unshift(this.p),jgrid.feedback.apply(this,e)},collapseOrExpand=function(e,t){return this.each(function(){if(this.grid&&null!=e&&this.p.subGrid===!0){var i=$(this).jqGrid("getInd",e,!0);$(i).find(">td."+t).trigger("click")}})};jgrid.extend({setSubGrid:function(){return this.each(function(){var e,t=this.p,i=t.subGridModel[0];if(t.subGridOptions=$.extend({expandOnLoad:!1,delayOnLoad:50,selectOnExpand:!1,selectOnCollapse:!1,reloadOnExpand:!0},t.subGridOptions||{}),t.colNames.unshift(""),t.colModel.unshift({name:"subgrid",width:jgrid.cell_width?t.subGridWidth+t.cellLayout:t.subGridWidth,labelClasses:"jqgh_subgrid",sortable:!1,resizable:!1,hidedlg:!0,search:!1,fixed:!0,frozen:!0}),i)for(i.align=$.extend([],i.align||[]),e=0;e<i.name.length;e++)i.align[e]=i.align[e]||"left"})},addSubGridCell:function(e,t,i,r){var a=this[0],o=a.p.subGridOptions,l=!$.isFunction(o.hasSubgrid)||o.hasSubgrid.call(a,{rowid:i,iRow:t,iCol:e,data:r});return null==a||null==a.p||null==o?"":"<td role='gridcell' class='"+base.getGuiStyles.call(this,"subgrid.tdStart",l?"ui-sgcollapsed sgcollapsed":"")+"' "+a.formatCol(e,t)+">"+(l?"<div class='"+base.getGuiStyles.call(this,"subgrid.buttonDiv","sgbutton-div")+"'><a role='button' class='"+base.getGuiStyles.call(this,"subgrid.button","sgbutton")+"'><span class='"+jgrid.mergeCssClasses(o.commonIconClass,o.plusicon)+"'></span></a></div>":"&nbsp;")+"</td>"},addSubGrid:function(e,t){return this.each(function(){var i,r,a,o=this,l=o.p,n=l.subGridModel[0],s=function(e,t){return base.getGuiStyles.call(o,"subgrid."+e,t||"")},d=s("thSubgrid","ui-th-subgrid ui-th-column ui-th-"+l.direction),c=s("rowSubTable","ui-subtblcell"),u=s("row","ui-subgrid ui-row-"+l.direction),p=s("tdWithIcon","subgrid-cell"),g=s("tdData","subgrid-data"),h=function(e,t,i){var r=n.align[i],a=$("<td"+(r?" style='text-align:"+r+";'":"")+"></td>").html(t);e.append(a)},f=function(e,t){var i=l.xmlReader.subgrid;$(i.root+" "+i.row,e).each(function(){var e,r,a=$("<tr class='"+c+"'></tr>");if(i.repeatitems===!0)$(i.cell,this).each(function(e){h(a,$(this).text()||"&#160;",e)});else if(e=n.mapping||n.name)for(r=0;r<e.length;r++)h(a,$(e[r],this).text()||"&#160;",r);t.append(a)})},m=function(e,t){var i,r,a,o,s,d=l.jsonReader.subgrid,u=jgrid.getAccessor(e,d.root);if(null!=u)for(r=0;r<u.length;r++){if(s=u[r],i=$("<tr class='"+c+"'></tr>"),d.repeatitems===!0)for(d.cell&&(s=s[d.cell]),a=0;a<s.length;a++)h(i,s[a]||"&#160;",a);else if(o=n.mapping||n.name,o.length)for(a=0;a<o.length;a++)h(i,s[o[a]]||"&#160;",a);t.append(i)}},v=function(e,t,i){var r,a,c=s("legacyTable","ui-jqgrid-legacy-subgrid"+(l.altRows===!0&&$(o).jqGrid("isBootstrapGuiStyle")?" table-striped":"")),u=$("<table"+(c?" style='width:1px' role='presentation' class='"+c+"'":"")+"><thead></thead><tbody></tbody></table>"),p=$("<tr></tr>");for(a=0;a<n.name.length;a++)r=$("<th class='"+d+"'></th>").html(n.name[a]).width(n.width[a]),p.append(r);return p.appendTo(u[0].tHead),i(e,$(u[0].tBodies[0])),$("#"+jqID(l.id+"_"+t)).append(u),o.grid.hDiv.loading=!1,$("#load_"+jqID(l.id)).hide(),!1},b=function(e){var t,i,r=$(e).attr("id"),a={nd_:(new Date).getTime()};if(a[l.prmNames.subgridid]=r,!n)return!1;if(n.params)for(i=0;i<n.params.length;i++)t=l.iColByName[n.params[i]],void 0!==t&&(a[l.colModel[t].name]=$(e.cells[t]).text().replace(/\&#160\;/gi,""));if(!o.grid.hDiv.loading)switch(o.grid.hDiv.loading=!0,$("#load_"+jqID(l.id)).show(),l.subgridtype||(l.subgridtype=l.datatype),$.isFunction(l.subgridtype)?l.subgridtype.call(o,a):l.subgridtype=l.subgridtype.toLowerCase(),l.subgridtype){case"xml":case"json":$.ajax($.extend({type:l.mtype,url:$.isFunction(l.subGridUrl)?l.subGridUrl.call(o,a):l.subGridUrl,dataType:l.subgridtype,context:r,data:jgrid.serializeFeedback.call(o,l.serializeSubGridData,"jqGridSerializeSubGridData",a),success:function(e){$(o.grid.eDiv).hide(),v(e,this,"xml"===l.subgridtype?f:m)},error:function(e,t,i){var r=void 0===l.loadSubgridError?l.loadError:l.loadSubgridError;$.isFunction(r)&&r.call(o,e,t,i),l.subGridOptions.noEmptySubgridOnError?(o.grid.hDiv.loading=!1,$("#load_"+jqID(l.id)).hide()):v(null,this,"xml"===l.subgridtype?f:m)}},jgrid.ajaxOptions,l.ajaxSubgridOptions||{}))}return!1},w=function(){var t,i=$(this).parent("tr")[0],r=i.nextSibling,a=i.id,n=l.id+"_"+a,s=function(e){return jgrid.mergeCssClasses(l.subGridOptions.commonIconClass,l.subGridOptions[e])},d=1;if($.each(l.colModel,function(){this.hidden!==!0&&"rn"!==this.name&&"cb"!==this.name||d++}),$(this).hasClass("sgcollapsed")){if(l.subGridOptions.reloadOnExpand===!0||l.subGridOptions.reloadOnExpand===!1&&!$(r).hasClass("ui-subgrid")){if(t=e>=1?"<td colspan='"+e+"'>&#160;</td>":"",!subGridFeedback.call(o,"beforeExpand",n,a))return;$(i).after("<tr role='row' class='"+u+"'>"+t+"<td class='"+p+"'><span class='"+s("openicon")+"'></span></td><td colspan='"+parseInt(l.colNames.length-d,10)+"' class='"+g+"'><div id='"+n+"' class='tablediv'></div></td></tr>"),$(o).triggerHandler("jqGridSubGridRowExpanded",[n,a]),$.isFunction(l.subGridRowExpanded)?l.subGridRowExpanded.call(o,n,a):b(i)}else $(r).show();$(this).html("<div class='"+base.getGuiStyles.call(o,"subgrid.buttonDiv","sgbutton-div")+"'><a role='button' class='"+base.getGuiStyles.call(o,"subgrid.button","sgbutton")+"'><span class='"+s("minusicon")+"'></span></a></div>").removeClass("sgcollapsed").addClass("sgexpanded"),l.subGridOptions.selectOnExpand&&$(o).jqGrid("setSelection",a)}else if($(this).hasClass("sgexpanded")){if(!subGridFeedback.call(o,"beforeCollapse",n,a))return;l.subGridOptions.reloadOnExpand===!0?$(r).remove(".ui-subgrid"):$(r).hasClass("ui-subgrid")&&$(r).hide(),$(this).html("<div class='"+base.getGuiStyles.call(o,"subgrid.buttonDiv","sgbutton-div")+"'><a role='button' class='"+base.getGuiStyles.call(o,"subgrid.button","sgbutton")+"'><span class='"+s("plusicon")+"'></span></a></div>").removeClass("sgexpanded").addClass("sgcollapsed"),l.subGridOptions.selectOnCollapse&&$(o).jqGrid("setSelection",a)}return!1},j=1;if(o.grid){for(i=o.rows.length,void 0!==t&&t>0&&(j=t,i=t+1);j<i;)r=o.rows[j],$(r).hasClass("jqgrow")&&(a=$(r.cells[e]),a.hasClass("ui-sgcollapsed")&&(l.scroll&&a.unbind("click"),a.bind("click",w))),j++;l.subGridOptions.expandOnLoad===!0&&$(o.rows).filter(".jqgrow").each(function(e,t){$(t.cells[0]).click()}),o.subGridXml=function(e,t){return v(e,t,f)},o.subGridJson=function(e,t){return v(e,t,m)}}})},expandSubGridRow:function(e){return collapseOrExpand.call(this,e,"sgcollapsed")},collapseSubGridRow:function(e){return collapseOrExpand.call(this,e,"sgexpanded")},toggleSubGridRow:function(e){return collapseOrExpand.call(this,e,"ui-sgcollapsed")}}),window.tableToGrid=function(e,t){$(e).each(function(){var e,i,r,a,o,l,n,s,d=this,c=$(this),u=[],p=[],g=[],h=[],f=[];if(!d.grid){for(c.width("99%"),e=c.width(),i=$("tr td:first-child input[type=checkbox]:first",c),r=$("tr td:first-child input[type=radio]:first",c),a=i.length>0,o=!a&&r.length>0,l=a||o,$("th",c).each(function(){0===u.length&&l?(u.push({name:"__selection__",index:"__selection__",width:0,hidden:!0}),p.push("__selection__")):(u.push({name:$(this).attr("id")||$.trim($.jgrid.stripHtml($(this).html())).split(" ").join("_"),index:$(this).attr("id")||$.trim($.jgrid.stripHtml($(this).html())).split(" ").join("_"),width:$(this).width()||150}),p.push($(this).html()))}),$("tbody > tr",c).each(function(){var e={},t=0;$("td",$(this)).each(function(){if(0===t&&l){var i=$("input",$(this)),r=i.attr("value");h.push(r||g.length),i.is(":checked")&&f.push(r),e[u[t].name]=i.attr("value")}else e[u[t].name]=$(this).html();t++}),t>0&&g.push(e)}),c.empty(),c.jqGrid($.extend({datatype:"local",width:e,colNames:p,colModel:u,multiselect:a},t||{})),n=0;n<g.length;n++)s=null,h.length>0&&(s=h[n],s&&s.replace&&(s=encodeURIComponent(s).replace(/[.\-%]/g,"_"))),null===s&&(s=$.jgrid.randId()),c.jqGrid("addRowData",s,g[n]);for(n=0;n<f.length;n++)c.jqGrid("setSelection",f[n])}})};var treeGridFeedback=function(){var e=$.makeArray(arguments);return e[0]="treeGrid"+e[0].charAt(0).toUpperCase()+e[0].substring(1),e.unshift(""),e.unshift(""),e.unshift(this.p),jgrid.feedback.apply(this,e)};jgrid.extend({setTreeNode:function(){return this.each(function(){var e=this,t=$(e),i=e.p;if(e.grid&&i.treeGrid){var r=i.treeReader.expanded_field,a=i.treeReader.leaf_field,o=function(e,o,l){if(null!=l){var n=$(l.target),s=n.closest("tr.jqgrow>td"),d=s.parent(),c=function(){var e=i.data[i._index[stripPref(i.idPrefix,o)]],l=e[r]?"collapse":"expand";e[a]||(base[l+"Row"].call(t,e,d),base[l+"Node"].call(t,e,d))};return n.is("div.treeclick")?c():i.ExpandColClick&&s.length>0&&n.closest("span.cell-wrapper",s).length>0&&c(),!0}};t.unbind("jqGridBeforeSelectRow.setTreeNode"),t.bind("jqGridBeforeSelectRow.setTreeNode",o)}})},setTreeGrid:function(){return this.each(function(){var e,t,i,r=this,a=r.p,o=[],l=["leaf_field","expanded_field","loaded"];if(a.treeGrid){a.treedatatype||$.extend(r.p,{treedatatype:a.datatype}),a.subGrid=!1,a.altRows=!1,a.pgbuttons=!1,a.pginput=!1,a.gridview=!0,null===a.rowTotal&&(a.rowNum=a.maxRowNum),a.rowList=[],a.treeIcons.plus="rtl"===a.direction?a.treeIcons.plusRtl:a.treeIcons.plusLtr,"nested"===a.treeGridModel?a.treeReader=$.extend({level_field:"level",left_field:"lft",right_field:"rgt",leaf_field:"isLeaf",expanded_field:"expanded",loaded:"loaded",icon_field:"icon"},a.treeReader):"adjacency"===a.treeGridModel&&(a.treeReader=$.extend({level_field:"level",parent_id_field:"parent",leaf_field:"isLeaf",expanded_field:"expanded",loaded:"loaded",icon_field:"icon"},a.treeReader));for(t in a.colModel)if(a.colModel.hasOwnProperty(t)){e=a.colModel[t].name;for(i in a.treeReader)a.treeReader.hasOwnProperty(i)&&a.treeReader[i]===e&&o.push(e)}$.each(a.treeReader,function(e){var t=String(this);t&&$.inArray(t,o)===-1&&($.inArray(e,l)>=0?a.additionalProperties.push({name:t,search:!1,convert:function(e){return e===!0||"true"===String(e).toLowerCase()||"1"===String(e)||e}}):a.additionalProperties.push(t))})}})},expandRow:function(e){this.each(function(){var t=this,i=$(t),r=t.p;if(t.grid&&r.treeGrid){var a=r.treeReader.expanded_field,o=e[r.localReader.id];if(treeGridFeedback.call(t,"beforeExpandRow",{rowid:o,item:e})){var l=base.getNodeChildren.call(i,e);$(l).each(function(){var e=r.idPrefix+getAccessor(this,r.localReader.id);$(base.getGridRowById.call(i,e)).css("display",""),this[a]&&base.expandRow.call(i,this)}),treeGridFeedback.call(t,"afterExpandRow",{rowid:o,item:e})}}})},collapseRow:function(e){this.each(function(){var t=this,i=$(t),r=t.p;if(t.grid&&r.treeGrid){var a=r.treeReader.expanded_field,o=e[r.localReader.id];if(treeGridFeedback.call(t,"beforeCollapseRow",{rowid:o,item:e})){var l=base.getNodeChildren.call(i,e);$(l).each(function(){var e=r.idPrefix+getAccessor(this,r.localReader.id);$(base.getGridRowById.call(i,e)).css("display","none"),this[a]&&base.collapseRow.call(i,this)}),treeGridFeedback.call(t,"afterCollapseRow",{rowid:o,item:e})}}})},getRootNodes:function(){var e=[];return this.each(function(){var t=this,i=t.p;if(t.grid&&i.treeGrid)switch(i.treeGridModel){case"nested":var r=i.treeReader.level_field;$(i.data).each(function(){parseInt(this[r],10)===parseInt(i.tree_root_level,10)&&e.push(this)});break;case"adjacency":var a=i.treeReader.parent_id_field;$(i.data).each(function(){null!==this[a]&&"null"!==String(this[a]).toLowerCase()||e.push(this)})}}),e},getNodeDepth:function(e){var t=null;return this.each(function(){var i=this,r=i.p;if(i.grid&&r.treeGrid)switch(r.treeGridModel){case"nested":var a=r.treeReader.level_field;t=parseInt(e[a],10)-parseInt(r.tree_root_level,10);break;case"adjacency":t=base.getNodeAncestors.call($(i),e).length}}),t},getNodeParent:function(e){var t=this[0];if(!t||!t.grid||null==t.p||!t.p.treeGrid||null==e)return null;var i=t.p,r=i.treeReader,a=r.parent_id_field,o=e[a];if("nested"===i.treeGridModel){var l=null,n=r.left_field,s=r.right_field,d=r.level_field,c=parseInt(e[n],10),u=parseInt(e[s],10),p=parseInt(e[d],10);return $(i.data).each(function(){if(parseInt(this[d],10)===p-1&&parseInt(this[n],10)<c&&parseInt(this[s],10)>u)return l=this,!1}),l}if(null===o||"null"===o)return null;var g=i._index[o];return void 0!==g?i.data[g]:null},getNodeChildren:function(e){var t=[];return this.each(function(){var i=this,r=i.p;if(i.grid&&r.treeGrid)switch(r.treeGridModel){case"nested":var a=r.treeReader.left_field,o=r.treeReader.right_field,l=r.treeReader.level_field,n=parseInt(e[a],10),s=parseInt(e[o],10),d=parseInt(e[l],10);$(r.data).each(function(){parseInt(this[l],10)===d+1&&parseInt(this[a],10)>n&&parseInt(this[o],10)<s&&t.push(this)});break;case"adjacency":var c=r.treeReader.parent_id_field,u=r.localReader.id;$(r.data).each(function(){String(this[c])===String(e[u])&&t.push(this)})}}),t},getFullTreeNode:function(e){var t=[];return this.each(function(){var i,r=this,a=r.p;if(r.grid&&a.treeGrid)switch(a.treeGridModel){case"nested":var o=a.treeReader.left_field,l=a.treeReader.right_field,n=a.treeReader.level_field,s=parseInt(e[o],10),d=parseInt(e[l],10),c=parseInt(e[n],10);$(a.data).each(function(){parseInt(this[n],10)>=c&&parseInt(this[o],10)>=s&&parseInt(this[o],10)<=d&&t.push(this)});break;case"adjacency":if(e){t.push(e);var u=a.treeReader.parent_id_field,p=a.localReader.id;$(a.data).each(function(){var e;for(i=t.length,e=0;e<i;e++)if(String(t[e][p])===String(this[u])){t.push(this);break}})}}}),t},getNodeAncestors:function(e){var t=[];return this.each(function(){var i=this,r=$(i),a=base.getNodeParent;if(i.grid&&i.p.treeGrid)for(var o=a.call(r,e);o;)t.push(o),o=a.call(r,o)}),t},isVisibleNode:function(e){var t=!0;return this.each(function(){var i=this,r=i.p;if(i.grid&&r.treeGrid){var a=base.getNodeAncestors.call($(i),e),o=r.treeReader.expanded_field;$(a).each(function(){if(t=t&&this[o],!t)return!1})}}),t},isNodeLoaded:function(e){var t;return this.each(function(){var i=this,r=i.p;if(i.grid&&r.treeGrid){var a=r.treeReader.leaf_field,o=r.treeReader.loaded;t=void 0!==e&&(void 0!==e[o]?e[o]:!!(e[a]||base.getNodeChildren.call($(i),e).length>0))}}),t},expandNode:function(e){return this.each(function(){var t=this,i=t.p;if(t.grid&&i.treeGrid){var r=i.treeReader.expanded_field,a=i.treeReader.parent_id_field,o=i.treeReader.loaded,l=i.treeReader.level_field,n=i.treeReader.left_field,s=i.treeReader.right_field;if(!e[r]){var d=getAccessor(e,i.localReader.id);if(!treeGridFeedback.call(t,"beforeExpandNode",{rowid:d,item:e}))return;var c=$("#"+i.idPrefix+jqID(d),t.grid.bDiv)[0],u=i._index[d];"local"===i.treedatatype||base.isNodeLoaded.call($(t),i.data[u])?(e[r]=!0,$("div.treeclick",c).removeClass(i.treeIcons.plus+" tree-plus").addClass(i.treeIcons.commonIconClass).addClass(i.treeIcons.minus+" tree-minus")):t.grid.hDiv.loading||(e[r]=!0,$("div.treeclick",c).removeClass(i.treeIcons.plus+" tree-plus").addClass(i.treeIcons.commonIconClass).addClass(i.treeIcons.minus+" tree-minus"),i.treeANode=c.rowIndex,i.datatype=i.treedatatype,base.setGridParam.call($(t),{postData:"nested"===i.treeGridModel?{nodeid:d,n_level:e[l],n_left:e[n],n_right:e[s]}:{nodeid:d,n_level:e[l],parentid:e[a]}}),$(t).trigger("reloadGrid"),e[o]=!0,base.setGridParam.call($(t),{postData:"nested"===i.treeGridModel?{nodeid:"",n_level:"",n_left:"",n_right:""}:{nodeid:"",n_level:"",parentid:""}})),treeGridFeedback.call(t,"afterExpandNode",{rowid:d,item:e})}}})},collapseNode:function(e){return this.each(function(){var t=this,i=t.p;if(t.grid&&i.treeGrid){var r=i.treeReader.expanded_field;if(e[r]){var a=getAccessor(e,i.localReader.id);if(!treeGridFeedback.call(t,"beforeCollapseNode",{rowid:a,item:e}))return;e[r]=!1;var o=$("#"+i.idPrefix+jqID(a),t.grid.bDiv)[0];$("div.treeclick",o).removeClass(i.treeIcons.minus+" tree-minus").addClass(i.treeIcons.commonIconClass).addClass(i.treeIcons.plus+" tree-plus"),treeGridFeedback.call(t,"afterCollapseNode",{rowid:a,item:e})}}})},SortTree:function(e,t,i,r){return this.each(function(){var a=this,o=a.p,l=$(a);if(a.grid&&o.treeGrid){var n,s,d,c=[],u=base.getRootNodes.call(l),p=jgrid.from.call(a,u);p.orderBy(e,t,i,r);var g=p.select();for(n=0,s=g.length;n<s;n++)d=g[n],c.push(d),base.collectChildrenSortTree.call(l,c,d,e,t,i,r);$.each(c,function(e){var t=getAccessor(this,o.localReader.id);$(a.rows[e]).after(l.find(">tbody>tr#"+jqID(t)))})}})},collectChildrenSortTree:function(e,t,i,r,a,o){return this.each(function(){var l=this,n=$(l);if(l.grid&&l.p.treeGrid){var s,d,c,u=base.getNodeChildren.call(n,t),p=jgrid.from.call(l,u);p.orderBy(i,r,a,o);var g=p.select();for(s=0,d=g.length;s<d;s++)c=g[s],e.push(c),base.collectChildrenSortTree.call(n,e,c,i,r,a,o)}})},setTreeRow:function(e,t){var i=!1;return this.each(function(){var r=this;r.grid&&r.p.treeGrid&&(i=base.setRowData.call($(r),e,t))}),i},delTreeNode:function(e){return this.each(function(){var t,i,r,a,o,l=this,n=l.p,s=n.localReader.id,d=$(l),c=n.treeReader.left_field,u=n.treeReader.right_field;if(l.grid&&n.treeGrid){var p=n._index[e];if(void 0!==p){t=parseInt(n.data[p][u],10),i=t-parseInt(n.data[p][c],10)+1;var g=base.getFullTreeNode.call(d,n.data[p]);if(g.length>0)for(o=0;o<g.length;o++)base.delRowData.call(d,g[o][s]);if("nested"===n.treeGridModel){if(r=jgrid.from.call(l,n.data).greater(c,t,{stype:"integer"}).select(),r.length)for(a in r)r.hasOwnProperty(a)&&(r[a][c]=parseInt(r[a][c],10)-i);if(r=jgrid.from.call(l,n.data).greater(u,t,{stype:"integer"}).select(),r.length)for(a in r)r.hasOwnProperty(a)&&(r[a][u]=parseInt(r[a][u],10)-i)}}}})},addChildNode:function(e,t,i,r){var a=$(this),o=a[0],l=o.p,n=base.getInd;if(i){var s,d,c,u,p,g,h,f,m=0,v=t,b=l.treeReader.expanded_field,w=l.treeReader.leaf_field,j=l.treeReader.level_field,y=l.treeReader.parent_id_field,x=l.treeReader.left_field,q=l.treeReader.right_field,C=l.treeReader.loaded;if(void 0===r&&(r=!1),null==e){if(p=l.data.length-1,p>=0)for(;p>=0;)m=Math.max(m,parseInt(l.data[p][l.localReader.id],10)),p--;e=m+1}var D=n.call(a,t);if(h=!1,void 0===t||null===t||""===t)t=null,v=null,s="last",u=l.tree_root_level,p=l.data.length+1;else{s="after",d=l._index[t],c=l.data[d],t=c[l.localReader.id],p=n.call(a,t),u=parseInt(c[j],10)+1;var _=base.getFullTreeNode.call(a,c);if(_.length){var S,F,R;for(S=0;S<_.length;S++)R=_[S][l.localReader.id],F=n.call(a,R),F>p&&(p=F,v=R)}p++,c[w]&&(h=!0,c[b]=!0,$(o.rows[D]).find("span.cell-wrapperleaf").removeClass("cell-wrapperleaf").addClass("cell-wrapper").end().find("div.tree-leaf").removeClass(l.treeIcons.leaf+" tree-leaf").addClass(l.treeIcons.commonIconClass).addClass(l.treeIcons.minus+" tree-minus"),l.data[d][w]=!1,c[C]=!0)}if(g=p+1,void 0===i[b]&&(i[b]=!1),void 0===i[C]&&(i[C]=!1),i[j]=u,void 0===i[w]&&(i[w]=!0),"adjacency"===l.treeGridModel&&(i[y]=t),"nested"===l.treeGridModel){var G,O,I;if(null!==t){if(f=parseInt(c[q],10),G=jgrid.from.call(o,l.data),G=G.greaterOrEquals(q,f,{stype:"integer"}),O=G.select(),O.length)for(I in O)O.hasOwnProperty(I)&&(O[I][x]=O[I][x]>f?parseInt(O[I][x],10)+2:O[I][x],O[I][q]=O[I][q]>=f?parseInt(O[I][q],10)+2:O[I][q]);i[x]=f,i[q]=f+1}else{if(f=parseInt(base.getCol.call(a,q,!1,"max"),10),O=jgrid.from.call(o,l.data).greater(x,f,{stype:"integer"}).select(),O.length)for(I in O)O.hasOwnProperty(I)&&(O[I][x]=parseInt(O[I][x],10)+2);if(O=jgrid.from.call(o,l.data).greater(q,f,{stype:"integer"}).select(),O.length)for(I in O)O.hasOwnProperty(I)&&(O[I][q]=parseInt(O[I][q],10)+2);i[x]=f+1,i[q]=f+2}}(null===t||base.isNodeLoaded.call(a,c)||h)&&(base.addRowData.call(a,e,i,s,v),base.setTreeNode.call(a,p,g)),c&&!c[b]&&r&&$(o.rows[D]).find("div.treeclick").click()}}});var namespace=".jqGrid",mouseDown="mousedown",mouseMove="mousemove",mouseUp="mouseup",getMouseCoordinates=function(e){var t=e.originalEvent,i=t.targetTouches;return i?(i=i[0],{x:i.pageX,y:i.pageY}):{x:e.pageX,y:e.pageY}},jqDnR={drag:function(e){var t=e.data,i=t.e,r=t.dnr,a=t.ar,o=t.dnrAr,l=getMouseCoordinates(e);return"move"===r.k?i.css({left:r.X+l.x-r.pX,top:r.Y+l.y-r.pY}):(i.css({width:Math.max(l.x-r.pX+r.W,0),height:Math.max(l.y-r.pY+r.H,0)}),o&&a.css({width:Math.max(l.x-o.pX+o.W,0),height:Math.max(l.y-o.pY+o.H,0)})),!1},stop:function(){$(document).unbind(mouseMove,jqDnR.drag).unbind(mouseUp,jqDnR.stop)}},init=function(e,t,i,r){return e.each(function(){t=t?$(t,e):e,t.bind(mouseDown,{e:e,k:i},function(e){var t,i,a,o,l,n,s=e.data,d={},c=function(e,t){return parseInt(e.css(t),10)||!1},u=function(e){return c(i,e)},p=function(e){return c(o,e)},g=getMouseCoordinates(e);if(!$(e.target).hasClass("ui-jqdialog-titlebar-close")&&!$(e.target).parent().hasClass("ui-jqdialog-titlebar-close")){if(i=s.e,o=!!r&&$(r),"relative"!==i.css("position"))try{i.position(d)}catch(h){}if(a={X:d.left||u("left")||0,Y:d.top||u("top")||0,W:u("width")||i[0].scrollWidth||0,H:u("height")||i[0].scrollHeight||0,pX:g.x,pY:g.y,k:s.k},l=!(!o||"move"===s.k)&&{X:d.left||p("left")||0,Y:d.top||p("top")||0,W:o[0].offsetWidth||p("width")||0,H:o[0].offsetHeight||p("height")||0,pX:g.x,pY:g.y,k:s.k},t=i.find("input.hasDatepicker"),t.length>0)try{t.datepicker("hide")}catch(h){}return n={e:i,dnr:a,ar:o,dnrAr:l},$(document).bind(mouseMove,n,jqDnR.drag),$(document).bind(mouseUp,n,jqDnR.stop),!1}})})};window.PointerEvent?(mouseDown+=namespace+" pointerdown"+namespace,mouseMove+=namespace+" pointermove"+namespace,mouseUp+=namespace+" pointerup"+namespace):window.MSPointerEvent?(mouseDown+=namespace+" mspointerdown"+namespace,mouseMove+=namespace+" mspointermove"+namespace,mouseUp+=namespace+" mspointerup"):(mouseDown+=namespace+" touchstart"+namespace,mouseMove+=namespace+" touchmove"+namespace,mouseUp+=namespace+" touchend"+namespace),$.jqDnR=jqDnR,$.fn.jqDrag=function(e){return init(this,e,"move")},$.fn.jqResize=function(e,t){return init(this,e,"resize",t)};var jqmHashLength=0,jqmHash,createdModals=[],setFocusOnFirstVisibleInput=function(e){try{$(":input:visible",e.w).first().focus()}catch(t){}},setFocus=function(e){setFocusOnFirstVisibleInput(e)},keyOrMouseEventHandler=function(e){var t=jqmHash[createdModals[createdModals.length-1]],i=!$(e.target).parents(".jqmID"+t.s)[0],r=$(e.target).offset(),a=void 0!==e.pageX?e.pageX:r.left,o=void 0!==e.pageY?e.pageY:r.top,l=function(){var e=!1;return $(".jqmID"+t.s).each(function(){var t=$(this),i=t.offset();if(i.top<=o&&o<=i.top+t.height()&&i.left<=a&&a<=i.left+t.width())return e=!0,!1}),e};return!("mousedown"===e.type||!l())||("mousedown"===e.type&&i&&(l()&&(i=!1),i&&!$(e.target).is(":input")&&setFocusOnFirstVisibleInput(t)),!i)},bindOrUnbindEvents=function(e){$(document)[e]("keypress keydown mousedown",keyOrMouseEventHandler)},registerHideOrShow=function(e,t,i){return e.each(function(){var e=this._jqm;$(t).each(function(){this[i]||(this[i]=[],$(this).click(function(){var e,t,i,r=["jqmShow","jqmHide"];for(e=0;e<r.length;e++){t=r[e];for(i in this[t])this[t].hasOwnProperty(i)&&jqmHash[this[t][i]]&&jqmHash[this[t][i]].w[t](this)}return!1})),this[i].push(e)})})};$.fn.jqm=function(e){var t={overlay:50,closeoverlay:!1,overlayClass:"jqmOverlay",closeClass:"jqmClose",trigger:".jqModal",ajax:!1,ajaxText:"",target:!1,modal:!1,toTop:!1,onShow:!1,onHide:!1,onLoad:!1};return this.each(function(){return this._jqm?(jqmHash[this._jqm].c=$.extend({},jqmHash[this._jqm].c,e),jqmHash[this._jqm].c):(jqmHashLength++,this._jqm=jqmHashLength,jqmHash[jqmHashLength]={c:$.extend(t,$.jqm.params,e),a:!1,w:$(this).addClass("jqmID"+jqmHashLength),s:jqmHashLength},void(t.trigger&&$(this).jqmAddTrigger(t.trigger)))})},$.fn.jqmAddClose=function(e){return registerHideOrShow(this,e,"jqmHide")},$.fn.jqmAddTrigger=function(e){return registerHideOrShow(this,e,"jqmShow")},$.fn.jqmShow=function(e){return this.each(function(){$.jqm.open(this._jqm,e)})},$.fn.jqmHide=function(e){return this.each(function(){$.jqm.close(this._jqm,e)})},$.jqm={hash:{},open:function(e,t){var i,r,a,o,l,n=jqmHash[e],s=n.c,d=n.w.parent().offset(),c="."+s.closeClass,u=parseInt(n.w.css("z-index"),10);return u=u>0?u:3e3,i=$("<div></div>").css({height:"100%",width:"100%",position:"fixed",left:0,top:0,"z-index":u-1,opacity:s.overlay/100}),!n.a&&(n.t=t,n.a=!0,n.w.css("z-index",u),$(n.w[0].ownerDocument).data("ui-dialog-overlays")&&n.w.addClass("ui-dialog"),s.modal?(createdModals[0]||setTimeout(function(){bindOrUnbindEvents("bind")},1),createdModals.push(e)):s.overlay>0?s.closeoverlay&&n.w.jqmAddClose(i):i=!1,n.o=!!i&&i.addClass(s.overlayClass).prependTo("body"),s.ajax?(r=s.target||n.w,a=s.ajax,r="string"==typeof r?$(r,n.w):$(r),a="@"===a.substr(0,1)?$(t).attr(a.substring(1)):a,r.html(s.ajaxText).load(a,function(){s.onLoad&&s.onLoad.call(this,n),c&&n.w.jqmAddClose($(c,n.w)),setFocus(n)})):c&&n.w.jqmAddClose($(c,n.w)),s.toTop&&n.o&&(d=n.w.parent().offset(),o=parseFloat(n.w.css("left")||0),l=parseFloat(n.w.css("top")||0),n.w.before('<span id="jqmP'+n.w[0]._jqm+'"></span>').insertAfter(n.o),n.w.css({top:d.top+l,left:d.left+o})),s.onShow?s.onShow(n):n.w.show(),setFocus(n),!1)},close:function(e){var t=jqmHash[e];return!!t.a&&(t.a=!1,createdModals[0]&&(createdModals.pop(),createdModals[0]||bindOrUnbindEvents("unbind")),t.c.toTop&&t.o&&$("#jqmP"+t.w[0]._jqm).after(t.w).remove(),t.c.onHide?t.c.onHide(t):(t.w.hide(),t.o&&t.o.remove()),!1)},params:{}},jqmHash=$.jqm.hash,$.fmatter=$.fmatter||{};var fmatter=$.fmatter,getOptionByName=function(e,t){var i=e.formatoptions||{};return i.hasOwnProperty(t)?i[t]:(e.editoptions||{})[t]},encodeAttr=function(e){return String(e).replace(/\'/g,"&#39;")},parseCheckboxOptions=function(e){var t,i,r=e.colModel||e.cm,a=r.title!==!1?" title='"+encodeAttr(e.colName||r.name)+"'":"",o=function(e){return getOptionByName(r,e)},l=o("checkedClass"),n=o("uncheckedClass"),s=o("value"),d="string"==typeof s?s.split(":")[0]||"Yes":"Yes",c="string"==typeof s?s.split(":")[1]||"No":"No",u=function(e){return"<i class='"+encodeAttr(e)+"'"+a+"></i>"},p=o("disabled");return void 0===p&&(p=jgrid.formatter.checkbox.disabled),p===!0&&base.isInCommonIconClass.call(this,"fa")?(l=l||"fa fa-check-square-o fa-lg",t=u(l),i=u(n||"fa fa-square-o fa-lg")):p===!0&&base.isInCommonIconClass.call(this,"glyphicon")?(l=l||"glyphicon glyphicon-check",t=u(l),i=u(n||"glyphicon glyphicon-unchecked")):(l="",a+=p===!0?" disabled='disabled'":"",t="<input type='checkbox' checked='checked'"+a+" />",i="<input type='checkbox'"+a+" />"),{checkedClasses:l,checked:t,unchecked:i,yes:d,no:c}},YesObject={1:1,x:1,"true":1,yes:1,on:1},NoObject={0:1,"false":1,no:1,off:1};$.extend(!0,jgrid,{formatter:{date:{parseRe:/[#%\\\/:_;.,\t\s\-]/,masks:{ISO8601Long:"Y-m-d H:i:s",ISO8601Short:"Y-m-d",SortableDateTime:"Y-m-d\\TH:i:s",UniversalSortableDateTime:"Y-m-d H:i:sO"},reformatAfterEdit:!0,userLocalTime:!1},baseLinkUrl:"",showAction:"",target:"",checkbox:{disabled:!0},idName:"id"},cmTemplate:{integerStr:{formatter:"integer",align:"right",sorttype:"integer",searchoptions:{sopt:["eq","ne","lt","le","gt","ge"]}},integer:{formatter:"integer",align:"right",sorttype:"integer",convertOnSave:function(e){var t=e.newValue;return isNaN(t)?t:parseInt(t,10)},searchoptions:{sopt:["eq","ne","lt","le","gt","ge"]}},numberStr:{formatter:"number",align:"right",sorttype:"number",searchoptions:{sopt:["eq","ne","lt","le","gt","ge"]}},number:{formatter:"number",align:"right",sorttype:"number",convertOnSave:function(e){var t=e.newValue;return isNaN(t)?t:parseFloat(t)},searchoptions:{sopt:["eq","ne","lt","le","gt","ge"]
}},booleanCheckbox:{align:"center",formatter:"checkbox",edittype:"checkbox",editoptions:{value:"true:false",defaultValue:"false"},convertOnSave:function(e){var t=e.newValue,i=parseCheckboxOptions.call(this,e),r=String(t).toLowerCase();return YesObject[r]||r===i.yes.toLowerCase()?t=!0:(NoObject[r]||r===i.no.toLowerCase())&&(t=!1),t},stype:"select",searchoptions:{sopt:["eq","ne"],value:"true:Yes;false:No",noFilterText:"Any"}},actions:function(){var e=this.p;return{formatter:"actions",width:(null!=e&&(base.isInCommonIconClass.call(this,"fa")||base.isInCommonIconClass.call(this,"glyphicon"))?$(this).jqGrid("isBootstrapGuiStyle")?45:39:40)+(jgrid.cellWidth()?5:0),align:"center",label:"",autoResizable:!1,frozen:!0,fixed:!0,hidedlg:!0,resizable:!1,sortable:!1,search:!1,editable:!1,viewable:!1}}}}),jgrid.cmTemplate.booleanCheckboxFa=jgrid.cmTemplate.booleanCheckbox,$.extend(fmatter,{isObject:function(e){return e&&("object"==typeof e||$.isFunction(e))||!1},isNumber:function(e){return"number"==typeof e&&isFinite(e)},isValue:function(e){return this.isObject(e)||"string"==typeof e||this.isNumber(e)||"boolean"==typeof e},isEmpty:function(e){return("string"==typeof e||!this.isValue(e))&&(!this.isValue(e)||(e=$.trim(e).replace(/&nbsp;/gi,"").replace(/&#160;/gi,""),""===e))},NumberFormat:function(e,t){var i=fmatter.isNumber;if(i(e)||(e*=1),i(e)){var r,a=e<0,o=String(e),l=t.decimalSeparator||".";if(i(t.decimalPlaces)){var n=t.decimalPlaces,s=Math.pow(10,n);if(o=String(Math.round(e*s)/s),r=o.lastIndexOf("."),n>0)for(r<0?(o+=l,r=o.length-1):"."!==l&&(o=o.replace(".",l));o.length-1-r<n;)o+="0"}if(t.thousandsSeparator){var d=t.thousandsSeparator;r=o.lastIndexOf(l),r=r>-1?r:o.length;var c,u=void 0===t.decimalSeparator?"":o.substring(r),p=-1;for(c=r;c>0;c--)p++,p%3===0&&c!==r&&(!a||c>1)&&(u=d+u),u=o.charAt(c-1)+u;o=u}return o}return e}});var $FnFmatter=function(e,t,i,r,a){var o=t;i=$.extend({},getGridRes.call($(this),"formatter"),i);try{o=$.fn.fmatter[e].call(this,t,i,r,a)}catch(l){}return o};$.fn.fmatter=$FnFmatter,$FnFmatter.getCellBuilder=function(e,t,i){var r=null!=$.fn.fmatter[e]?$.fn.fmatter[e].getCellBuilder:null;return $.isFunction(r)?r.call(this,$.extend({},getGridRes.call($(this),"formatter"),t),i):null},$FnFmatter.defaultFormat=function(e,t){return fmatter.isValue(e)&&""!==e?e:t.defaultValue||"&#160;"};var defaultFormat=$FnFmatter.defaultFormat,formatCheckboxValue=function(e,t,i){if(void 0===e||fmatter.isEmpty(e)){var r=getOptionByName(i,"defaultValue");void 0===r&&(e=t.no),e=r}return e=String(e).toLowerCase(),YesObject[e]||e===t.yes.toLowerCase()?t.checked:t.unchecked};$FnFmatter.email=function(e,t){return fmatter.isEmpty(e)?defaultFormat(e,t):"<a href='mailto:"+encodeAttr(e)+"'>"+e+"</a>"},$FnFmatter.checkbox=function(e,t){var i=parseCheckboxOptions.call(this,t);return formatCheckboxValue(e,i,t.colModel)},$FnFmatter.checkbox.getCellBuilder=function(e){var t,i=e.colModel;return e.colName=e.colName||this.p.colNames[e.pos],t=parseCheckboxOptions.call(this,e),function(e){return formatCheckboxValue(e,t,i)}},$FnFmatter.checkbox.unformat=function(e,t,i){var r=parseCheckboxOptions.call(this,t),a=$(i);return(r.checkedClasses?jgrid.hasAllClasses(a.children("i"),r.checkedClasses):a.children("input").is(":checked"))?r.yes:r.no},$FnFmatter.checkboxFontAwesome4=$FnFmatter.checkbox,$FnFmatter.checkboxFontAwesome4.getCellBuilder=$FnFmatter.checkbox.getCellBuilder,$FnFmatter.checkboxFontAwesome4.unformat=$FnFmatter.checkbox.unformat,$FnFmatter.link=function(e,t){var i=t.colModel,r="",a={target:t.target};return null!=i&&(a=$.extend({},a,i.formatoptions||{})),a.target&&(r="target="+a.target),fmatter.isEmpty(e)?defaultFormat(e,a):"<a "+r+" href='"+encodeAttr(e)+"'>"+e+"</a>"},$FnFmatter.showlink=function(e,t,i){var r,a,o,l=this,n=t.colModel,s={baseLinkUrl:t.baseLinkUrl,showAction:t.showAction,addParam:t.addParam||"",target:t.target,idName:t.idName,hrefDefaultValue:"#"},d="",c=function(r){return $.isFunction(r)?r.call(l,{cellValue:e,rowid:t.rowId,rowData:i,options:s}):r||""};return null!=n&&(s=$.extend({},s,n.formatoptions||{})),s.target&&(d="target="+c(s.target)),r=c(s.baseLinkUrl)+c(s.showAction),a=s.idName?encodeURIComponent(c(s.idName))+"="+encodeURIComponent(c(s.rowId)||t.rowId):"",o=c(s.addParam),"object"==typeof o&&null!==o&&(o=(""!==a?"&":"")+$.param(o)),r+=a||o?"?"+a+o:"",""===r&&(r=c(s.hrefDefaultValue)),"string"==typeof e||fmatter.isNumber(e)||$.isFunction(s.cellValue)?"<a "+d+" href='"+encodeAttr(r)+"'>"+($.isFunction(s.cellValue)?c(s.cellValue):e)+"</a>":defaultFormat(e,s)},$FnFmatter.showlink.getCellBuilder=function(e){var t={baseLinkUrl:e.baseLinkUrl,showAction:e.showAction,addParam:e.addParam||"",target:e.target,idName:e.idName,hrefDefaultValue:"#"},i=e.colModel;return null!=i&&(t=$.extend({},t,i.formatoptions||{})),function(e,i,r){var a,o,l,n=this,s=i.rowId,d="",c=function(i){return $.isFunction(i)?i.call(n,{cellValue:e,rowid:s,rowData:r,options:t}):i||""};return t.target&&(d="target="+c(t.target)),a=c(t.baseLinkUrl)+c(t.showAction),o=t.idName?encodeURIComponent(c(t.idName))+"="+encodeURIComponent(c(s)||i.rowId):"",l=c(t.addParam),"object"==typeof l&&null!==l&&(l=(""!==o?"&":"")+$.param(l)),a+=o||l?"?"+o+l:"",""===a&&(a=c(t.hrefDefaultValue)),"string"==typeof e||fmatter.isNumber(e)||$.isFunction(t.cellValue)?"<a "+d+" href='"+encodeAttr(a)+"'>"+($.isFunction(t.cellValue)?c(t.cellValue):e)+"</a>":defaultFormat(e,t)}},$FnFmatter.showlink.pageFinalization=function(e){var t,i,r,a=$(this),o=this.p,l=o.colModel,n=l[e],s=this.rows,d=s.length,c=function(t){var i=$(this).closest(".jqgrow");if(i.length>0)return n.formatoptions.onClick.call(a[0],{iCol:e,iRow:i[0].rowIndex,rowid:i.attr("id"),cm:n,cmName:n.name,cellValue:$(this).text(),a:this,event:t})};if(null!=n.formatoptions&&$.isFunction(n.formatoptions.onClick))for(t=0;t<d;t++)i=s[t],$(i).hasClass("jqgrow")&&(r=i.cells[e],n.autoResizable&&null!=r&&$(r.firstChild).hasClass(o.autoResizing.wrapperClassName)&&(r=r.firstChild),null!=r&&$(r.firstChild).bind("click",c))};var insertPrefixAndSuffix=function(e,t){return e=t.prefix?t.prefix+e:e,t.suffix?e+t.suffix:e},numberHelper=function(e,t,i){var r=t.colModel,a=$.extend({},t[i]);return null!=r&&(a=$.extend({},a,r.formatoptions||{})),fmatter.isEmpty(e)?insertPrefixAndSuffix(a.defaultValue,a):insertPrefixAndSuffix(fmatter.NumberFormat(e,a),a)};$FnFmatter.integer=function(e,t){return numberHelper(e,t,"integer")},$FnFmatter.number=function(e,t){return numberHelper(e,t,"number")},$FnFmatter.currency=function(e,t){return numberHelper(e,t,"currency")};var numberCellBuilder=function(e,t){var i=e.colModel,r=$.extend({},e[t]);null!=i&&(r=$.extend({},r,i.formatoptions||{}));var a=fmatter.NumberFormat,o=r.defaultValue?insertPrefixAndSuffix(r.defaultValue,r):"";return function(e){return fmatter.isEmpty(e)?o:insertPrefixAndSuffix(a(e,r),r)}};$FnFmatter.integer.getCellBuilder=function(e){return numberCellBuilder(e,"integer")},$FnFmatter.number.getCellBuilder=function(e){return numberCellBuilder(e,"number")},$FnFmatter.currency.getCellBuilder=function(e){return numberCellBuilder(e,"currency")},$FnFmatter.date=function(e,t,i,r){var a=t.colModel,o=$.extend({},t.date);return null!=a&&(o=$.extend({},o,a.formatoptions||{})),o.reformatAfterEdit||"edit"!==r?fmatter.isEmpty(e)?defaultFormat(e,o):jgrid.parseDate.call(this,o.srcformat,e,o.newformat,o):defaultFormat(e,o)},$FnFmatter.date.getCellBuilder=function(e,t){var i=$.extend({},e.date);null!=e.colModel&&(i=$.extend({},i,e.colModel.formatoptions||{}));var r=jgrid.parseDate,a=i.srcformat,o=i.newformat;return i.reformatAfterEdit||"edit"!==t?function(e){return fmatter.isEmpty(e)?defaultFormat(e,i):r.call(this,a,e,o,i)}:function(e){return defaultFormat(e,i)}},$FnFmatter.select=function(e,t){var i,r=[],a=t.colModel,o=$.extend({},a.editoptions||{},a.formatoptions||{}),l=o.value,n=o.separator||":",s=o.delimiter||";";if(l){var d,c=o.multiple===!0,u=[],p=function(e,t){if(t>0)return e};if(c&&(u=$.map(String(e).split(","),function(e){return $.trim(e)})),"string"==typeof l){var g,h,f=l.split(s);for(g=0;g<f.length;g++)if(d=f[g].split(n),d.length>2&&(d[1]=$.map(d,p).join(n)),h=$.trim(d[0]),o.defaultValue===h&&(i=d[1]),c)$.inArray(h,u)>-1&&r.push(d[1]);else if(h===$.trim(e)){r=[d[1]];break}}else fmatter.isObject(l)&&(i=l[o.defaultValue],r=c?$.map(u,function(e){return l[e]}):[void 0===l[e]?"":l[e]])}return e=r.join(", "),""!==e?e:void 0!==o.defaultValue?i:defaultFormat(e,o)},$FnFmatter.select.getCellBuilder=function(e){var t,i,r,a,o,l=e.colModel,n=$FnFmatter.defaultFormat,s=$.extend({},l.editoptions||{},l.formatoptions||{}),d=s.value,c=s.separator||":",u=s.delimiter||";",p=void 0!==s.defaultValue,g=s.multiple===!0,h={},f=function(e,t){if(t>0)return e};if("string"==typeof d)for(r=d.split(u),o=r.length,a=o-1;a>=0;a--)i=r[a].split(c),i.length>2&&(i[1]=$.map(i,f).join(c)),h[$.trim(i[0])]=i[1];else{if(!fmatter.isObject(d))return function(e){return e?String(e):n(e,s)};h=d}return p&&(t=h[s.defaultValue]),g?function(e){var i,r=[],a=$.map(String(e).split(","),function(e){return $.trim(e)});for(i=0;i<a.length;i++)e=a[i],h.hasOwnProperty(e)&&r.push(h[e]);return e=r.join(", "),""!==e?e:p?t:n(e,s)}:function(e){var i=h[String(e)];return""!==i&&void 0!==i?i:p?t:n(e,s)}},$FnFmatter.rowactions=function(e,t){var i,r,a,o,l=$(this).closest("tr.jqgrow"),n=l.attr("id"),s=$(this).closest("table.ui-jqgrid-btable").attr("id").replace(/_frozen([^_]*)$/,"$1"),d=$("#"+jgrid.jqID(s)),c=d[0],u=c.p,p=function(){var e=l[0],t=d.closest(".ui-jqgrid")[0];return null!=e.getBoundingClientRect&&null!=t.getBoundingClientRect?e.getBoundingClientRect().top+l.outerHeight()-t.getBoundingClientRect().top:l.offset().top+l.outerHeight()-$(t).offset().top},g=u.colModel[jgrid.getCellIndex(this)],h=$.extend(!0,{extraparam:{}},jgrid.actionsNav||{},u.actionsNavOptions||{},g.formatoptions||{});switch(void 0!==u.editOptions&&(h.editOptions=$.extend(!0,h.editOptions||{},u.editOptions)),void 0!==u.delOptions&&(h.delOptions=u.delOptions),l.hasClass("jqgrid-new-row")&&(h.extraparam[u.prmNames.oper]=u.prmNames.addoper),o={keys:h.keys,oneditfunc:h.onEdit,successfunc:h.onSuccess,url:h.url,extraparam:h.extraparam,aftersavefunc:h.afterSave,errorfunc:h.onError,afterrestorefunc:h.afterRestore,restoreAfterError:h.restoreAfterError,mtype:h.mtype},!u.multiselect&&n!==u.selrow||u.multiselect&&$.inArray(n,u.selarrrow)<0?d.jqGrid("setSelection",n,!0,e):jgrid.fullBoolFeedback.call(c,"onSelectRow","jqGridSelectRow",n,!0,e),t){case"edit":d.jqGrid("editRow",n,o);break;case"save":d.jqGrid("saveRow",n,o);break;case"cancel":d.jqGrid("restoreRow",n,h.afterRestore);break;case"del":h.delOptions=h.delOptions||{},void 0===h.delOptions.top&&(h.delOptions.top=p()),d.jqGrid("delGridRow",n,h.delOptions);break;case"formedit":h.editOptions=h.editOptions||{},void 0===h.editOptions.top&&(h.editOptions.top=p(),h.editOptions.recreateForm=!0),d.jqGrid("editGridRow",n,h.editOptions);break;default:if(null!=h.custom&&h.custom.length>0)for(r=h.custom.length,i=0;i<r;i++)a=h.custom[i],a.action===t&&$.isFunction(a.onClick)&&a.onClick.call(c,{rowid:n,event:e,action:t,options:a})}return e.stopPropagation&&e.stopPropagation(),!1},$FnFmatter.actions=function(e,t,i,r){var a,o,l,n=t.rowId,s="",d=this,c=d.p,u=$(d),p={},g=getGridRes.call(u,"edit")||{},h=$.extend({editbutton:!0,delbutton:!0,editformbutton:!1,commonIconClass:"ui-icon",editicon:"ui-icon-pencil",delicon:"ui-icon-trash",saveicon:"ui-icon-disk",cancelicon:"ui-icon-cancel",savetitle:g.bSubmit||"",canceltitle:g.bCancel||""},getGridRes.call(u,"nav")||{},jgrid.nav||{},c.navOptions||{},getGridRes.call(u,"actionsNav")||{},jgrid.actionsNav||{},c.actionsNavOptions||{},t.colModel.formatoptions||{}),f=function(e){return jgrid.mergeCssClasses(h.commonIconClass,h[e+"icon"])},m=u.jqGrid("getGuiStyles","states.hover"),v="onmouseover=\"jQuery(this).addClass('"+m+"');\" onmouseout=\"jQuery(this).removeClass('"+m+"');\"",b=[{action:"edit",actionName:"formedit",display:h.editformbutton},{action:"edit",display:!h.editformbutton&&h.editbutton},{action:"del",idPrefix:"Delete",display:h.delbutton},{action:"save",display:h.editformbutton||h.editbutton,hidden:!0},{action:"cancel",display:h.editformbutton||h.editbutton,hidden:!0}],w=function(e){var t=e.action,i=e.actionName||t,r=void 0!==e.idPrefix?e.idPrefix:t.charAt(0).toUpperCase()+t.substring(1);return"<div title='"+encodeAttr(h[t+"title"])+(e.hidden?"' style='display:none;":"")+"' class='"+encodeAttr(u.jqGrid("getGuiStyles","actionsButton","ui-pg-div ui-inline-"+t))+"' "+(null!==r?"id='j"+encodeAttr(r+"Button_"+n):"")+"' onclick=\"return jQuery.fn.fmatter.rowactions.call(this,event,'"+i+"');\" "+(e.noHovering?"":v)+"><span class='"+encodeAttr(f(t))+"'></span></div>"},j=null!=h.custom?h.custom.length-1:-1;if(void 0===n||fmatter.isEmpty(n))return"";if($.isFunction(h.isDisplayButtons))try{p=h.isDisplayButtons.call(d,t,i,r)||{}}catch(y){}for(;j>=0;)o=h.custom[j--],b["first"===o.position?"unshift":"push"](o);for(a=0,j=b.length;a<j;a++)l=$.extend({},b[a],p[b[a].action]||{}),l.display!==!1&&(s+=w(l));return"<div class='"+encodeAttr(u.jqGrid("getGuiStyles","actionsDiv","ui-jqgrid-actions"))+"'>"+s+"</div>"},$FnFmatter.actions.pageFinalization=function(e){var t=$(this),i=this.p,r=i.colModel,a=r[e],o=function(o,l){var n,s,d,c=0,u=r.length;for(d=0;d<u&&r[d].frozen===!0;d++)c=d;n=t.jqGrid("getGridRowById",l),null!=n&&null!=n.cells&&(e=i.iColByName[a.name],s=$(n.cells[e]).children(".ui-jqgrid-actions"),a.frozen&&i.frozenColumns&&e<=c&&(s=s.add($(t[0].grid.fbRows[n.rowIndex].cells[e]).children(".ui-jqgrid-actions"))),o?(s.find(">.ui-inline-edit,>.ui-inline-del").show(),s.find(">.ui-inline-save,>.ui-inline-cancel").hide()):(s.find(">.ui-inline-edit,>.ui-inline-del").hide(),s.find(">.ui-inline-save,>.ui-inline-cancel").show()))},l=function(e,t){return o(!0,t),!1},n=function(e,t){return o(!1,t),!1};null!=a.formatoptions&&a.formatoptions.editformbutton||(t.unbind("jqGridInlineAfterRestoreRow.jqGridFormatter jqGridInlineAfterSaveRow.jqGridFormatter",l),t.bind("jqGridInlineAfterRestoreRow.jqGridFormatter jqGridInlineAfterSaveRow.jqGridFormatter",l),t.unbind("jqGridInlineEditRow.jqGridFormatter",n),t.bind("jqGridInlineEditRow.jqGridFormatter",n))},$.unformat=function(e,t,i,r){var a,o=t.colModel,l=o.formatter,n=this.p,s=o.formatoptions||{},d=o.unformat||$FnFmatter[l]&&$FnFmatter[l].unformat;if(e instanceof jQuery&&e.length>0&&(e=e[0]),n.treeGrid&&null!=e&&$(e.firstChild).hasClass("tree-wrap")&&($(e.lastChild).hasClass("cell-wrapper")||$(e.lastChild).hasClass("cell-wrapperleaf"))&&(e=e.lastChild),o.autoResizable&&null!=e&&$(e.firstChild).hasClass(n.autoResizing.wrapperClassName)&&(e=e.firstChild),void 0!==d&&$.isFunction(d))a=d.call(this,$(e).text(),t,e);else if(void 0!==l&&"string"==typeof l){var c=$(this),u=function(e,t){return void 0!==s[t]?s[t]:getGridRes.call(c,"formatter."+e+"."+t)},p=function(e,t){var i=u(e,"thousandsSeparator").replace(/([\.\*\_\'\(\)\{\}\+\?\\])/g,"\\$1");return t.replace(new RegExp(i,"g"),"")};switch(l){case"integer":a=p("integer",$(e).text());break;case"number":a=p("number",$(e).text()).replace(u("number","decimalSeparator"),".");break;case"currency":a=$(e).text();var g=u("currency","prefix"),h=u("currency","suffix");g&&g.length&&(a=a.substr(g.length)),h&&h.length&&(a=a.substr(0,a.length-h.length)),a=p("number",a).replace(u("number","decimalSeparator"),".");break;case"checkbox":a=$FnFmatter.checkbox.unformat(e,t,e);break;case"select":a=$.unformat.select(e,t,i,r);break;case"actions":return"";default:a=$(e).text()}}return a=void 0!==a?a:r===!0?$(e).text():jgrid.htmlDecode($(e).html())},$.unformat.select=function(e,t,i,r){var a=[],o=$(e).text(),l=t.colModel;if(r===!0)return o;var n=$.extend({},l.editoptions||{},l.formatoptions||{}),s=void 0===n.separator?":":n.separator,d=void 0===n.delimiter?";":n.delimiter;if(n.value){var c,u=n.value,p=n.multiple===!0,g=[],h=function(e,t){if(t>0)return e};if(p&&(g=o.split(","),g=$.map(g,function(e){return $.trim(e)})),"string"==typeof u){var f,m=u.split(d),v=0;for(f=0;f<m.length;f++)if(c=m[f].split(s),c.length>2&&(c[1]=$.map(c,h).join(s)),p)$.inArray($.trim(c[1]),g)>-1&&(a[v]=c[0],v++);else if($.trim(c[1])===$.trim(o)){a[0]=c[0];break}}else(fmatter.isObject(u)||$.isArray(u))&&(p||(g[0]=o),a=$.map(g,function(e){var t;if($.each(u,function(i,r){if(r===e)return t=i,!1}),void 0!==t)return t}));return a.join(", ")}return o||""},$.unformat.date=function(e,t){var i=$.extend(!0,{},getGridRes.call($(this),"formatter.date"),jgrid.formatter.date||{},t.formatoptions||{});return fmatter.isEmpty(e)?"":jgrid.parseDate.call(this,i.newformat,e,i.srcformat,i)}})},,,function(e,t){e.exports={add:function(e,t){return e+t}}}]);