webpackJsonp([0],[,function(e,t,r){var i,n;!function(t,r){"use strict";"object"==typeof e&&"object"==typeof e.exports?e.exports=t.document?r(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return r(e)}:r(t)}("undefined"!=typeof window?window:this,function(r,a){"use strict";function o(e,t){t=t||ae;var r=t.createElement("script");r.text=e,t.head.appendChild(r).parentNode.removeChild(r)}function l(e){var t=!!e&&"length"in e&&e.length,r=ve.type(e);return"function"!==r&&!ve.isWindow(e)&&("array"===r||0===t||"number"==typeof t&&t>0&&t-1 in e)}function s(e,t,r){return ve.isFunction(t)?ve.grep(e,function(e,i){return!!t.call(e,i,e)!==r}):t.nodeType?ve.grep(e,function(e){return e===t!==r}):"string"!=typeof t?ve.grep(e,function(e){return ce.call(t,e)>-1!==r}):qe.test(t)?ve.filter(t,e,r):(t=ve.filter(t,e),ve.grep(e,function(e){return ce.call(t,e)>-1!==r&&1===e.nodeType}))}function d(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function c(e){var t={};return ve.each(e.match(Oe)||[],function(e,r){t[r]=!0}),t}function u(e){return e}function p(e){throw e}function f(e,t,r){var i;try{e&&ve.isFunction(i=e.promise)?i.call(e).done(t).fail(r):e&&ve.isFunction(i=e.then)?i.call(e,t,r):t.call(void 0,e)}catch(e){r.call(void 0,e)}}function h(){ae.removeEventListener("DOMContentLoaded",h),r.removeEventListener("load",h),ve.ready()}function g(){this.expando=ve.expando+g.uid++}function m(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Me.test(e)?JSON.parse(e):e)}function v(e,t,r){var i;if(void 0===r&&1===e.nodeType)if(i="data-"+t.replace(Be,"-$&").toLowerCase(),"string"==typeof(r=e.getAttribute(i))){try{r=m(r)}catch(e){}Ae.set(e,t,r)}else r=void 0;return r}function b(e,t,r,i){var n,a=1,o=20,l=i?function(){return i.cur()}:function(){return ve.css(e,t,"")},s=l(),d=r&&r[3]||(ve.cssNumber[t]?"":"px"),c=(ve.cssNumber[t]||"px"!==d&&+s)&&Le.exec(ve.css(e,t));if(c&&c[3]!==d){d=d||c[3],r=r||[],c=+s||1;do{a=a||".5",c/=a,ve.style(e,t,c+d)}while(a!==(a=l()/s)&&1!==a&&--o)}return r&&(c=+c||+s||0,n=r[1]?c+(r[1]+1)*r[2]:+r[2],i&&(i.unit=d,i.start=c,i.end=n)),n}function y(e){var t,r=e.ownerDocument,i=e.nodeName,n=We[i];return n||(t=r.body.appendChild(r.createElement(i)),n=ve.css(t,"display"),t.parentNode.removeChild(t),"none"===n&&(n="block"),We[i]=n,n)}function w(e,t){for(var r,i,n=[],a=0,o=e.length;a<o;a++)i=e[a],i.style&&(r=i.style.display,t?("none"===r&&(n[a]=Te.get(i,"display")||null,n[a]||(i.style.display="")),""===i.style.display&&He(i)&&(n[a]=y(i))):"none"!==r&&(n[a]="none",Te.set(i,"display",r)));for(a=0;a<o;a++)null!=n[a]&&(e[a].style.display=n[a]);return e}function $(e,t){var r;return r=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&ve.nodeName(e,t)?ve.merge([e],r):r}function x(e,t){for(var r=0,i=e.length;r<i;r++)Te.set(e[r],"globalEval",!t||Te.get(t[r],"globalEval"))}function C(e,t,r,i,n){for(var a,o,l,s,d,c,u=t.createDocumentFragment(),p=[],f=0,h=e.length;f<h;f++)if((a=e[f])||0===a)if("object"===ve.type(a))ve.merge(p,a.nodeType?[a]:a);else if(Je.test(a)){for(o=o||u.appendChild(t.createElement("div")),l=(Ye.exec(a)||["",""])[1].toLowerCase(),s=Qe[l]||Qe._default,o.innerHTML=s[1]+ve.htmlPrefilter(a)+s[2],c=s[0];c--;)o=o.lastChild;ve.merge(p,o.childNodes),o=u.firstChild,o.textContent=""}else p.push(t.createTextNode(a));for(u.textContent="",f=0;a=p[f++];)if(i&&ve.inArray(a,i)>-1)n&&n.push(a);else if(d=ve.contains(a.ownerDocument,a),o=$(u.appendChild(a),"script"),d&&x(o),r)for(c=0;a=o[c++];)Xe.test(a.type||"")&&r.push(a);return u}function j(){return!0}function D(){return!1}function S(){try{return ae.activeElement}catch(e){}}function q(e,t,r,i,n,a){var o,l;if("object"==typeof t){"string"!=typeof r&&(i=i||r,r=void 0);for(l in t)q(e,l,r,i,t[l],a);return e}if(null==i&&null==n?(n=r,i=r=void 0):null==n&&("string"==typeof r?(n=i,i=void 0):(n=i,i=r,r=void 0)),!1===n)n=D;else if(!n)return e;return 1===a&&(o=n,n=function(e){return ve().off(e),o.apply(this,arguments)},n.guid=o.guid||(o.guid=ve.guid++)),e.each(function(){ve.event.add(this,t,n,i,r)})}function _(e,t){return ve.nodeName(e,"table")&&ve.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e:e}function F(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function R(e){var t=at.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function k(e,t){var r,i,n,a,o,l,s,d;if(1===t.nodeType){if(Te.hasData(e)&&(a=Te.access(e),o=Te.set(t,a),d=a.events)){delete o.handle,o.events={};for(n in d)for(r=0,i=d[n].length;r<i;r++)ve.event.add(t,n,d[n][r])}Ae.hasData(e)&&(l=Ae.access(e),s=ve.extend({},l),Ae.set(t,s))}}function O(e,t){var r=t.nodeName.toLowerCase();"input"===r&&Ue.test(e.type)?t.checked=e.checked:"input"!==r&&"textarea"!==r||(t.defaultValue=e.defaultValue)}function I(e,t,r,i){t=se.apply([],t);var n,a,l,s,d,c,u=0,p=e.length,f=p-1,h=t[0],g=ve.isFunction(h);if(g||p>1&&"string"==typeof h&&!me.checkClone&&nt.test(h))return e.each(function(n){var a=e.eq(n);g&&(t[0]=h.call(this,n,a.html())),I(a,t,r,i)});if(p&&(n=C(t,e[0].ownerDocument,!1,e,i),a=n.firstChild,1===n.childNodes.length&&(n=a),a||i)){for(l=ve.map($(n,"script"),F),s=l.length;u<p;u++)d=n,u!==f&&(d=ve.clone(d,!0,!0),s&&ve.merge(l,$(d,"script"))),r.call(e[u],d,u);if(s)for(c=l[l.length-1].ownerDocument,ve.map(l,R),u=0;u<s;u++)d=l[u],Xe.test(d.type||"")&&!Te.access(d,"globalEval")&&ve.contains(c,d)&&(d.src?ve._evalUrl&&ve._evalUrl(d.src):o(d.textContent.replace(ot,""),c))}return e}function N(e,t,r){for(var i,n=t?ve.filter(t,e):e,a=0;null!=(i=n[a]);a++)r||1!==i.nodeType||ve.cleanData($(i)),i.parentNode&&(r&&ve.contains(i.ownerDocument,i)&&x($(i,"script")),i.parentNode.removeChild(i));return e}function G(e,t,r){var i,n,a,o,l=e.style;return r=r||dt(e),r&&(o=r.getPropertyValue(t)||r[t],""!==o||ve.contains(e.ownerDocument,e)||(o=ve.style(e,t)),!me.pixelMarginRight()&&st.test(o)&&lt.test(t)&&(i=l.width,n=l.minWidth,a=l.maxWidth,l.minWidth=l.maxWidth=l.width=o,o=r.width,l.width=i,l.minWidth=n,l.maxWidth=a)),void 0!==o?o+"":o}function E(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function T(e){if(e in ht)return e;for(var t=e[0].toUpperCase()+e.slice(1),r=ft.length;r--;)if((e=ft[r]+t)in ht)return e}function A(e,t,r){var i=Le.exec(t);return i?Math.max(0,i[2]-(r||0))+(i[3]||"px"):t}function M(e,t,r,i,n){var a,o=0;for(a=r===(i?"border":"content")?4:"width"===t?1:0;a<4;a+=2)"margin"===r&&(o+=ve.css(e,r+ze[a],!0,n)),i?("content"===r&&(o-=ve.css(e,"padding"+ze[a],!0,n)),"margin"!==r&&(o-=ve.css(e,"border"+ze[a]+"Width",!0,n))):(o+=ve.css(e,"padding"+ze[a],!0,n),"padding"!==r&&(o+=ve.css(e,"border"+ze[a]+"Width",!0,n)));return o}function B(e,t,r){var i,n=!0,a=dt(e),o="border-box"===ve.css(e,"boxSizing",!1,a);if(e.getClientRects().length&&(i=e.getBoundingClientRect()[t]),i<=0||null==i){if(i=G(e,t,a),(i<0||null==i)&&(i=e.style[t]),st.test(i))return i;n=o&&(me.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+M(e,t,r||(o?"border":"content"),n,a)+"px"}function P(e,t,r,i,n){return new P.prototype.init(e,t,r,i,n)}function L(){mt&&(r.requestAnimationFrame(L),ve.fx.tick())}function z(){return r.setTimeout(function(){gt=void 0}),gt=ve.now()}function H(e,t){var r,i=0,n={height:e};for(t=t?1:0;i<4;i+=2-t)r=ze[i],n["margin"+r]=n["padding"+r]=e;return t&&(n.opacity=n.width=e),n}function V(e,t,r){for(var i,n=(Y.tweeners[t]||[]).concat(Y.tweeners["*"]),a=0,o=n.length;a<o;a++)if(i=n[a].call(r,t,e))return i}function W(e,t,r){var i,n,a,o,l,s,d,c,u="width"in t||"height"in t,p=this,f={},h=e.style,g=e.nodeType&&He(e),m=Te.get(e,"fxshow");r.queue||(o=ve._queueHooks(e,"fx"),null==o.unqueued&&(o.unqueued=0,l=o.empty.fire,o.empty.fire=function(){o.unqueued||l()}),o.unqueued++,p.always(function(){p.always(function(){o.unqueued--,ve.queue(e,"fx").length||o.empty.fire()})}));for(i in t)if(n=t[i],vt.test(n)){if(delete t[i],a=a||"toggle"===n,n===(g?"hide":"show")){if("show"!==n||!m||void 0===m[i])continue;g=!0}f[i]=m&&m[i]||ve.style(e,i)}if((s=!ve.isEmptyObject(t))||!ve.isEmptyObject(f)){u&&1===e.nodeType&&(r.overflow=[h.overflow,h.overflowX,h.overflowY],d=m&&m.display,null==d&&(d=Te.get(e,"display")),c=ve.css(e,"display"),"none"===c&&(d?c=d:(w([e],!0),d=e.style.display||d,c=ve.css(e,"display"),w([e]))),("inline"===c||"inline-block"===c&&null!=d)&&"none"===ve.css(e,"float")&&(s||(p.done(function(){h.display=d}),null==d&&(c=h.display,d="none"===c?"":c)),h.display="inline-block")),r.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=r.overflow[0],h.overflowX=r.overflow[1],h.overflowY=r.overflow[2]})),s=!1;for(i in f)s||(m?"hidden"in m&&(g=m.hidden):m=Te.access(e,"fxshow",{display:d}),a&&(m.hidden=!g),g&&w([e],!0),p.done(function(){g||w([e]),Te.remove(e,"fxshow");for(i in f)ve.style(e,i,f[i])})),s=V(g?m[i]:0,i,p),i in m||(m[i]=s.start,g&&(s.end=s.start,s.start=0))}}function U(e,t){var r,i,n,a,o;for(r in e)if(i=ve.camelCase(r),n=t[i],a=e[r],ve.isArray(a)&&(n=a[1],a=e[r]=a[0]),r!==i&&(e[i]=a,delete e[r]),(o=ve.cssHooks[i])&&"expand"in o){a=o.expand(a),delete e[i];for(r in a)r in e||(e[r]=a[r],t[r]=n)}else t[i]=n}function Y(e,t,r){var i,n,a=0,o=Y.prefilters.length,l=ve.Deferred().always(function(){delete s.elem}),s=function(){if(n)return!1;for(var t=gt||z(),r=Math.max(0,d.startTime+d.duration-t),i=r/d.duration||0,a=1-i,o=0,s=d.tweens.length;o<s;o++)d.tweens[o].run(a);return l.notifyWith(e,[d,a,r]),a<1&&s?r:(l.resolveWith(e,[d]),!1)},d=l.promise({elem:e,props:ve.extend({},t),opts:ve.extend(!0,{specialEasing:{},easing:ve.easing._default},r),originalProperties:t,originalOptions:r,startTime:gt||z(),duration:r.duration,tweens:[],createTween:function(t,r){var i=ve.Tween(e,d.opts,t,r,d.opts.specialEasing[t]||d.opts.easing);return d.tweens.push(i),i},stop:function(t){var r=0,i=t?d.tweens.length:0;if(n)return this;for(n=!0;r<i;r++)d.tweens[r].run(1);return t?(l.notifyWith(e,[d,1,0]),l.resolveWith(e,[d,t])):l.rejectWith(e,[d,t]),this}}),c=d.props;for(U(c,d.opts.specialEasing);a<o;a++)if(i=Y.prefilters[a].call(d,e,c,d.opts))return ve.isFunction(i.stop)&&(ve._queueHooks(d.elem,d.opts.queue).stop=ve.proxy(i.stop,i)),i;return ve.map(c,V,d),ve.isFunction(d.opts.start)&&d.opts.start.call(e,d),ve.fx.timer(ve.extend(s,{elem:e,anim:d,queue:d.opts.queue})),d.progress(d.opts.progress).done(d.opts.done,d.opts.complete).fail(d.opts.fail).always(d.opts.always)}function X(e){return(e.match(Oe)||[]).join(" ")}function Q(e){return e.getAttribute&&e.getAttribute("class")||""}function J(e,t,r,i){var n;if(ve.isArray(t))ve.each(t,function(t,n){r||_t.test(e)?i(e,n):J(e+"["+("object"==typeof n&&null!=n?t:"")+"]",n,r,i)});else if(r||"object"!==ve.type(t))i(e,t);else for(n in t)J(e+"["+n+"]",t[n],r,i)}function K(e){return function(t,r){"string"!=typeof t&&(r=t,t="*");var i,n=0,a=t.toLowerCase().match(Oe)||[];if(ve.isFunction(r))for(;i=a[n++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(r)):(e[i]=e[i]||[]).push(r)}}function Z(e,t,r,i){function n(l){var s;return a[l]=!0,ve.each(e[l]||[],function(e,l){var d=l(t,r,i);return"string"!=typeof d||o||a[d]?o?!(s=d):void 0:(t.dataTypes.unshift(d),n(d),!1)}),s}var a={},o=e===Bt;return n(t.dataTypes[0])||!a["*"]&&n("*")}function ee(e,t){var r,i,n=ve.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((n[r]?e:i||(i={}))[r]=t[r]);return i&&ve.extend(!0,e,i),e}function te(e,t,r){for(var i,n,a,o,l=e.contents,s=e.dataTypes;"*"===s[0];)s.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(n in l)if(l[n]&&l[n].test(i)){s.unshift(n);break}if(s[0]in r)a=s[0];else{for(n in r){if(!s[0]||e.converters[n+" "+s[0]]){a=n;break}o||(o=n)}a=a||o}if(a)return a!==s[0]&&s.unshift(a),r[a]}function re(e,t,r,i){var n,a,o,l,s,d={},c=e.dataTypes.slice();if(c[1])for(o in e.converters)d[o.toLowerCase()]=e.converters[o];for(a=c.shift();a;)if(e.responseFields[a]&&(r[e.responseFields[a]]=t),!s&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),s=a,a=c.shift())if("*"===a)a=s;else if("*"!==s&&s!==a){if(!(o=d[s+" "+a]||d["* "+a]))for(n in d)if(l=n.split(" "),l[1]===a&&(o=d[s+" "+l[0]]||d["* "+l[0]])){!0===o?o=d[n]:!0!==d[n]&&(a=l[0],c.unshift(l[1]));break}if(!0!==o)if(o&&e.throws)t=o(t);else try{t=o(t)}catch(e){return{state:"parsererror",error:o?e:"No conversion from "+s+" to "+a}}}return{state:"success",data:t}}function ie(e){return ve.isWindow(e)?e:9===e.nodeType&&e.defaultView}var ne=[],ae=r.document,oe=Object.getPrototypeOf,le=ne.slice,se=ne.concat,de=ne.push,ce=ne.indexOf,ue={},pe=ue.toString,fe=ue.hasOwnProperty,he=fe.toString,ge=he.call(Object),me={},ve=function(e,t){return new ve.fn.init(e,t)},be=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ye=/^-ms-/,we=/-([a-z])/g,$e=function(e,t){return t.toUpperCase()};ve.fn=ve.prototype={jquery:"3.1.1",constructor:ve,length:0,toArray:function(){return le.call(this)},get:function(e){return null==e?le.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=ve.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return ve.each(this,e)},map:function(e){return this.pushStack(ve.map(this,function(t,r){return e.call(t,r,t)}))},slice:function(){return this.pushStack(le.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,r=+e+(e<0?t:0);return this.pushStack(r>=0&&r<t?[this[r]]:[])},end:function(){return this.prevObject||this.constructor()},push:de,sort:ne.sort,splice:ne.splice},ve.extend=ve.fn.extend=function(){var e,t,r,i,n,a,o=arguments[0]||{},l=1,s=arguments.length,d=!1;for("boolean"==typeof o&&(d=o,o=arguments[l]||{},l++),"object"==typeof o||ve.isFunction(o)||(o={}),l===s&&(o=this,l--);l<s;l++)if(null!=(e=arguments[l]))for(t in e)r=o[t],i=e[t],o!==i&&(d&&i&&(ve.isPlainObject(i)||(n=ve.isArray(i)))?(n?(n=!1,a=r&&ve.isArray(r)?r:[]):a=r&&ve.isPlainObject(r)?r:{},o[t]=ve.extend(d,a,i)):void 0!==i&&(o[t]=i));return o},ve.extend({expando:"jQuery"+("3.1.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===ve.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=ve.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){var t,r;return!(!e||"[object Object]"!==pe.call(e))&&(!(t=oe(e))||"function"==typeof(r=fe.call(t,"constructor")&&t.constructor)&&he.call(r)===ge)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?ue[pe.call(e)]||"object":typeof e},globalEval:function(e){o(e)},camelCase:function(e){return e.replace(ye,"ms-").replace(we,$e)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var r,i=0;if(l(e))for(r=e.length;i<r&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(be,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(l(Object(e))?ve.merge(r,"string"==typeof e?[e]:e):de.call(r,e)),r},inArray:function(e,t,r){return null==t?-1:ce.call(t,e,r)},merge:function(e,t){for(var r=+t.length,i=0,n=e.length;i<r;i++)e[n++]=t[i];return e.length=n,e},grep:function(e,t,r){for(var i=[],n=0,a=e.length,o=!r;n<a;n++)!t(e[n],n)!==o&&i.push(e[n]);return i},map:function(e,t,r){var i,n,a=0,o=[];if(l(e))for(i=e.length;a<i;a++)null!=(n=t(e[a],a,r))&&o.push(n);else for(a in e)null!=(n=t(e[a],a,r))&&o.push(n);return se.apply([],o)},guid:1,proxy:function(e,t){var r,i,n;if("string"==typeof t&&(r=e[t],t=e,e=r),ve.isFunction(e))return i=le.call(arguments,2),n=function(){return e.apply(t||this,i.concat(le.call(arguments)))},n.guid=e.guid=e.guid||ve.guid++,n},now:Date.now,support:me}),"function"==typeof Symbol&&(ve.fn[Symbol.iterator]=ne[Symbol.iterator]),ve.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){ue["[object "+t+"]"]=t.toLowerCase()});var xe=function(e){function t(e,t,r,i){var n,a,o,l,s,c,p,f=t&&t.ownerDocument,h=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==h&&9!==h&&11!==h)return r;if(!i&&((t?t.ownerDocument||t:M)!==k&&R(t),t=t||k,I)){if(11!==h&&(s=ge.exec(e)))if(n=s[1]){if(9===h){if(!(o=t.getElementById(n)))return r;if(o.id===n)return r.push(o),r}else if(f&&(o=f.getElementById(n))&&T(t,o)&&o.id===n)return r.push(o),r}else{if(s[2])return Q.apply(r,t.getElementsByTagName(e)),r;if((n=s[3])&&w.getElementsByClassName&&t.getElementsByClassName)return Q.apply(r,t.getElementsByClassName(n)),r}if(w.qsa&&!H[e+" "]&&(!N||!N.test(e))){if(1!==h)f=t,p=e;else if("object"!==t.nodeName.toLowerCase()){for((l=t.getAttribute("id"))?l=l.replace(ye,we):t.setAttribute("id",l=A),c=j(e),a=c.length;a--;)c[a]="#"+l+" "+u(c[a]);p=c.join(","),f=me.test(e)&&d(t.parentNode)||t}if(p)try{return Q.apply(r,f.querySelectorAll(p)),r}catch(e){}finally{l===A&&t.removeAttribute("id")}}}return S(e.replace(ae,"$1"),t,r,i)}function r(){function e(r,i){return t.push(r+" ")>$.cacheLength&&delete e[t.shift()],e[r+" "]=i}var t=[];return e}function i(e){return e[A]=!0,e}function n(e){var t=k.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function a(e,t){for(var r=e.split("|"),i=r.length;i--;)$.attrHandle[r[i]]=t}function o(e,t){var r=t&&e,i=r&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(r)for(;r=r.nextSibling;)if(r===t)return-1;return e?1:-1}function l(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&xe(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function s(e){return i(function(t){return t=+t,i(function(r,i){for(var n,a=e([],r.length,t),o=a.length;o--;)r[n=a[o]]&&(r[n]=!(i[n]=r[n]))})})}function d(e){return e&&void 0!==e.getElementsByTagName&&e}function c(){}function u(e){for(var t=0,r=e.length,i="";t<r;t++)i+=e[t].value;return i}function p(e,t,r){var i=t.dir,n=t.next,a=n||i,o=r&&"parentNode"===a,l=P++;return t.first?function(t,r,n){for(;t=t[i];)if(1===t.nodeType||o)return e(t,r,n);return!1}:function(t,r,s){var d,c,u,p=[B,l];if(s){for(;t=t[i];)if((1===t.nodeType||o)&&e(t,r,s))return!0}else for(;t=t[i];)if(1===t.nodeType||o)if(u=t[A]||(t[A]={}),c=u[t.uniqueID]||(u[t.uniqueID]={}),n&&n===t.nodeName.toLowerCase())t=t[i]||t;else{if((d=c[a])&&d[0]===B&&d[1]===l)return p[2]=d[2];if(c[a]=p,p[2]=e(t,r,s))return!0}return!1}}function f(e){return e.length>1?function(t,r,i){for(var n=e.length;n--;)if(!e[n](t,r,i))return!1;return!0}:e[0]}function h(e,r,i){for(var n=0,a=r.length;n<a;n++)t(e,r[n],i);return i}function g(e,t,r,i,n){for(var a,o=[],l=0,s=e.length,d=null!=t;l<s;l++)(a=e[l])&&(r&&!r(a,i,n)||(o.push(a),d&&t.push(l)));return o}function m(e,t,r,n,a,o){return n&&!n[A]&&(n=m(n)),a&&!a[A]&&(a=m(a,o)),i(function(i,o,l,s){var d,c,u,p=[],f=[],m=o.length,v=i||h(t||"*",l.nodeType?[l]:l,[]),b=!e||!i&&t?v:g(v,p,e,l,s),y=r?a||(i?e:m||n)?[]:o:b;if(r&&r(b,y,l,s),n)for(d=g(y,f),n(d,[],l,s),c=d.length;c--;)(u=d[c])&&(y[f[c]]=!(b[f[c]]=u));if(i){if(a||e){if(a){for(d=[],c=y.length;c--;)(u=y[c])&&d.push(b[c]=u);a(null,y=[],d,s)}for(c=y.length;c--;)(u=y[c])&&(d=a?K(i,u):p[c])>-1&&(i[d]=!(o[d]=u))}}else y=g(y===o?y.splice(m,y.length):y),a?a(null,o,y,s):Q.apply(o,y)})}function v(e){for(var t,r,i,n=e.length,a=$.relative[e[0].type],o=a||$.relative[" "],l=a?1:0,s=p(function(e){return e===t},o,!0),d=p(function(e){return K(t,e)>-1},o,!0),c=[function(e,r,i){var n=!a&&(i||r!==q)||((t=r).nodeType?s(e,r,i):d(e,r,i));return t=null,n}];l<n;l++)if(r=$.relative[e[l].type])c=[p(f(c),r)];else{if(r=$.filter[e[l].type].apply(null,e[l].matches),r[A]){for(i=++l;i<n&&!$.relative[e[i].type];i++);return m(l>1&&f(c),l>1&&u(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(ae,"$1"),r,l<i&&v(e.slice(l,i)),i<n&&v(e=e.slice(i)),i<n&&u(e))}c.push(r)}return f(c)}function b(e,r){var n=r.length>0,a=e.length>0,o=function(i,o,l,s,d){var c,u,p,f=0,h="0",m=i&&[],v=[],b=q,y=i||a&&$.find.TAG("*",d),w=B+=null==b?1:Math.random()||.1,x=y.length;for(d&&(q=o===k||o||d);h!==x&&null!=(c=y[h]);h++){if(a&&c){for(u=0,o||c.ownerDocument===k||(R(c),l=!I);p=e[u++];)if(p(c,o||k,l)){s.push(c);break}d&&(B=w)}n&&((c=!p&&c)&&f--,i&&m.push(c))}if(f+=h,n&&h!==f){for(u=0;p=r[u++];)p(m,v,o,l);if(i){if(f>0)for(;h--;)m[h]||v[h]||(v[h]=Y.call(s));v=g(v)}Q.apply(s,v),d&&!i&&v.length>0&&f+r.length>1&&t.uniqueSort(s)}return d&&(B=w,q=b),m};return n?i(o):o}var y,w,$,x,C,j,D,S,q,_,F,R,k,O,I,N,G,E,T,A="sizzle"+1*new Date,M=e.document,B=0,P=0,L=r(),z=r(),H=r(),V=function(e,t){return e===t&&(F=!0),0},W={}.hasOwnProperty,U=[],Y=U.pop,X=U.push,Q=U.push,J=U.slice,K=function(e,t){for(var r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1},Z="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ee="[\\x20\\t\\r\\n\\f]",te="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",re="\\["+ee+"*("+te+")(?:"+ee+"*([*^$|!~]?=)"+ee+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+te+"))|)"+ee+"*\\]",ie=":("+te+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+re+")*)|.*)\\)|)",ne=new RegExp(ee+"+","g"),ae=new RegExp("^"+ee+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ee+"+$","g"),oe=new RegExp("^"+ee+"*,"+ee+"*"),le=new RegExp("^"+ee+"*([>+~]|"+ee+")"+ee+"*"),se=new RegExp("="+ee+"*([^\\]'\"]*?)"+ee+"*\\]","g"),de=new RegExp(ie),ce=new RegExp("^"+te+"$"),ue={ID:new RegExp("^#("+te+")"),CLASS:new RegExp("^\\.("+te+")"),TAG:new RegExp("^("+te+"|[*])"),ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+ie),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ee+"*(even|odd|(([+-]|)(\\d*)n|)"+ee+"*(?:([+-]|)"+ee+"*(\\d+)|))"+ee+"*\\)|)","i"),bool:new RegExp("^(?:"+Z+")$","i"),needsContext:new RegExp("^"+ee+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ee+"*((?:-\\d)?\\d*)"+ee+"*\\)|)(?=[^-]|$)","i")},pe=/^(?:input|select|textarea|button)$/i,fe=/^h\d$/i,he=/^[^{]+\{\s*\[native \w/,ge=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,me=/[+~]/,ve=new RegExp("\\\\([\\da-f]{1,6}"+ee+"?|("+ee+")|.)","ig"),be=function(e,t,r){var i="0x"+t-65536;return i!==i||r?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},ye=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,we=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},$e=function(){R()},xe=p(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{Q.apply(U=J.call(M.childNodes),M.childNodes),U[M.childNodes.length].nodeType}catch(e){Q={apply:U.length?function(e,t){X.apply(e,J.call(t))}:function(e,t){for(var r=e.length,i=0;e[r++]=t[i++];);e.length=r-1}}}w=t.support={},C=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},R=t.setDocument=function(e){var t,r,i=e?e.ownerDocument||e:M;return i!==k&&9===i.nodeType&&i.documentElement?(k=i,O=k.documentElement,I=!C(k),M!==k&&(r=k.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",$e,!1):r.attachEvent&&r.attachEvent("onunload",$e)),w.attributes=n(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=n(function(e){return e.appendChild(k.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=he.test(k.getElementsByClassName),w.getById=n(function(e){return O.appendChild(e).id=A,!k.getElementsByName||!k.getElementsByName(A).length}),w.getById?($.filter.ID=function(e){var t=e.replace(ve,be);return function(e){return e.getAttribute("id")===t}},$.find.ID=function(e,t){if(void 0!==t.getElementById&&I){var r=t.getElementById(e);return r?[r]:[]}}):($.filter.ID=function(e){var t=e.replace(ve,be);return function(e){var r=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return r&&r.value===t}},$.find.ID=function(e,t){if(void 0!==t.getElementById&&I){var r,i,n,a=t.getElementById(e);if(a){if((r=a.getAttributeNode("id"))&&r.value===e)return[a];for(n=t.getElementsByName(e),i=0;a=n[i++];)if((r=a.getAttributeNode("id"))&&r.value===e)return[a]}return[]}}),$.find.TAG=w.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var r,i=[],n=0,a=t.getElementsByTagName(e);if("*"===e){for(;r=a[n++];)1===r.nodeType&&i.push(r);return i}return a},$.find.CLASS=w.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&I)return t.getElementsByClassName(e)},G=[],N=[],(w.qsa=he.test(k.querySelectorAll))&&(n(function(e){O.appendChild(e).innerHTML="<a id='"+A+"'></a><select id='"+A+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&N.push("[*^$]="+ee+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||N.push("\\["+ee+"*(?:value|"+Z+")"),e.querySelectorAll("[id~="+A+"-]").length||N.push("~="),e.querySelectorAll(":checked").length||N.push(":checked"),e.querySelectorAll("a#"+A+"+*").length||N.push(".#.+[+~]")}),n(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=k.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&N.push("name"+ee+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&N.push(":enabled",":disabled"),O.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&N.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),N.push(",.*:")})),(w.matchesSelector=he.test(E=O.matches||O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&n(function(e){w.disconnectedMatch=E.call(e,"*"),E.call(e,"[s!='']:x"),G.push("!=",ie)}),N=N.length&&new RegExp(N.join("|")),G=G.length&&new RegExp(G.join("|")),t=he.test(O.compareDocumentPosition),T=t||he.test(O.contains)?function(e,t){var r=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(r.contains?r.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},V=t?function(e,t){if(e===t)return F=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&r||!w.sortDetached&&t.compareDocumentPosition(e)===r?e===k||e.ownerDocument===M&&T(M,e)?-1:t===k||t.ownerDocument===M&&T(M,t)?1:_?K(_,e)-K(_,t):0:4&r?-1:1)}:function(e,t){if(e===t)return F=!0,0;var r,i=0,n=e.parentNode,a=t.parentNode,l=[e],s=[t];if(!n||!a)return e===k?-1:t===k?1:n?-1:a?1:_?K(_,e)-K(_,t):0;if(n===a)return o(e,t);for(r=e;r=r.parentNode;)l.unshift(r);for(r=t;r=r.parentNode;)s.unshift(r);for(;l[i]===s[i];)i++;return i?o(l[i],s[i]):l[i]===M?-1:s[i]===M?1:0},k):k},t.matches=function(e,r){return t(e,null,null,r)},t.matchesSelector=function(e,r){if((e.ownerDocument||e)!==k&&R(e),r=r.replace(se,"='$1']"),w.matchesSelector&&I&&!H[r+" "]&&(!G||!G.test(r))&&(!N||!N.test(r)))try{var i=E.call(e,r);if(i||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){}return t(r,k,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==k&&R(e),T(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==k&&R(e);var r=$.attrHandle[t.toLowerCase()],i=r&&W.call($.attrHandle,t.toLowerCase())?r(e,t,!I):void 0;return void 0!==i?i:w.attributes||!I?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.escape=function(e){return(e+"").replace(ye,we)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,r=[],i=0,n=0;if(F=!w.detectDuplicates,_=!w.sortStable&&e.slice(0),e.sort(V),F){for(;t=e[n++];)t===e[n]&&(i=r.push(n));for(;i--;)e.splice(r[i],1)}return _=null,e},x=t.getText=function(e){var t,r="",i=0,n=e.nodeType;if(n){if(1===n||9===n||11===n){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)r+=x(e)}else if(3===n||4===n)return e.nodeValue}else for(;t=e[i++];)r+=x(t);return r},$=t.selectors={cacheLength:50,createPseudo:i,match:ue,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ve,be),e[3]=(e[3]||e[4]||e[5]||"").replace(ve,be),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,r=!e[6]&&e[2];return ue.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":r&&de.test(r)&&(t=j(r,!0))&&(t=r.indexOf(")",r.length-t)-r.length)&&(e[0]=e[0].slice(0,t),e[2]=r.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ve,be).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=L[e+" "];return t||(t=new RegExp("(^|"+ee+")"+e+"("+ee+"|$)"))&&L(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,r,i){return function(n){var a=t.attr(n,e);return null==a?"!="===r:!r||(a+="","="===r?a===i:"!="===r?a!==i:"^="===r?i&&0===a.indexOf(i):"*="===r?i&&a.indexOf(i)>-1:"$="===r?i&&a.slice(-i.length)===i:"~="===r?(" "+a.replace(ne," ")+" ").indexOf(i)>-1:"|="===r&&(a===i||a.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,r,i,n){var a="nth"!==e.slice(0,3),o="last"!==e.slice(-4),l="of-type"===t;return 1===i&&0===n?function(e){return!!e.parentNode}:function(t,r,s){var d,c,u,p,f,h,g=a!==o?"nextSibling":"previousSibling",m=t.parentNode,v=l&&t.nodeName.toLowerCase(),b=!s&&!l,y=!1;if(m){if(a){for(;g;){for(p=t;p=p[g];)if(l?p.nodeName.toLowerCase()===v:1===p.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[o?m.firstChild:m.lastChild],o&&b){for(p=m,u=p[A]||(p[A]={}),c=u[p.uniqueID]||(u[p.uniqueID]={}),d=c[e]||[],f=d[0]===B&&d[1],y=f&&d[2],p=f&&m.childNodes[f];p=++f&&p&&p[g]||(y=f=0)||h.pop();)if(1===p.nodeType&&++y&&p===t){c[e]=[B,f,y];break}}else if(b&&(p=t,u=p[A]||(p[A]={}),c=u[p.uniqueID]||(u[p.uniqueID]={}),d=c[e]||[],f=d[0]===B&&d[1],y=f),!1===y)for(;(p=++f&&p&&p[g]||(y=f=0)||h.pop())&&((l?p.nodeName.toLowerCase()!==v:1!==p.nodeType)||!++y||(b&&(u=p[A]||(p[A]={}),c=u[p.uniqueID]||(u[p.uniqueID]={}),c[e]=[B,y]),p!==t)););return(y-=n)===i||y%i==0&&y/i>=0}}},PSEUDO:function(e,r){var n,a=$.pseudos[e]||$.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return a[A]?a(r):a.length>1?(n=[e,e,"",r],$.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,n=a(e,r),o=n.length;o--;)i=K(e,n[o]),e[i]=!(t[i]=n[o])}):function(e){return a(e,0,n)}):a}},pseudos:{not:i(function(e){var t=[],r=[],n=D(e.replace(ae,"$1"));return n[A]?i(function(e,t,r,i){for(var a,o=n(e,null,i,[]),l=e.length;l--;)(a=o[l])&&(e[l]=!(t[l]=a))}):function(e,i,a){return t[0]=e,n(t,null,a,r),t[0]=null,!r.pop()}}),has:i(function(e){return function(r){return t(e,r).length>0}}),contains:i(function(e){return e=e.replace(ve,be),function(t){return(t.textContent||t.innerText||x(t)).indexOf(e)>-1}}),lang:i(function(e){return ce.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(ve,be).toLowerCase(),function(t){var r;do{if(r=I?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(r=r.toLowerCase())===e||0===r.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var r=e.location&&e.location.hash;return r&&r.slice(1)===t.id},root:function(e){return e===O},focus:function(e){return e===k.activeElement&&(!k.hasFocus||k.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:l(!1),disabled:l(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!$.pseudos.empty(e)},header:function(e){return fe.test(e.nodeName)},input:function(e){return pe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:s(function(){return[0]}),last:s(function(e,t){return[t-1]}),eq:s(function(e,t,r){return[r<0?r+t:r]}),even:s(function(e,t){for(var r=0;r<t;r+=2)e.push(r);return e}),odd:s(function(e,t){for(var r=1;r<t;r+=2)e.push(r);return e}),lt:s(function(e,t,r){for(var i=r<0?r+t:r;--i>=0;)e.push(i);return e}),gt:s(function(e,t,r){for(var i=r<0?r+t:r;++i<t;)e.push(i);return e})}},$.pseudos.nth=$.pseudos.eq;for(y in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})$.pseudos[y]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(y);for(y in{submit:!0,reset:!0})$.pseudos[y]=function(e){return function(t){var r=t.nodeName.toLowerCase();return("input"===r||"button"===r)&&t.type===e}}(y);return c.prototype=$.filters=$.pseudos,$.setFilters=new c,j=t.tokenize=function(e,r){var i,n,a,o,l,s,d,c=z[e+" "];if(c)return r?0:c.slice(0);for(l=e,s=[],d=$.preFilter;l;){i&&!(n=oe.exec(l))||(n&&(l=l.slice(n[0].length)||l),s.push(a=[])),i=!1,(n=le.exec(l))&&(i=n.shift(),a.push({value:i,type:n[0].replace(ae," ")}),l=l.slice(i.length));for(o in $.filter)!(n=ue[o].exec(l))||d[o]&&!(n=d[o](n))||(i=n.shift(),a.push({value:i,type:o,matches:n}),l=l.slice(i.length));if(!i)break}return r?l.length:l?t.error(e):z(e,s).slice(0)},D=t.compile=function(e,t){var r,i=[],n=[],a=H[e+" "];if(!a){for(t||(t=j(e)),r=t.length;r--;)a=v(t[r]),a[A]?i.push(a):n.push(a);a=H(e,b(n,i)),a.selector=e}return a},S=t.select=function(e,t,r,i){var n,a,o,l,s,c="function"==typeof e&&e,p=!i&&j(e=c.selector||e);if(r=r||[],1===p.length){if(a=p[0]=p[0].slice(0),a.length>2&&"ID"===(o=a[0]).type&&9===t.nodeType&&I&&$.relative[a[1].type]){if(!(t=($.find.ID(o.matches[0].replace(ve,be),t)||[])[0]))return r;c&&(t=t.parentNode),e=e.slice(a.shift().value.length)}for(n=ue.needsContext.test(e)?0:a.length;n--&&(o=a[n],!$.relative[l=o.type]);)if((s=$.find[l])&&(i=s(o.matches[0].replace(ve,be),me.test(a[0].type)&&d(t.parentNode)||t))){if(a.splice(n,1),!(e=i.length&&u(a)))return Q.apply(r,i),r;break}}return(c||D(e,p))(i,t,!I,r,!t||me.test(e)&&d(t.parentNode)||t),r},w.sortStable=A.split("").sort(V).join("")===A,w.detectDuplicates=!!F,R(),w.sortDetached=n(function(e){return 1&e.compareDocumentPosition(k.createElement("fieldset"))}),n(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||a("type|href|height|width",function(e,t,r){if(!r)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&n(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||a("value",function(e,t,r){if(!r&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),n(function(e){return null==e.getAttribute("disabled")})||a(Z,function(e,t,r){var i;if(!r)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(r);ve.find=xe,ve.expr=xe.selectors,ve.expr[":"]=ve.expr.pseudos,ve.uniqueSort=ve.unique=xe.uniqueSort,ve.text=xe.getText,ve.isXMLDoc=xe.isXML,ve.contains=xe.contains,ve.escapeSelector=xe.escape;var Ce=function(e,t,r){for(var i=[],n=void 0!==r;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(n&&ve(e).is(r))break;i.push(e)}return i},je=function(e,t){for(var r=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&r.push(e);return r},De=ve.expr.match.needsContext,Se=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,qe=/^.[^:#\[\.,]*$/;ve.filter=function(e,t,r){var i=t[0];return r&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?ve.find.matchesSelector(i,e)?[i]:[]:ve.find.matches(e,ve.grep(t,function(e){return 1===e.nodeType}))},ve.fn.extend({find:function(e){var t,r,i=this.length,n=this;if("string"!=typeof e)return this.pushStack(ve(e).filter(function(){for(t=0;t<i;t++)if(ve.contains(n[t],this))return!0}));for(r=this.pushStack([]),t=0;t<i;t++)ve.find(e,n[t],r);return i>1?ve.uniqueSort(r):r},filter:function(e){return this.pushStack(s(this,e||[],!1))},not:function(e){return this.pushStack(s(this,e||[],!0))},is:function(e){return!!s(this,"string"==typeof e&&De.test(e)?ve(e):e||[],!1).length}});var _e,Fe=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(ve.fn.init=function(e,t,r){var i,n;if(!e)return this;if(r=r||_e,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:Fe.exec(e))||!i[1]&&t)return!t||t.jquery?(t||r).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof ve?t[0]:t,ve.merge(this,ve.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:ae,!0)),Se.test(i[1])&&ve.isPlainObject(t))for(i in t)ve.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return n=ae.getElementById(i[2]),n&&(this[0]=n,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):ve.isFunction(e)?void 0!==r.ready?r.ready(e):e(ve):ve.makeArray(e,this)}).prototype=ve.fn,_e=ve(ae);var Re=/^(?:parents|prev(?:Until|All))/,ke={children:!0,contents:!0,next:!0,prev:!0};ve.fn.extend({has:function(e){var t=ve(e,this),r=t.length;return this.filter(function(){for(var e=0;e<r;e++)if(ve.contains(this,t[e]))return!0})},closest:function(e,t){var r,i=0,n=this.length,a=[],o="string"!=typeof e&&ve(e);if(!De.test(e))for(;i<n;i++)for(r=this[i];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(o?o.index(r)>-1:1===r.nodeType&&ve.find.matchesSelector(r,e))){a.push(r);break}return this.pushStack(a.length>1?ve.uniqueSort(a):a)},index:function(e){return e?"string"==typeof e?ce.call(ve(e),this[0]):ce.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ve.uniqueSort(ve.merge(this.get(),ve(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ve.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Ce(e,"parentNode")},parentsUntil:function(e,t,r){return Ce(e,"parentNode",r)},next:function(e){return d(e,"nextSibling")},prev:function(e){return d(e,"previousSibling")},nextAll:function(e){return Ce(e,"nextSibling")},prevAll:function(e){return Ce(e,"previousSibling")},nextUntil:function(e,t,r){return Ce(e,"nextSibling",r)},prevUntil:function(e,t,r){return Ce(e,"previousSibling",r)},siblings:function(e){return je((e.parentNode||{}).firstChild,e)},children:function(e){return je(e.firstChild)},contents:function(e){return e.contentDocument||ve.merge([],e.childNodes)}},function(e,t){ve.fn[e]=function(r,i){var n=ve.map(this,t,r);return"Until"!==e.slice(-5)&&(i=r),i&&"string"==typeof i&&(n=ve.filter(i,n)),this.length>1&&(ke[e]||ve.uniqueSort(n),Re.test(e)&&n.reverse()),this.pushStack(n)}});var Oe=/[^\x20\t\r\n\f]+/g;ve.Callbacks=function(e){e="string"==typeof e?c(e):ve.extend({},e);var t,r,i,n,a=[],o=[],l=-1,s=function(){for(n=e.once,i=t=!0;o.length;l=-1)for(r=o.shift();++l<a.length;)!1===a[l].apply(r[0],r[1])&&e.stopOnFalse&&(l=a.length,r=!1);e.memory||(r=!1),t=!1,n&&(a=r?[]:"")},d={add:function(){return a&&(r&&!t&&(l=a.length-1,o.push(r)),function t(r){ve.each(r,function(r,i){ve.isFunction(i)?e.unique&&d.has(i)||a.push(i):i&&i.length&&"string"!==ve.type(i)&&t(i)})}(arguments),r&&!t&&s()),this},remove:function(){return ve.each(arguments,function(e,t){for(var r;(r=ve.inArray(t,a,r))>-1;)a.splice(r,1),r<=l&&l--}),this},has:function(e){return e?ve.inArray(e,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return n=o=[],a=r="",this},disabled:function(){return!a},lock:function(){return n=o=[],r||t||(a=r=""),this},locked:function(){return!!n},fireWith:function(e,r){return n||(r=r||[],r=[e,r.slice?r.slice():r],o.push(r),t||s()),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!i}};return d},ve.extend({Deferred:function(e){var t=[["notify","progress",ve.Callbacks("memory"),ve.Callbacks("memory"),2],["resolve","done",ve.Callbacks("once memory"),ve.Callbacks("once memory"),0,"resolved"],["reject","fail",ve.Callbacks("once memory"),ve.Callbacks("once memory"),1,"rejected"]],i="pending",n={state:function(){return i},always:function(){return a.done(arguments).fail(arguments),this},catch:function(e){return n.then(null,e)},pipe:function(){var e=arguments;return ve.Deferred(function(r){ve.each(t,function(t,i){var n=ve.isFunction(e[i[4]])&&e[i[4]];a[i[1]](function(){var e=n&&n.apply(this,arguments);e&&ve.isFunction(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[i[0]+"With"](this,n?[e]:arguments)})}),e=null}).promise()},then:function(e,i,n){function a(e,t,i,n){return function(){var l=this,s=arguments,d=function(){var r,d;if(!(e<o)){if((r=i.apply(l,s))===t.promise())throw new TypeError("Thenable self-resolution");d=r&&("object"==typeof r||"function"==typeof r)&&r.then,ve.isFunction(d)?n?d.call(r,a(o,t,u,n),a(o,t,p,n)):(o++,d.call(r,a(o,t,u,n),a(o,t,p,n),a(o,t,u,t.notifyWith))):(i!==u&&(l=void 0,s=[r]),(n||t.resolveWith)(l,s))}},c=n?d:function(){try{d()}catch(r){ve.Deferred.exceptionHook&&ve.Deferred.exceptionHook(r,c.stackTrace),e+1>=o&&(i!==p&&(l=void 0,s=[r]),t.rejectWith(l,s))}};e?c():(ve.Deferred.getStackHook&&(c.stackTrace=ve.Deferred.getStackHook()),r.setTimeout(c))}}var o=0;return ve.Deferred(function(r){t[0][3].add(a(0,r,ve.isFunction(n)?n:u,r.notifyWith)),t[1][3].add(a(0,r,ve.isFunction(e)?e:u)),t[2][3].add(a(0,r,ve.isFunction(i)?i:p))}).promise()},promise:function(e){return null!=e?ve.extend(e,n):n}},a={};return ve.each(t,function(e,r){var o=r[2],l=r[5];n[r[1]]=o.add,l&&o.add(function(){i=l},t[3-e][2].disable,t[0][2].lock),o.add(r[3].fire),a[r[0]]=function(){return a[r[0]+"With"](this===a?void 0:this,arguments),this},a[r[0]+"With"]=o.fireWith}),n.promise(a),e&&e.call(a,a),a},when:function(e){var t=arguments.length,r=t,i=Array(r),n=le.call(arguments),a=ve.Deferred(),o=function(e){return function(r){i[e]=this,n[e]=arguments.length>1?le.call(arguments):r,--t||a.resolveWith(i,n)}};if(t<=1&&(f(e,a.done(o(r)).resolve,a.reject),"pending"===a.state()||ve.isFunction(n[r]&&n[r].then)))return a.then();for(;r--;)f(n[r],o(r),a.reject);return a.promise()}});var Ie=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;ve.Deferred.exceptionHook=function(e,t){r.console&&r.console.warn&&e&&Ie.test(e.name)&&r.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},ve.readyException=function(e){r.setTimeout(function(){throw e})};var Ne=ve.Deferred();ve.fn.ready=function(e){return Ne.then(e).catch(function(e){ve.readyException(e)}),this},ve.extend({isReady:!1,readyWait:1,holdReady:function(e){e?ve.readyWait++:ve.ready(!0)},ready:function(e){(!0===e?--ve.readyWait:ve.isReady)||(ve.isReady=!0,!0!==e&&--ve.readyWait>0||Ne.resolveWith(ae,[ve]))}}),ve.ready.then=Ne.then,"complete"===ae.readyState||"loading"!==ae.readyState&&!ae.documentElement.doScroll?r.setTimeout(ve.ready):(ae.addEventListener("DOMContentLoaded",h),r.addEventListener("load",h));var Ge=function(e,t,r,i,n,a,o){var l=0,s=e.length,d=null==r;if("object"===ve.type(r)){n=!0;for(l in r)Ge(e,t,l,r[l],!0,a,o)}else if(void 0!==i&&(n=!0,ve.isFunction(i)||(o=!0),d&&(o?(t.call(e,i),t=null):(d=t,t=function(e,t,r){return d.call(ve(e),r)})),t))for(;l<s;l++)t(e[l],r,o?i:i.call(e[l],l,t(e[l],r)));return n?e:d?t.call(e):s?t(e[0],r):a},Ee=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};g.uid=1,g.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Ee(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,r){var i,n=this.cache(e);if("string"==typeof t)n[ve.camelCase(t)]=r;else for(i in t)n[ve.camelCase(i)]=t[i];return n},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][ve.camelCase(t)]},access:function(e,t,r){return void 0===t||t&&"string"==typeof t&&void 0===r?this.get(e,t):(this.set(e,t,r),void 0!==r?r:t)},remove:function(e,t){var r,i=e[this.expando];if(void 0!==i){if(void 0!==t){ve.isArray(t)?t=t.map(ve.camelCase):(t=ve.camelCase(t),t=t in i?[t]:t.match(Oe)||[]),r=t.length;for(;r--;)delete i[t[r]]}(void 0===t||ve.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!ve.isEmptyObject(t)}};var Te=new g,Ae=new g,Me=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Be=/[A-Z]/g;ve.extend({hasData:function(e){return Ae.hasData(e)||Te.hasData(e)},data:function(e,t,r){return Ae.access(e,t,r)},removeData:function(e,t){Ae.remove(e,t)},_data:function(e,t,r){return Te.access(e,t,r)},_removeData:function(e,t){Te.remove(e,t)}}),ve.fn.extend({data:function(e,t){var r,i,n,a=this[0],o=a&&a.attributes;if(void 0===e){if(this.length&&(n=Ae.get(a),1===a.nodeType&&!Te.get(a,"hasDataAttrs"))){for(r=o.length;r--;)o[r]&&(i=o[r].name,0===i.indexOf("data-")&&(i=ve.camelCase(i.slice(5)),v(a,i,n[i])));Te.set(a,"hasDataAttrs",!0)}return n}return"object"==typeof e?this.each(function(){Ae.set(this,e)}):Ge(this,function(t){var r;if(a&&void 0===t){if(void 0!==(r=Ae.get(a,e)))return r;if(void 0!==(r=v(a,e)))return r}else this.each(function(){Ae.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Ae.remove(this,e)})}}),ve.extend({queue:function(e,t,r){var i;if(e)return t=(t||"fx")+"queue",i=Te.get(e,t),r&&(!i||ve.isArray(r)?i=Te.access(e,t,ve.makeArray(r)):i.push(r)),i||[]},dequeue:function(e,t){t=t||"fx";var r=ve.queue(e,t),i=r.length,n=r.shift(),a=ve._queueHooks(e,t),o=function(){ve.dequeue(e,t)};"inprogress"===n&&(n=r.shift(),i--),n&&("fx"===t&&r.unshift("inprogress"),delete a.stop,n.call(e,o,a)),!i&&a&&a.empty.fire()},_queueHooks:function(e,t){var r=t+"queueHooks";return Te.get(e,r)||Te.access(e,r,{empty:ve.Callbacks("once memory").add(function(){Te.remove(e,[t+"queue",r])})})}}),ve.fn.extend({queue:function(e,t){var r=2;return"string"!=typeof e&&(t=e,e="fx",r--),arguments.length<r?ve.queue(this[0],e):void 0===t?this:this.each(function(){var r=ve.queue(this,e,t);ve._queueHooks(this,e),"fx"===e&&"inprogress"!==r[0]&&ve.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ve.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var r,i=1,n=ve.Deferred(),a=this,o=this.length,l=function(){--i||n.resolveWith(a,[a])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)(r=Te.get(a[o],e+"queueHooks"))&&r.empty&&(i++,r.empty.add(l));return l(),n.promise(t)}});var Pe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Le=new RegExp("^(?:([+-])=|)("+Pe+")([a-z%]*)$","i"),ze=["Top","Right","Bottom","Left"],He=function(e,t){return e=t||e,"none"===e.style.display||""===e.style.display&&ve.contains(e.ownerDocument,e)&&"none"===ve.css(e,"display")},Ve=function(e,t,r,i){var n,a,o={};for(a in t)o[a]=e.style[a],e.style[a]=t[a];n=r.apply(e,i||[]);for(a in t)e.style[a]=o[a];return n},We={};ve.fn.extend({show:function(){return w(this,!0)},hide:function(){return w(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){He(this)?ve(this).show():ve(this).hide()})}});var Ue=/^(?:checkbox|radio)$/i,Ye=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Xe=/^$|\/(?:java|ecma)script/i,Qe={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Qe.optgroup=Qe.option,Qe.tbody=Qe.tfoot=Qe.colgroup=Qe.caption=Qe.thead,Qe.th=Qe.td;var Je=/<|&#?\w+;/;!function(){var e=ae.createDocumentFragment(),t=e.appendChild(ae.createElement("div")),r=ae.createElement("input");r.setAttribute("type","radio"),r.setAttribute("checked","checked"),r.setAttribute("name","t"),t.appendChild(r),me.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",me.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Ke=ae.documentElement,Ze=/^key/,et=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,tt=/^([^.]*)(?:\.(.+)|)/;ve.event={global:{},add:function(e,t,r,i,n){var a,o,l,s,d,c,u,p,f,h,g,m=Te.get(e);if(m)for(r.handler&&(a=r,r=a.handler,n=a.selector),n&&ve.find.matchesSelector(Ke,n),r.guid||(r.guid=ve.guid++),(s=m.events)||(s=m.events={}),(o=m.handle)||(o=m.handle=function(t){return void 0!==ve&&ve.event.triggered!==t.type?ve.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(Oe)||[""],d=t.length;d--;)l=tt.exec(t[d])||[],f=g=l[1],h=(l[2]||"").split(".").sort(),f&&(u=ve.event.special[f]||{},f=(n?u.delegateType:u.bindType)||f,u=ve.event.special[f]||{},c=ve.extend({type:f,origType:g,data:i,handler:r,guid:r.guid,selector:n,needsContext:n&&ve.expr.match.needsContext.test(n),namespace:h.join(".")},a),(p=s[f])||(p=s[f]=[],p.delegateCount=0,u.setup&&!1!==u.setup.call(e,i,h,o)||e.addEventListener&&e.addEventListener(f,o)),u.add&&(u.add.call(e,c),c.handler.guid||(c.handler.guid=r.guid)),n?p.splice(p.delegateCount++,0,c):p.push(c),ve.event.global[f]=!0)},remove:function(e,t,r,i,n){var a,o,l,s,d,c,u,p,f,h,g,m=Te.hasData(e)&&Te.get(e);if(m&&(s=m.events)){for(t=(t||"").match(Oe)||[""],d=t.length;d--;)if(l=tt.exec(t[d])||[],f=g=l[1],h=(l[2]||"").split(".").sort(),f){for(u=ve.event.special[f]||{},f=(i?u.delegateType:u.bindType)||f,p=s[f]||[],l=l[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=a=p.length;a--;)c=p[a],!n&&g!==c.origType||r&&r.guid!==c.guid||l&&!l.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(p.splice(a,1),c.selector&&p.delegateCount--,u.remove&&u.remove.call(e,c));o&&!p.length&&(u.teardown&&!1!==u.teardown.call(e,h,m.handle)||ve.removeEvent(e,f,m.handle),delete s[f])}else for(f in s)ve.event.remove(e,f+t[d],r,i,!0);ve.isEmptyObject(s)&&Te.remove(e,"handle events")}},dispatch:function(e){var t,r,i,n,a,o,l=ve.event.fix(e),s=new Array(arguments.length),d=(Te.get(this,"events")||{})[l.type]||[],c=ve.event.special[l.type]||{};for(s[0]=l,t=1;t<arguments.length;t++)s[t]=arguments[t];if(l.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,l)){for(o=ve.event.handlers.call(this,l,d),t=0;(n=o[t++])&&!l.isPropagationStopped();)for(l.currentTarget=n.elem,r=0;(a=n.handlers[r++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!l.rnamespace.test(a.namespace)||(l.handleObj=a,l.data=a.data,void 0!==(i=((ve.event.special[a.origType]||{}).handle||a.handler).apply(n.elem,s))&&!1===(l.result=i)&&(l.preventDefault(),l.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,l),l.result}},handlers:function(e,t){var r,i,n,a,o,l=[],s=t.delegateCount,d=e.target;if(s&&d.nodeType&&!("click"===e.type&&e.button>=1))for(;d!==this;d=d.parentNode||this)if(1===d.nodeType&&("click"!==e.type||!0!==d.disabled)){for(a=[],o={},r=0;r<s;r++)i=t[r],n=i.selector+" ",void 0===o[n]&&(o[n]=i.needsContext?ve(n,this).index(d)>-1:ve.find(n,this,null,[d]).length),o[n]&&a.push(i);a.length&&l.push({elem:d,handlers:a})}return d=this,s<t.length&&l.push({elem:d,handlers:t.slice(s)}),l},addProp:function(e,t){Object.defineProperty(ve.Event.prototype,e,{enumerable:!0,configurable:!0,get:ve.isFunction(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[ve.expando]?e:new ve.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==S()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===S()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&ve.nodeName(this,"input"))return this.click(),!1},_default:function(e){return ve.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},ve.removeEvent=function(e,t,r){e.removeEventListener&&e.removeEventListener(t,r)},ve.Event=function(e,t){if(!(this instanceof ve.Event))return new ve.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?j:D,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&ve.extend(this,t),this.timeStamp=e&&e.timeStamp||ve.now(),this[ve.expando]=!0},ve.Event.prototype={constructor:ve.Event,isDefaultPrevented:D,isPropagationStopped:D,isImmediatePropagationStopped:D,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=j,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=j,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=j,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},ve.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Ze.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&et.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},ve.event.addProp),ve.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){ve.event.special[e]={delegateType:t,bindType:t,handle:function(e){var r,i=this,n=e.relatedTarget,a=e.handleObj;return n&&(n===i||ve.contains(i,n))||(e.type=a.origType,r=a.handler.apply(this,arguments),e.type=t),r}}}),ve.fn.extend({on:function(e,t,r,i){return q(this,e,t,r,i)},one:function(e,t,r,i){return q(this,e,t,r,i,1)},off:function(e,t,r){var i,n;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,ve(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(n in e)this.off(n,t,e[n]);return this}return!1!==t&&"function"!=typeof t||(r=t,t=void 0),!1===r&&(r=D),this.each(function(){ve.event.remove(this,e,r,t)})}});var rt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,it=/<script|<style|<link/i,nt=/checked\s*(?:[^=]|=\s*.checked.)/i,at=/^true\/(.*)/,ot=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;ve.extend({htmlPrefilter:function(e){return e.replace(rt,"<$1></$2>")},clone:function(e,t,r){var i,n,a,o,l=e.cloneNode(!0),s=ve.contains(e.ownerDocument,e);if(!(me.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ve.isXMLDoc(e)))for(o=$(l),a=$(e),i=0,n=a.length;i<n;i++)O(a[i],o[i]);if(t)if(r)for(a=a||$(e),o=o||$(l),i=0,n=a.length;i<n;i++)k(a[i],o[i]);else k(e,l);return o=$(l,"script"),o.length>0&&x(o,!s&&$(e,"script")),l},cleanData:function(e){for(var t,r,i,n=ve.event.special,a=0;void 0!==(r=e[a]);a++)if(Ee(r)){if(t=r[Te.expando]){if(t.events)for(i in t.events)n[i]?ve.event.remove(r,i):ve.removeEvent(r,i,t.handle);r[Te.expando]=void 0}r[Ae.expando]&&(r[Ae.expando]=void 0)}}}),ve.fn.extend({detach:function(e){return N(this,e,!0)},remove:function(e){return N(this,e)},text:function(e){return Ge(this,function(e){return void 0===e?ve.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return I(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){_(this,e).appendChild(e)}})},prepend:function(){return I(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=_(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return I(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return I(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(ve.cleanData($(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return ve.clone(this,e,t)})},html:function(e){return Ge(this,function(e){var t=this[0]||{},r=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!it.test(e)&&!Qe[(Ye.exec(e)||["",""])[1].toLowerCase()]){e=ve.htmlPrefilter(e);try{for(;r<i;r++)t=this[r]||{},1===t.nodeType&&(ve.cleanData($(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return I(this,arguments,function(t){var r=this.parentNode;ve.inArray(this,e)<0&&(ve.cleanData($(this)),r&&r.replaceChild(t,this))},e)}}),ve.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ve.fn[e]=function(e){for(var r,i=[],n=ve(e),a=n.length-1,o=0;o<=a;o++)r=o===a?this:this.clone(!0),ve(n[o])[t](r),de.apply(i,r.get());return this.pushStack(i)}});var lt=/^margin/,st=new RegExp("^("+Pe+")(?!px)[a-z%]+$","i"),dt=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=r),t.getComputedStyle(e)};!function(){function e(){if(l){l.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",l.innerHTML="",Ke.appendChild(o);var e=r.getComputedStyle(l);t="1%"!==e.top,a="2px"===e.marginLeft,i="4px"===e.width,l.style.marginRight="50%",n="4px"===e.marginRight,Ke.removeChild(o),l=null}}var t,i,n,a,o=ae.createElement("div"),l=ae.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",me.clearCloneStyle="content-box"===l.style.backgroundClip,o.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",o.appendChild(l),ve.extend(me,{pixelPosition:function(){return e(),t},boxSizingReliable:function(){return e(),i},pixelMarginRight:function(){return e(),n},reliableMarginLeft:function(){return e(),a}}))}();var ct=/^(none|table(?!-c[ea]).+)/,ut={position:"absolute",visibility:"hidden",display:"block"},pt={letterSpacing:"0",fontWeight:"400"},ft=["Webkit","Moz","ms"],ht=ae.createElement("div").style;ve.extend({cssHooks:{opacity:{get:function(e,t){if(t){var r=G(e,"opacity");return""===r?"1":r}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var n,a,o,l=ve.camelCase(t),s=e.style;if(t=ve.cssProps[l]||(ve.cssProps[l]=T(l)||l),o=ve.cssHooks[t]||ve.cssHooks[l],void 0===r)return o&&"get"in o&&void 0!==(n=o.get(e,!1,i))?n:s[t];a=typeof r,"string"===a&&(n=Le.exec(r))&&n[1]&&(r=b(e,t,n),a="number"),null!=r&&r===r&&("number"===a&&(r+=n&&n[3]||(ve.cssNumber[l]?"":"px")),me.clearCloneStyle||""!==r||0!==t.indexOf("background")||(s[t]="inherit"),o&&"set"in o&&void 0===(r=o.set(e,r,i))||(s[t]=r))}},css:function(e,t,r,i){var n,a,o,l=ve.camelCase(t);return t=ve.cssProps[l]||(ve.cssProps[l]=T(l)||l),o=ve.cssHooks[t]||ve.cssHooks[l],o&&"get"in o&&(n=o.get(e,!0,r)),void 0===n&&(n=G(e,t,i)),"normal"===n&&t in pt&&(n=pt[t]),""===r||r?(a=parseFloat(n),!0===r||isFinite(a)?a||0:n):n}}),ve.each(["height","width"],function(e,t){ve.cssHooks[t]={get:function(e,r,i){if(r)return!ct.test(ve.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?B(e,t,i):Ve(e,ut,function(){return B(e,t,i)})},set:function(e,r,i){var n,a=i&&dt(e),o=i&&M(e,t,i,"border-box"===ve.css(e,"boxSizing",!1,a),a);return o&&(n=Le.exec(r))&&"px"!==(n[3]||"px")&&(e.style[t]=r,r=ve.css(e,t)),A(e,r,o)}}}),ve.cssHooks.marginLeft=E(me.reliableMarginLeft,function(e,t){if(t)return(parseFloat(G(e,"marginLeft"))||e.getBoundingClientRect().left-Ve(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),ve.each({margin:"",padding:"",border:"Width"},function(e,t){ve.cssHooks[e+t]={expand:function(r){for(var i=0,n={},a="string"==typeof r?r.split(" "):[r];i<4;i++)n[e+ze[i]+t]=a[i]||a[i-2]||a[0];return n}},lt.test(e)||(ve.cssHooks[e+t].set=A)}),ve.fn.extend({css:function(e,t){return Ge(this,function(e,t,r){var i,n,a={},o=0;if(ve.isArray(t)){for(i=dt(e),n=t.length;o<n;o++)a[t[o]]=ve.css(e,t[o],!1,i);return a}return void 0!==r?ve.style(e,t,r):ve.css(e,t)},e,t,arguments.length>1)}}),ve.Tween=P,P.prototype={constructor:P,init:function(e,t,r,i,n,a){this.elem=e,this.prop=r,this.easing=n||ve.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=a||(ve.cssNumber[r]?"":"px")},cur:function(){var e=P.propHooks[this.prop];return e&&e.get?e.get(this):P.propHooks._default.get(this)},run:function(e){var t,r=P.propHooks[this.prop];return this.options.duration?this.pos=t=ve.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):P.propHooks._default.set(this),this}},P.prototype.init.prototype=P.prototype,P.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=ve.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){ve.fx.step[e.prop]?ve.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[ve.cssProps[e.prop]]&&!ve.cssHooks[e.prop]?e.elem[e.prop]=e.now:ve.style(e.elem,e.prop,e.now+e.unit)}}},P.propHooks.scrollTop=P.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ve.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},ve.fx=P.prototype.init,ve.fx.step={};var gt,mt,vt=/^(?:toggle|show|hide)$/,bt=/queueHooks$/;ve.Animation=ve.extend(Y,{tweeners:{"*":[function(e,t){var r=this.createTween(e,t);return b(r.elem,e,Le.exec(t),r),r}]},tweener:function(e,t){ve.isFunction(e)?(t=e,e=["*"]):e=e.match(Oe);for(var r,i=0,n=e.length;i<n;i++)r=e[i],Y.tweeners[r]=Y.tweeners[r]||[],Y.tweeners[r].unshift(t)},prefilters:[W],prefilter:function(e,t){t?Y.prefilters.unshift(e):Y.prefilters.push(e)}}),ve.speed=function(e,t,r){var i=e&&"object"==typeof e?ve.extend({},e):{complete:r||!r&&t||ve.isFunction(e)&&e,duration:e,easing:r&&t||t&&!ve.isFunction(t)&&t};return ve.fx.off||ae.hidden?i.duration=0:"number"!=typeof i.duration&&(i.duration in ve.fx.speeds?i.duration=ve.fx.speeds[i.duration]:i.duration=ve.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){ve.isFunction(i.old)&&i.old.call(this),i.queue&&ve.dequeue(this,i.queue)},i},ve.fn.extend({fadeTo:function(e,t,r,i){return this.filter(He).css("opacity",0).show().end().animate({opacity:t},e,r,i)},animate:function(e,t,r,i){var n=ve.isEmptyObject(e),a=ve.speed(t,r,i),o=function(){var t=Y(this,ve.extend({},e),a);(n||Te.get(this,"finish"))&&t.stop(!0)};return o.finish=o,n||!1===a.queue?this.each(o):this.queue(a.queue,o)},stop:function(e,t,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",a=ve.timers,o=Te.get(this);if(n)o[n]&&o[n].stop&&i(o[n]);else for(n in o)o[n]&&o[n].stop&&bt.test(n)&&i(o[n]);for(n=a.length;n--;)a[n].elem!==this||null!=e&&a[n].queue!==e||(a[n].anim.stop(r),t=!1,a.splice(n,1));!t&&r||ve.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,r=Te.get(this),i=r[e+"queue"],n=r[e+"queueHooks"],a=ve.timers,o=i?i.length:0;for(r.finish=!0,ve.queue(this,e,[]),n&&n.stop&&n.stop.call(this,!0),t=a.length;t--;)a[t].elem===this&&a[t].queue===e&&(a[t].anim.stop(!0),a.splice(t,1));for(t=0;t<o;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete r.finish})}}),ve.each(["toggle","show","hide"],function(e,t){var r=ve.fn[t];ve.fn[t]=function(e,i,n){return null==e||"boolean"==typeof e?r.apply(this,arguments):this.animate(H(t,!0),e,i,n)}}),ve.each({slideDown:H("show"),slideUp:H("hide"),slideToggle:H("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ve.fn[e]=function(e,r,i){return this.animate(t,e,r,i)}}),ve.timers=[],ve.fx.tick=function(){var e,t=0,r=ve.timers;for(gt=ve.now();t<r.length;t++)(e=r[t])()||r[t]!==e||r.splice(t--,1);r.length||ve.fx.stop(),gt=void 0},ve.fx.timer=function(e){ve.timers.push(e),e()?ve.fx.start():ve.timers.pop()},ve.fx.interval=13,ve.fx.start=function(){mt||(mt=r.requestAnimationFrame?r.requestAnimationFrame(L):r.setInterval(ve.fx.tick,ve.fx.interval))},ve.fx.stop=function(){r.cancelAnimationFrame?r.cancelAnimationFrame(mt):r.clearInterval(mt),mt=null},ve.fx.speeds={slow:600,fast:200,_default:400},ve.fn.delay=function(e,t){return e=ve.fx?ve.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,i){var n=r.setTimeout(t,e);i.stop=function(){r.clearTimeout(n)}})},function(){var e=ae.createElement("input"),t=ae.createElement("select"),r=t.appendChild(ae.createElement("option"));e.type="checkbox",me.checkOn=""!==e.value,me.optSelected=r.selected,e=ae.createElement("input"),e.value="t",e.type="radio",me.radioValue="t"===e.value}();var yt,wt=ve.expr.attrHandle;ve.fn.extend({attr:function(e,t){return Ge(this,ve.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ve.removeAttr(this,e)})}}),ve.extend({attr:function(e,t,r){var i,n,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return void 0===e.getAttribute?ve.prop(e,t,r):(1===a&&ve.isXMLDoc(e)||(n=ve.attrHooks[t.toLowerCase()]||(ve.expr.match.bool.test(t)?yt:void 0)),void 0!==r?null===r?void ve.removeAttr(e,t):n&&"set"in n&&void 0!==(i=n.set(e,r,t))?i:(e.setAttribute(t,r+""),r):n&&"get"in n&&null!==(i=n.get(e,t))?i:(i=ve.find.attr(e,t),null==i?void 0:i))},attrHooks:{type:{set:function(e,t){if(!me.radioValue&&"radio"===t&&ve.nodeName(e,"input")){var r=e.value;return e.setAttribute("type",t),r&&(e.value=r),t}}}},removeAttr:function(e,t){var r,i=0,n=t&&t.match(Oe);if(n&&1===e.nodeType)for(;r=n[i++];)e.removeAttribute(r)}}),yt={set:function(e,t,r){return!1===t?ve.removeAttr(e,r):e.setAttribute(r,r),r}},ve.each(ve.expr.match.bool.source.match(/\w+/g),function(e,t){var r=wt[t]||ve.find.attr;wt[t]=function(e,t,i){var n,a,o=t.toLowerCase();return i||(a=wt[o],wt[o]=n,n=null!=r(e,t,i)?o:null,wt[o]=a),n}});var $t=/^(?:input|select|textarea|button)$/i,xt=/^(?:a|area)$/i;ve.fn.extend({prop:function(e,t){return Ge(this,ve.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[ve.propFix[e]||e]})}}),ve.extend({prop:function(e,t,r){var i,n,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&ve.isXMLDoc(e)||(t=ve.propFix[t]||t,n=ve.propHooks[t]),void 0!==r?n&&"set"in n&&void 0!==(i=n.set(e,r,t))?i:e[t]=r:n&&"get"in n&&null!==(i=n.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=ve.find.attr(e,"tabindex");return t?parseInt(t,10):$t.test(e.nodeName)||xt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),me.optSelected||(ve.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),ve.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ve.propFix[this.toLowerCase()]=this}),ve.fn.extend({addClass:function(e){var t,r,i,n,a,o,l,s=0;if(ve.isFunction(e))return this.each(function(t){ve(this).addClass(e.call(this,t,Q(this)))});if("string"==typeof e&&e)for(t=e.match(Oe)||[];r=this[s++];)if(n=Q(r),i=1===r.nodeType&&" "+X(n)+" "){for(o=0;a=t[o++];)i.indexOf(" "+a+" ")<0&&(i+=a+" ");l=X(i),n!==l&&r.setAttribute("class",l)}return this},removeClass:function(e){var t,r,i,n,a,o,l,s=0;if(ve.isFunction(e))return this.each(function(t){ve(this).removeClass(e.call(this,t,Q(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(Oe)||[];r=this[s++];)if(n=Q(r),i=1===r.nodeType&&" "+X(n)+" "){for(o=0;a=t[o++];)for(;i.indexOf(" "+a+" ")>-1;)i=i.replace(" "+a+" "," ");l=X(i),n!==l&&r.setAttribute("class",l)}return this},toggleClass:function(e,t){var r=typeof e;return"boolean"==typeof t&&"string"===r?t?this.addClass(e):this.removeClass(e):ve.isFunction(e)?this.each(function(r){ve(this).toggleClass(e.call(this,r,Q(this),t),t)}):this.each(function(){var t,i,n,a;if("string"===r)for(i=0,n=ve(this),a=e.match(Oe)||[];t=a[i++];)n.hasClass(t)?n.removeClass(t):n.addClass(t);else void 0!==e&&"boolean"!==r||(t=Q(this),t&&Te.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Te.get(this,"__className__")||""))})},hasClass:function(e){var t,r,i=0;for(t=" "+e+" ";r=this[i++];)if(1===r.nodeType&&(" "+X(Q(r))+" ").indexOf(t)>-1)return!0;return!1}});var Ct=/\r/g;ve.fn.extend({val:function(e){var t,r,i,n=this[0];{if(arguments.length)return i=ve.isFunction(e),this.each(function(r){var n;1===this.nodeType&&(n=i?e.call(this,r,ve(this).val()):e,null==n?n="":"number"==typeof n?n+="":ve.isArray(n)&&(n=ve.map(n,function(e){return null==e?"":e+""})),(t=ve.valHooks[this.type]||ve.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,n,"value")||(this.value=n))});if(n)return(t=ve.valHooks[n.type]||ve.valHooks[n.nodeName.toLowerCase()])&&"get"in t&&void 0!==(r=t.get(n,"value"))?r:(r=n.value,"string"==typeof r?r.replace(Ct,""):null==r?"":r)}}}),ve.extend({valHooks:{option:{get:function(e){var t=ve.find.attr(e,"value");return null!=t?t:X(ve.text(e))}},select:{get:function(e){var t,r,i,n=e.options,a=e.selectedIndex,o="select-one"===e.type,l=o?null:[],s=o?a+1:n.length;for(i=a<0?s:o?a:0;i<s;i++)if(r=n[i],(r.selected||i===a)&&!r.disabled&&(!r.parentNode.disabled||!ve.nodeName(r.parentNode,"optgroup"))){if(t=ve(r).val(),o)return t;l.push(t)}return l},set:function(e,t){for(var r,i,n=e.options,a=ve.makeArray(t),o=n.length;o--;)i=n[o],(i.selected=ve.inArray(ve.valHooks.option.get(i),a)>-1)&&(r=!0);return r||(e.selectedIndex=-1),a}}}}),ve.each(["radio","checkbox"],function(){ve.valHooks[this]={set:function(e,t){if(ve.isArray(t))return e.checked=ve.inArray(ve(e).val(),t)>-1}},me.checkOn||(ve.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var jt=/^(?:focusinfocus|focusoutblur)$/;ve.extend(ve.event,{trigger:function(e,t,i,n){var a,o,l,s,d,c,u,p=[i||ae],f=fe.call(e,"type")?e.type:e,h=fe.call(e,"namespace")?e.namespace.split("."):[];if(o=l=i=i||ae,3!==i.nodeType&&8!==i.nodeType&&!jt.test(f+ve.event.triggered)&&(f.indexOf(".")>-1&&(h=f.split("."),f=h.shift(),h.sort()),d=f.indexOf(":")<0&&"on"+f,e=e[ve.expando]?e:new ve.Event(f,"object"==typeof e&&e),e.isTrigger=n?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),t=null==t?[e]:ve.makeArray(t,[e]),u=ve.event.special[f]||{},n||!u.trigger||!1!==u.trigger.apply(i,t))){if(!n&&!u.noBubble&&!ve.isWindow(i)){for(s=u.delegateType||f,jt.test(s+f)||(o=o.parentNode);o;o=o.parentNode)p.push(o),l=o;l===(i.ownerDocument||ae)&&p.push(l.defaultView||l.parentWindow||r)}for(a=0;(o=p[a++])&&!e.isPropagationStopped();)e.type=a>1?s:u.bindType||f,c=(Te.get(o,"events")||{})[e.type]&&Te.get(o,"handle"),c&&c.apply(o,t),(c=d&&o[d])&&c.apply&&Ee(o)&&(e.result=c.apply(o,t),!1===e.result&&e.preventDefault());return e.type=f,n||e.isDefaultPrevented()||u._default&&!1!==u._default.apply(p.pop(),t)||!Ee(i)||d&&ve.isFunction(i[f])&&!ve.isWindow(i)&&(l=i[d],l&&(i[d]=null),ve.event.triggered=f,i[f](),ve.event.triggered=void 0,l&&(i[d]=l)),e.result}},simulate:function(e,t,r){var i=ve.extend(new ve.Event,r,{type:e,isSimulated:!0});ve.event.trigger(i,null,t)}}),ve.fn.extend({trigger:function(e,t){return this.each(function(){ve.event.trigger(e,t,this)})},triggerHandler:function(e,t){var r=this[0];if(r)return ve.event.trigger(e,t,r,!0)}}),ve.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){ve.fn[t]=function(e,r){return arguments.length>0?this.on(t,null,e,r):this.trigger(t)}}),ve.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),me.focusin="onfocusin"in r,me.focusin||ve.each({focus:"focusin",blur:"focusout"},function(e,t){var r=function(e){ve.event.simulate(t,e.target,ve.event.fix(e))};ve.event.special[t]={setup:function(){var i=this.ownerDocument||this,n=Te.access(i,t);n||i.addEventListener(e,r,!0),Te.access(i,t,(n||0)+1)},teardown:function(){var i=this.ownerDocument||this,n=Te.access(i,t)-1;n?Te.access(i,t,n):(i.removeEventListener(e,r,!0),Te.remove(i,t))}}});var Dt=r.location,St=ve.now(),qt=/\?/;ve.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new r.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||ve.error("Invalid XML: "+e),t};var _t=/\[\]$/,Ft=/\r?\n/g,Rt=/^(?:submit|button|image|reset|file)$/i,kt=/^(?:input|select|textarea|keygen)/i;ve.param=function(e,t){var r,i=[],n=function(e,t){var r=ve.isFunction(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==r?"":r)};if(ve.isArray(e)||e.jquery&&!ve.isPlainObject(e))ve.each(e,function(){n(this.name,this.value)});else for(r in e)J(r,e[r],t,n);return i.join("&")},ve.fn.extend({serialize:function(){return ve.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ve.prop(this,"elements");return e?ve.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ve(this).is(":disabled")&&kt.test(this.nodeName)&&!Rt.test(e)&&(this.checked||!Ue.test(e))}).map(function(e,t){var r=ve(this).val();return null==r?null:ve.isArray(r)?ve.map(r,function(e){return{name:t.name,value:e.replace(Ft,"\r\n")}}):{name:t.name,value:r.replace(Ft,"\r\n")}}).get()}});var Ot=/%20/g,It=/#.*$/,Nt=/([?&])_=[^&]*/,Gt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Et=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Tt=/^(?:GET|HEAD)$/,At=/^\/\//,Mt={},Bt={},Pt="*/".concat("*"),Lt=ae.createElement("a");Lt.href=Dt.href,ve.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Dt.href,type:"GET",isLocal:Et.test(Dt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Pt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":ve.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?ee(ee(e,ve.ajaxSettings),t):ee(ve.ajaxSettings,e)},ajaxPrefilter:K(Mt),ajaxTransport:K(Bt),ajax:function(e,t){function i(e,t,i,l){var d,p,f,w,$,x=t;c||(c=!0,s&&r.clearTimeout(s),n=void 0,o=l||"",C.readyState=e>0?4:0,d=e>=200&&e<300||304===e,i&&(w=te(h,C,i)),w=re(h,w,C,d),d?(h.ifModified&&($=C.getResponseHeader("Last-Modified"),$&&(ve.lastModified[a]=$),($=C.getResponseHeader("etag"))&&(ve.etag[a]=$)),204===e||"HEAD"===h.type?x="nocontent":304===e?x="notmodified":(x=w.state,p=w.data,f=w.error,d=!f)):(f=x,!e&&x||(x="error",e<0&&(e=0))),C.status=e,C.statusText=(t||x)+"",d?v.resolveWith(g,[p,x,C]):v.rejectWith(g,[C,x,f]),C.statusCode(y),y=void 0,u&&m.trigger(d?"ajaxSuccess":"ajaxError",[C,h,d?p:f]),b.fireWith(g,[C,x]),u&&(m.trigger("ajaxComplete",[C,h]),--ve.active||ve.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,a,o,l,s,d,c,u,p,f,h=ve.ajaxSetup({},t),g=h.context||h,m=h.context&&(g.nodeType||g.jquery)?ve(g):ve.event,v=ve.Deferred(),b=ve.Callbacks("once memory"),y=h.statusCode||{},w={},$={},x="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(c){if(!l)for(l={};t=Gt.exec(o);)l[t[1].toLowerCase()]=t[2];t=l[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(e,t){return null==c&&(e=$[e.toLowerCase()]=$[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==c&&(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)C.always(e[C.status]);else for(t in e)y[t]=[y[t],e[t]];return this},abort:function(e){var t=e||x;return n&&n.abort(t),i(0,t),this}};if(v.promise(C),h.url=((e||h.url||Dt.href)+"").replace(At,Dt.protocol+"//"),h.type=t.method||t.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(Oe)||[""],null==h.crossDomain){d=ae.createElement("a");try{d.href=h.url,d.href=d.href,h.crossDomain=Lt.protocol+"//"+Lt.host!=d.protocol+"//"+d.host}catch(e){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=ve.param(h.data,h.traditional)),Z(Mt,h,t,C),c)return C;u=ve.event&&h.global,u&&0==ve.active++&&ve.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Tt.test(h.type),a=h.url.replace(It,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(Ot,"+")):(f=h.url.slice(a.length),h.data&&(a+=(qt.test(a)?"&":"?")+h.data,delete h.data),!1===h.cache&&(a=a.replace(Nt,"$1"),f=(qt.test(a)?"&":"?")+"_="+St+++f),h.url=a+f),h.ifModified&&(ve.lastModified[a]&&C.setRequestHeader("If-Modified-Since",ve.lastModified[a]),ve.etag[a]&&C.setRequestHeader("If-None-Match",ve.etag[a])),(h.data&&h.hasContent&&!1!==h.contentType||t.contentType)&&C.setRequestHeader("Content-Type",h.contentType),C.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Pt+"; q=0.01":""):h.accepts["*"]);for(p in h.headers)C.setRequestHeader(p,h.headers[p]);if(h.beforeSend&&(!1===h.beforeSend.call(g,C,h)||c))return C.abort();if(x="abort",b.add(h.complete),C.done(h.success),C.fail(h.error),n=Z(Bt,h,t,C)){if(C.readyState=1,u&&m.trigger("ajaxSend",[C,h]),c)return C;h.async&&h.timeout>0&&(s=r.setTimeout(function(){C.abort("timeout")},h.timeout));try{c=!1,n.send(w,i)}catch(e){if(c)throw e;i(-1,e)}}else i(-1,"No Transport");return C},getJSON:function(e,t,r){return ve.get(e,t,r,"json")},getScript:function(e,t){return ve.get(e,void 0,t,"script")}}),ve.each(["get","post"],function(e,t){ve[t]=function(e,r,i,n){return ve.isFunction(r)&&(n=n||i,i=r,r=void 0),ve.ajax(ve.extend({url:e,type:t,dataType:n,data:r,success:i},ve.isPlainObject(e)&&e))}}),ve._evalUrl=function(e){return ve.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},ve.fn.extend({wrapAll:function(e){var t;return this[0]&&(ve.isFunction(e)&&(e=e.call(this[0])),t=ve(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return ve.isFunction(e)?this.each(function(t){ve(this).wrapInner(e.call(this,t))}):this.each(function(){var t=ve(this),r=t.contents();r.length?r.wrapAll(e):t.append(e)})},wrap:function(e){var t=ve.isFunction(e);return this.each(function(r){ve(this).wrapAll(t?e.call(this,r):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){ve(this).replaceWith(this.childNodes)}),this}}),ve.expr.pseudos.hidden=function(e){return!ve.expr.pseudos.visible(e)},ve.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},ve.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(e){}};var zt={0:200,1223:204},Ht=ve.ajaxSettings.xhr();me.cors=!!Ht&&"withCredentials"in Ht,me.ajax=Ht=!!Ht,ve.ajaxTransport(function(e){var t,i;if(me.cors||Ht&&!e.crossDomain)return{send:function(n,a){var o,l=e.xhr();if(l.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)l[o]=e.xhrFields[o];e.mimeType&&l.overrideMimeType&&l.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(o in n)l.setRequestHeader(o,n[o]);t=function(e){return function(){t&&(t=i=l.onload=l.onerror=l.onabort=l.onreadystatechange=null,"abort"===e?l.abort():"error"===e?"number"!=typeof l.status?a(0,"error"):a(l.status,l.statusText):a(zt[l.status]||l.status,l.statusText,"text"!==(l.responseType||"text")||"string"!=typeof l.responseText?{binary:l.response}:{text:l.responseText},l.getAllResponseHeaders()))}},l.onload=t(),i=l.onerror=t("error"),void 0!==l.onabort?l.onabort=i:l.onreadystatechange=function(){4===l.readyState&&r.setTimeout(function(){t&&i()})},t=t("abort");try{l.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),ve.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),ve.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return ve.globalEval(e),e}}}),ve.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),ve.ajaxTransport("script",function(e){if(e.crossDomain){var t,r;return{send:function(i,n){t=ve("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",r=function(e){t.remove(),r=null,e&&n("error"===e.type?404:200,e.type)}),ae.head.appendChild(t[0])},abort:function(){r&&r()}}}});var Vt=[],Wt=/(=)\?(?=&|$)|\?\?/;ve.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Vt.pop()||ve.expando+"_"+St++;return this[e]=!0,e}}),ve.ajaxPrefilter("json jsonp",function(e,t,i){var n,a,o,l=!1!==e.jsonp&&(Wt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Wt.test(e.data)&&"data");if(l||"jsonp"===e.dataTypes[0])return n=e.jsonpCallback=ve.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,l?e[l]=e[l].replace(Wt,"$1"+n):!1!==e.jsonp&&(e.url+=(qt.test(e.url)?"&":"?")+e.jsonp+"="+n),e.converters["script json"]=function(){return o||ve.error(n+" was not called"),o[0]},e.dataTypes[0]="json",a=r[n],r[n]=function(){o=arguments},i.always(function(){void 0===a?ve(r).removeProp(n):r[n]=a,e[n]&&(e.jsonpCallback=t.jsonpCallback,Vt.push(n)),o&&ve.isFunction(a)&&a(o[0]),o=a=void 0}),"script"}),me.createHTMLDocument=function(){var e=ae.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),ve.parseHTML=function(e,t,r){if("string"!=typeof e)return[];"boolean"==typeof t&&(r=t,t=!1);var i,n,a;return t||(me.createHTMLDocument?(t=ae.implementation.createHTMLDocument(""),i=t.createElement("base"),i.href=ae.location.href,t.head.appendChild(i)):t=ae),n=Se.exec(e),a=!r&&[],n?[t.createElement(n[1])]:(n=C([e],t,a),a&&a.length&&ve(a).remove(),ve.merge([],n.childNodes))},ve.fn.load=function(e,t,r){var i,n,a,o=this,l=e.indexOf(" ");return l>-1&&(i=X(e.slice(l)),e=e.slice(0,l)),ve.isFunction(t)?(r=t,t=void 0):t&&"object"==typeof t&&(n="POST"),o.length>0&&ve.ajax({url:e,type:n||"GET",dataType:"html",data:t}).done(function(e){a=arguments,o.html(i?ve("<div>").append(ve.parseHTML(e)).find(i):e)}).always(r&&function(e,t){o.each(function(){r.apply(this,a||[e.responseText,t,e])})}),this},ve.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ve.fn[t]=function(e){return this.on(t,e)}}),ve.expr.pseudos.animated=function(e){return ve.grep(ve.timers,function(t){return e===t.elem}).length},ve.offset={setOffset:function(e,t,r){var i,n,a,o,l,s,d,c=ve.css(e,"position"),u=ve(e),p={};"static"===c&&(e.style.position="relative"),l=u.offset(),a=ve.css(e,"top"),s=ve.css(e,"left"),d=("absolute"===c||"fixed"===c)&&(a+s).indexOf("auto")>-1,d?(i=u.position(),o=i.top,n=i.left):(o=parseFloat(a)||0,n=parseFloat(s)||0),ve.isFunction(t)&&(t=t.call(e,r,ve.extend({},l))),null!=t.top&&(p.top=t.top-l.top+o),null!=t.left&&(p.left=t.left-l.left+n),"using"in t?t.using.call(e,p):u.css(p)}},ve.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){ve.offset.setOffset(this,e,t)});var t,r,i,n,a=this[0];if(a)return a.getClientRects().length?(i=a.getBoundingClientRect(),i.width||i.height?(n=a.ownerDocument,r=ie(n),t=n.documentElement,{top:i.top+r.pageYOffset-t.clientTop,left:i.left+r.pageXOffset-t.clientLeft}):i):{top:0,left:0}},position:function(){if(this[0]){var e,t,r=this[0],i={top:0,left:0};return"fixed"===ve.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ve.nodeName(e[0],"html")||(i=e.offset()),i={top:i.top+ve.css(e[0],"borderTopWidth",!0),left:i.left+ve.css(e[0],"borderLeftWidth",!0)}),{top:t.top-i.top-ve.css(r,"marginTop",!0),left:t.left-i.left-ve.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===ve.css(e,"position");)e=e.offsetParent;return e||Ke})}}),ve.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var r="pageYOffset"===t;ve.fn[e]=function(i){return Ge(this,function(e,i,n){var a=ie(e);if(void 0===n)return a?a[t]:e[i];a?a.scrollTo(r?a.pageXOffset:n,r?n:a.pageYOffset):e[i]=n},e,i,arguments.length)}}),ve.each(["top","left"],function(e,t){ve.cssHooks[t]=E(me.pixelPosition,function(e,r){if(r)return r=G(e,t),st.test(r)?ve(e).position()[t]+"px":r})}),ve.each({Height:"height",Width:"width"},function(e,t){ve.each({padding:"inner"+e,content:t,"":"outer"+e},function(r,i){ve.fn[i]=function(n,a){var o=arguments.length&&(r||"boolean"!=typeof n),l=r||(!0===n||!0===a?"margin":"border");return Ge(this,function(t,r,n){var a;return ve.isWindow(t)?0===i.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(a=t.documentElement,Math.max(t.body["scroll"+e],a["scroll"+e],t.body["offset"+e],a["offset"+e],a["client"+e])):void 0===n?ve.css(t,r,l):ve.style(t,r,n,l)},t,o?n:void 0,o)}})}),ve.fn.extend({bind:function(e,t,r){return this.on(e,null,t,r)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,r,i){return this.on(t,e,r,i)},undelegate:function(e,t,r){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",r)}}),ve.parseJSON=JSON.parse,i=[],void 0!==(n=function(){return ve}.apply(t,i))&&(e.exports=n);var Ut=r.jQuery,Yt=r.$;return ve.noConflict=function(e){return r.$===ve&&(r.$=Yt),e&&r.jQuery===ve&&(r.jQuery=Ut),ve},a||(r.jQuery=r.$=ve),ve})},function(e,t,r){var i=jQuery=r(0);i.fn.serializeObject=function(){var e={},t=this.serializeArray();return i.each(t,function(){e[this.name]?(e[this.name].push||(e[this.name]=[e[this.name]]),e[this.name].push(this.value||"")):e[this.name]=this.value||""}),e},e.exports={add:function(e,t){return e+t},jsonSubmit:function(e,t,r){var n=i("#"+e);i.ajax({url:n.attr("action"),data:JSON.stringify(n.serializeObject()),type:"post",dataType:"json",contentType:"application/json",success:function(e){void 0!=t&&t(e)},error:function(e,t,i){void 0!=r&&r(e,t,i)}})}}},function(e,t,r){function i(){var e=.8*n(window).width();return n("#list2").setGridWidth(e),console.log("width:"+e),e}var n=jQuery=r(0);r(4),r(6),r(7);var a=r(2).add;n(function(){console.log(a(12,7)),jQuery("#list2").jqGrid({url:"/demo/jqgrid",datatype:"json",mtype:"POST",colNames:["id","firstName","lastName","address"],colModel:[{name:"id",index:"id",width:90,align:"left"},{name:"firstName",index:"firstName",width:90,align:"right"},{name:"lastName",index:"lastName",width:100},{name:"address",index:"address",width:150,sortable:!1}],width:i(),rowNum:10,rowList:[10,20,30],pager:"#pager2",sortname:"id",viewrecords:!0,sortorder:"desc",caption:"JSON Example"}),jQuery("#list2").jqGrid("navGrid","#pager2",{edit:!1,add:!1,del:!1}),n(window).resize(i)})},function(e,t,r){var i,n,a;!function(o){n=[r(1),r(5)],i=o,void 0!==(a="function"==typeof i?i.apply(t,n):i)&&(e.exports=a)}(function(e){var t=0,r=Array.prototype.slice;return e.cleanData=function(t){return function(r){var i,n,a;for(a=0;null!=(n=r[a]);a++)try{i=e._data(n,"events"),i&&i.remove&&e(n).triggerHandler("remove")}catch(e){}t(r)}}(e.cleanData),e.widget=function(t,r,i){var n,a,o,l={},s=t.split(".")[0];t=t.split(".")[1];var d=s+"-"+t;return i||(i=r,r=e.Widget),e.isArray(i)&&(i=e.extend.apply(null,[{}].concat(i))),e.expr[":"][d.toLowerCase()]=function(t){return!!e.data(t,d)},e[s]=e[s]||{},n=e[s][t],a=e[s][t]=function(e,t){if(!this._createWidget)return new a(e,t);arguments.length&&this._createWidget(e,t)},e.extend(a,n,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),o=new r,o.options=e.widget.extend({},o.options),e.each(i,function(t,i){if(!e.isFunction(i))return void(l[t]=i);l[t]=function(){function e(){return r.prototype[t].apply(this,arguments)}function n(e){return r.prototype[t].apply(this,e)}return function(){var t,r=this._super,a=this._superApply;return this._super=e,this._superApply=n,t=i.apply(this,arguments),this._super=r,this._superApply=a,t}}()}),a.prototype=e.widget.extend(o,{widgetEventPrefix:n?o.widgetEventPrefix||t:t},l,{constructor:a,namespace:s,widgetName:t,widgetFullName:d}),n?(e.each(n._childConstructors,function(t,r){var i=r.prototype;e.widget(i.namespace+"."+i.widgetName,a,r._proto)}),delete n._childConstructors):r._childConstructors.push(a),e.widget.bridge(t,a),a},e.widget.extend=function(t){for(var i,n,a=r.call(arguments,1),o=0,l=a.length;o<l;o++)for(i in a[o])n=a[o][i],a[o].hasOwnProperty(i)&&void 0!==n&&(e.isPlainObject(n)?t[i]=e.isPlainObject(t[i])?e.widget.extend({},t[i],n):e.widget.extend({},n):t[i]=n);return t},e.widget.bridge=function(t,i){var n=i.prototype.widgetFullName||t;e.fn[t]=function(a){var o="string"==typeof a,l=r.call(arguments,1),s=this;return o?this.length||"instance"!==a?this.each(function(){var r,i=e.data(this,n);return"instance"===a?(s=i,!1):i?e.isFunction(i[a])&&"_"!==a.charAt(0)?(r=i[a].apply(i,l),r!==i&&void 0!==r?(s=r&&r.jquery?s.pushStack(r.get()):r,!1):void 0):e.error("no such method '"+a+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+a+"'")}):s=void 0:(l.length&&(a=e.widget.extend.apply(null,[a].concat(l))),this.each(function(){var t=e.data(this,n);t?(t.option(a||{}),t._init&&t._init()):e.data(this,n,new i(a,this))})),s}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(r,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=t++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),this.classesElementLookup={},i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),r),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){var t=this;this._destroy(),e.each(this.classesElementLookup,function(e,r){t._removeClass(r,e)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:e.noop,widget:function(){return this.element},option:function(t,r){var i,n,a,o=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(o={},i=t.split("."),t=i.shift(),i.length){for(n=o[t]=e.widget.extend({},this.options[t]),a=0;a<i.length-1;a++)n[i[a]]=n[i[a]]||{},n=n[i[a]];if(t=i.pop(),1===arguments.length)return void 0===n[t]?null:n[t];n[t]=r}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];o[t]=r}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return"classes"===e&&this._setOptionClasses(t),this.options[e]=t,"disabled"===e&&this._setOptionDisabled(t),this},_setOptionClasses:function(t){var r,i,n;for(r in t)n=this.classesElementLookup[r],t[r]!==this.options.classes[r]&&n&&n.length&&(i=e(n.get()),this._removeClass(n,r),i.addClass(this._classes({element:i,keys:r,classes:t,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(t){function r(r,a){var o,l;for(l=0;l<r.length;l++)o=n.classesElementLookup[r[l]]||e(),o=e(t.add?e.unique(o.get().concat(t.element.get())):o.not(t.element).get()),n.classesElementLookup[r[l]]=o,i.push(r[l]),a&&t.classes[r[l]]&&i.push(t.classes[r[l]])}var i=[],n=this;return t=e.extend({element:this.element,classes:this.options.classes||{}},t),this._on(t.element,{remove:"_untrackClassesElement"}),t.keys&&r(t.keys.match(/\S+/g)||[],!0),t.extra&&r(t.extra.match(/\S+/g)||[]),i.join(" ")},_untrackClassesElement:function(t){var r=this;e.each(r.classesElementLookup,function(i,n){-1!==e.inArray(t.target,n)&&(r.classesElementLookup[i]=e(n.not(t.target).get()))})},_removeClass:function(e,t,r){return this._toggleClass(e,t,r,!1)},_addClass:function(e,t,r){return this._toggleClass(e,t,r,!0)},_toggleClass:function(e,t,r,i){i="boolean"==typeof i?i:r;var n="string"==typeof e||null===e,a={extra:n?t:r,keys:n?e:t,element:n?this.element:e,add:i};return a.element.toggleClass(this._classes(a),i),this},_on:function(t,r,i){var n,a=this;"boolean"!=typeof t&&(i=r,r=t,t=!1),i?(r=n=e(r),this.bindings=this.bindings.add(r)):(i=r,r=this.element,n=this.widget()),e.each(i,function(i,o){function l(){if(t||!0!==a.options.disabled&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof o?a[o]:o).apply(a,arguments)}"string"!=typeof o&&(l.guid=o.guid=o.guid||l.guid||e.guid++);var s=i.match(/^([\w:-]*)\s*(.*)$/),d=s[1]+a.eventNamespace,c=s[2];c?n.on(d,c,l):r.on(d,l)})},_off:function(t,r){r=(r||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(r).off(r),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function r(){return("string"==typeof e?i[e]:e).apply(i,arguments)}var i=this;return setTimeout(r,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(e(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(e(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,r,i){var n,a,o=this.options[t];if(i=i||{},r=e.Event(r),r.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),r.target=this.element[0],a=r.originalEvent)for(n in a)n in r||(r[n]=a[n]);return this.element.trigger(r,i),!(e.isFunction(o)&&!1===o.apply(this.element[0],[r].concat(i))||r.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,r){e.Widget.prototype["_"+t]=function(i,n,a){"string"==typeof n&&(n={effect:n});var o,l=n?!0===n||"number"==typeof n?r:n.effect||r:t;n=n||{},"number"==typeof n&&(n={duration:n}),o=!e.isEmptyObject(n),n.complete=a,n.delay&&i.delay(n.delay),o&&e.effects&&e.effects.effect[l]?i[t](n):l!==t&&i[l]?i[l](n.duration,n.easing,a):i.queue(function(r){e(this)[t](),a&&a.call(i[0]),r()})}}),e.widget})},function(e,t,r){var i,n,a;!function(o){n=[r(1)],i=o,void 0!==(a="function"==typeof i?i.apply(t,n):i)&&(e.exports=a)}(function(e){return e.ui=e.ui||{},e.ui.version="1.12.1"})},function(e,t,r){var i,n,a;!function(o){"use strict";n=[r(1)],i=o,void 0!==(a="function"==typeof i?i.apply(t,n):i)&&(e.exports=a)}(function(e){"use strict";var t={isRTL:!1,defaults:{recordtext:"{0} - {1}　共 {2} 条",emptyrecords:"无数据显示",loadtext:"读取中...",pgtext:" {0} 共 {1} 页",pgfirst:"First Page",pglast:"Last Page",pgnext:"Next Page",pgprev:"Previous Page",pgrecs:"Records per Page",showhide:"Toggle Expand Collapse Grid",savetext:"正在保存..."},search:{caption:"搜索...",Find:"查找",Reset:"重置",odata:[{oper:"eq",text:"等于　　"},{oper:"ne",text:"不等　　"},{oper:"lt",text:"小于　　"},{oper:"le",text:"小于等于"},{oper:"gt",text:"大于　　"},{oper:"ge",text:"大于等于"},{oper:"bw",text:"开始于"},{oper:"bn",text:"不开始于"},{oper:"in",text:"属于　　"},{oper:"ni",text:"不属于"},{oper:"ew",text:"结束于"},{oper:"en",text:"不结束于"},{oper:"cn",text:"包含　　"},{oper:"nc",text:"不包含"},{oper:"nu",text:"不存在"},{oper:"nn",text:"存在"}],groupOps:[{op:"AND",text:"所有"},{op:"OR",text:"任一"}],addGroupTitle:"Add subgroup",deleteGroupTitle:"Delete group",addRuleTitle:"Add rule",deleteRuleTitle:"Delete rule",operandTitle:"Click to select search operation.",resetTitle:"Reset Search Value"},edit:{addCaption:"添加记录",editCaption:"编辑记录",bSubmit:"提交",bCancel:"取消",bClose:"关闭",saveData:"数据已改变，是否保存？",bYes:"是",bNo:"否",bExit:"取消",msg:{required:"此字段必需",number:"请输入有效数字",minValue:"输值必须大于等于 ",maxValue:"输值必须小于等于 ",email:"这不是有效的e-mail地址",integer:"请输入有效整数",date:"请输入有效时间",url:"无效网址。前缀必须为 ('http://' 或 'https://')",nodefined:" 未定义！",novalue:" 需要返回值！",customarray:"自定义函数需要返回数组！",customfcheck:"必须有自定义函数!"}},view:{caption:"查看记录",bClose:"关闭"},del:{caption:"删除",msg:"删除所选记录？",bSubmit:"删除",bCancel:"取消"},nav:{edittext:"",edittitle:"编辑所选记录",addtext:"",addtitle:"添加新记录",deltext:"",deltitle:"删除所选记录",searchtext:"",searchtitle:"查找",refreshtext:"",refreshtitle:"刷新表格",alertcap:"注意",alerttext:"请选择记录",viewtext:"",viewtitle:"查看所选记录",savetext:"",savetitle:"Save row",canceltext:"",canceltitle:"Cancel row editing"},col:{caption:"选择列",bSubmit:"确定",bCancel:"取消"},errors:{errcap:"错误",nourl:"没有设置url",norecords:"没有要处理的记录",model:"colNames 和 colModel 长度不等！"},formatter:{integer:{thousandsSeparator:",",defaultValue:"0"},number:{decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,defaultValue:"0.00"},currency:{decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,prefix:"",suffix:"",defaultValue:"0.00"},date:{dayNames:["日","一","二","三","四","五","六","星期日","星期一","星期二","星期三","星期四","星期五","星期六"],monthNames:["一","二","三","四","五","六","七","八","九","十","十一","十二","一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],AmPm:["am","pm","上午","下午"],S:function(){return""},srcformat:"Y-m-d",newformat:"Y-m-d",masks:{ShortDate:"n/j/Y",LongDate:"l, F d, Y",FullDateTime:"l, F d, Y g:i:s A",MonthDay:"F d",ShortTime:"g:i A",LongTime:"g:i:s A",YearMonth:"F, Y"}}}};e.jgrid=e.jgrid||{},e.extend(!0,e.jgrid,{defaults:{locale:"cn"},locales:{cn:e.extend({},t,{name:"中文",nameEnglish:"Chinese"}),zh:e.extend({},t,{name:"中文",nameEnglish:"Chinese"}),"zh-CN":e.extend({},t,{name:"中文(中华人民共和国)",nameEnglish:"Chinese (Simplified, PRC)"})}})})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(e,t){"use strict";__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(1)],void 0!==(__WEBPACK_AMD_DEFINE_RESULT__=function(r){return t(r,e.document)}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}("undefined"!=typeof window?window:this,function($,document){"use strict";function Aggregation(e,t,r){if(!(this instanceof Aggregation))return new Aggregation(e);this.aggregator=e,this.finilized=!1,this.context=t,this.pivotOptions=r}function ArrayOfFieldsets(e,t,r,i,n){var a,o,l=i.length,s=this,d=function(e,t){var r=e,i=t;if(null==r&&(r=""),null==i&&(i=""),r=String(r),i=String(i),this.caseSensitive||(r=r.toUpperCase(),i=i.toUpperCase()),r===i){if(e===t)return 0;if(void 0===e)return-1;if(void 0===t)return 1;if(null===e)return-1;if(null===t)return 1}return r<i?-1:1},c=function(e,t){return e=Number(e),t=Number(t),e===t?0:e<t?-1:1},u=function(e,t){return e=Math.floor(Number(e)),t=Math.floor(Number(t)),e===t?0:e<t?-1:1};for(s.items=[],s.indexesOfSourceData=[],s.trimByCollect=e,s.caseSensitive=t,s.skipSort=r,s.fieldLength=l,s.fieldNames=new Array(l),s.fieldSortDirection=new Array(l),s.fieldCompare=new Array(l),a=0;a<l;a++){switch(o=i[a],s.fieldNames[a]=o[n||"dataName"],o.sorttype){case"integer":case"int":s.fieldCompare[a]=u;break;case"number":case"currency":case"float":s.fieldCompare[a]=c;break;default:s.fieldCompare[a]=$.isFunction(o.compare)?o.compare:d}s.fieldSortDirection[a]="desc"===o.sortorder?-1:1}}var englishLanguageDefaults={name:"English (United States)",nameEnglish:"English (United States)",isRTL:!1,defaults:{recordtext:"View {0} - {1} of {2}",emptyrecords:"No records to view",loadtext:"Loading...",pgtext:"Page {0} of {1}",pgfirst:"First Page",pglast:"Last Page",pgnext:"Next Page",pgprev:"Previous Page",pgrecs:"Records per Page",showhide:"Toggle Expand Collapse Grid",savetext:"Saving..."},search:{caption:"Search...",Find:"Find",Reset:"Reset",odata:[{oper:"eq",text:"equal"},{oper:"ne",text:"not equal"},{oper:"lt",text:"less"},{oper:"le",text:"less or equal"},{oper:"gt",text:"greater"},{oper:"ge",text:"greater or equal"},{oper:"bw",text:"begins with"},{oper:"bn",text:"does not begin with"},{oper:"in",text:"is in"},{oper:"ni",text:"is not in"},{oper:"ew",text:"ends with"},{oper:"en",text:"does not end with"},{oper:"cn",text:"contains"},{oper:"nc",text:"does not contain"},{oper:"nu",text:"is null"},{oper:"nn",text:"is not null"}],groupOps:[{op:"AND",text:"all"},{op:"OR",text:"any"}],addGroupTitle:"Add subgroup",deleteGroupTitle:"Delete group",addRuleTitle:"Add rule",deleteRuleTitle:"Delete rule",operandTitle:"Click to select search operation.",resetTitle:"Reset Search Value"},edit:{addCaption:"Add Record",editCaption:"Edit Record",bSubmit:"Submit",bCancel:"Cancel",bClose:"Close",saveData:"Data has been changed! Save changes?",bYes:"Yes",bNo:"No",bExit:"Cancel",msg:{required:"Field is required",number:"Please, enter valid number",minValue:"value must be greater than or equal to ",maxValue:"value must be less than or equal to",email:"is not a valid e-mail",integer:"Please, enter valid integer value",date:"Please, enter valid date value",url:"is not a valid URL. Prefix required ('http://' or 'https://')",nodefined:" is not defined!",novalue:" return value is required!",customarray:"Custom function should return array!",customfcheck:"Custom function should be present in case of custom checking!"}},view:{caption:"View Record",bClose:"Close"},del:{caption:"Delete",msg:"Delete selected record(s)?",bSubmit:"Delete",bCancel:"Cancel"},nav:{edittext:"",edittitle:"Edit selected row",addtext:"",addtitle:"Add new row",deltext:"",deltitle:"Delete selected row",searchtext:"",searchtitle:"Find records",refreshtext:"",refreshtitle:"Reload Grid",alertcap:"Warning",alerttext:"Please, select row",viewtext:"",viewtitle:"View selected row",savetext:"",savetitle:"Save row",canceltext:"",canceltitle:"Cancel row editing"},col:{caption:"Select columns",bSubmit:"Ok",bCancel:"Cancel"},errors:{errcap:"Error",nourl:"No url is set",norecords:"No records to process",model:"Length of colNames <> colModel!"},formatter:{integer:{thousandsSeparator:",",defaultValue:"0"},number:{decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,defaultValue:"0.00"},currency:{decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,prefix:"",suffix:"",defaultValue:"0.00"},date:{dayNames:["Sun","Mon","Tue","Wed","Thr","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],AmPm:["am","pm","AM","PM"],S:function(e){var t=["st","nd","rd","th"];return e<11||e>13?t[Math.min((e-1)%10,3)]:"th"},srcformat:"Y-m-d",newformat:"n/j/Y",masks:{ShortDate:"n/j/Y",LongDate:"l, F d, Y",FullDateTime:"l, F d, Y g:i:s A",MonthDay:"F d",ShortTime:"g:i A",LongTime:"g:i:s A",YearMonth:"F, Y"}}}};$.jgrid=$.jgrid||{};var jgrid=$.jgrid;jgrid.locales=jgrid.locales||{};var locales=jgrid.locales,COMPONENT_NAMES={GRID_BOX_DIV:0,GRID_OVERLAY_DIV:1,LOADING_DIV:2,DIALOG_ALERT_DIV:3,DIALOG_SEARCH_DIV:4,DIALOG_VIEW_DIV:5,DIALOG_EDIT_DIV:6,DIALOG_DELETE_DIV:7,GRID_VIEW_DIV:8,TITLE_BAR_DIV:9,UPPER_TOOLBAR_DIV:10,TOP_PAGER_DIV:11,HEADER_DIV:12,HEADER_BOX_DIV:13,HEADER_TABLE:14,HEADER_COLS_ROW:15,HEADER_COLS:16,HEADER_ROWS:47,HEADER_TH:48,HEADER_SORTABLE_DIV:49,HEADER_RESIZABLE_SPAN:50,HEADER_SELECT_ALL_ROWS_CHECKBOX:45,SEARCH_TOOLBAR:17,BODY_DIV:18,BODY_SCROLL_FULL_DIV:19,BODY_SCROLL_TOP_DIV:20,BODY_TABLE:21,GRID:21,BODY_COLS_ROW:22,BODY_COLS:23,BODY_DATA_ROWS:24,FOOTER_DIV:25,FOOTER_BOX_DIV:26,FOOTER_TABLE:27,FOOTER_DATA_ROWS:28,BOTTOM_TOOLBAR_DIV:29,FROZEN_HEADER_DIV:30,FROZEN_HEADER_TABLE:31,FROZEN_HEADER_COLS_ROW:32,FROZEN_HEADER_COLS:33,FROZEN_SEARCH_TOOLBAR:34,FROZEN_FOOTER_DIV:35,FROZEN_FOOTER_TABLE:36,FROZEN_FOOTER_DATA_ROWS:37,FROZEN_BODY_DIV:38,FROZEN_BODY_TABLE:39,FROZEN_BODY_COLS_ROW:40,FROZEN_BODY_COLS:41,FROZEN_BODY_DATA_ROWS:42,COLUMN_RESIZER_DIV:43,BOTTOM_PAGER_DIV:44,SEARCH_OPERATION_MENU_UL:46};(null==jgrid.defaults||$.isEmptyObject(locales)||void 0===locales["en-US"])&&(void 0===locales["en-US"]&&$.extend(!0,jgrid,{locales:{"en-US":englishLanguageDefaults}}),jgrid.defaults=jgrid.defaults||{},void 0===jgrid.defaults.locale&&(jgrid.defaults.locale="en-US")),jgrid.defaults=jgrid.defaults||{};var defaults=jgrid.defaults;$.extend(!0,jgrid,{version:"4.14.0",productName:"free jqGrid",defaults:{},search:{},edit:{},view:{},del:{},nav:{},col:{},errors:{},formatter:{unused:""},icons:{jQueryUI:{common:"ui-icon",pager:{first:"ui-icon-seek-first",prev:"ui-icon-seek-prev",next:"ui-icon-seek-next",last:"ui-icon-seek-end"},sort:{asc:"ui-icon-triangle-1-n",desc:"ui-icon-triangle-1-s"},gridMinimize:{visible:"ui-icon-circle-triangle-n",hidden:"ui-icon-circle-triangle-s"},nav:{edit:"ui-icon-pencil",add:"ui-icon-plus",del:"ui-icon-trash",search:"ui-icon-search",refresh:"ui-icon-refresh",view:"ui-icon-document",save:"ui-icon-disk",cancel:"ui-icon-cancel",newbutton:"ui-icon-newwin"},actions:{edit:"ui-icon-pencil",del:"ui-icon-trash",save:"ui-icon-disk",cancel:"ui-icon-cancel"},form:{close:"ui-icon-closethick",prev:"ui-icon-triangle-1-w",next:"ui-icon-triangle-1-e",save:"ui-icon-disk",undo:"ui-icon-close",del:"ui-icon-scissors",cancel:"ui-icon-cancel",resizableLtr:"ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se"},search:{search:"ui-icon-search",reset:"ui-icon-arrowreturnthick-1-w",query:"ui-icon-comment"},subgrid:{plus:"ui-icon-plus",minus:"ui-icon-minus",openLtr:"ui-icon-carat-1-sw",openRtl:"ui-icon-carat-1-se"},grouping:{plus:"ui-icon-circlesmall-plus",minus:"ui-icon-circlesmall-minus"},treeGrid:{minus:"ui-icon-triangle-1-s",leaf:"ui-icon-radio-off",plusLtr:"ui-icon-triangle-1-e",plusRtl:"ui-icon-triangle-1-w"}},fontAwesome:{common:"fa",pager:{common:"fa-fw",first:"fa-step-backward",prev:"fa-backward",next:"fa-forward",last:"fa-step-forward"},sort:{common:"fa-lg",asc:"fa-sort-asc",desc:"fa-sort-desc"},gridMinimize:{visible:"fa-chevron-circle-up",hidden:"fa-chevron-circle-down"},nav:{common:"fa-lg fa-fw",edit:"fa-pencil",add:"fa-plus",del:"fa-trash-o",search:"fa-search",refresh:"fa-refresh",view:"fa-file-o",save:"fa-floppy-o",cancel:"fa-ban",newbutton:"fa-external-link"},actions:{common:"fa-fw",edit:"fa-pencil",del:"fa-trash-o",save:"fa-floppy-o",cancel:"fa-ban"},form:{close:"fa-times",prev:"fa-caret-left",next:"fa-caret-right",save:"fa-floppy-o",undo:"fa-undo",del:"fa-trash-o",cancel:"fa-ban",resizableLtr:"fa-rss fa-rotate-270"},search:{search:"fa-search",reset:"fa-undo",query:"fa-comments-o"},subgrid:{common:"fa-fw",plus:"fa-plus",minus:"fa-minus",openLtr:"fa-reply fa-rotate-180",openRtl:"fa-share fa-rotate-180"},grouping:{common:"fa-fw",plus:"fa-plus-square-o",minus:"fa-minus-square-o"},treeGrid:{common:"fa-fw",minus:"fa-lg fa-sort-desc",leaf:"fa-dot-circle-o",plusLtr:"fa-lg fa-caret-right",plusRtl:"fa-lg fa-caret-left"}},glyph:{common:"glyphicon",pager:{common:"",first:"glyphicon-step-backward",prev:"glyphicon-backward",next:"glyphicon-forward",last:"glyphicon-step-forward"},sort:{common:"",asc:"glyphicon-triangle-top",desc:"glyphicon-triangle-bottom"},gridMinimize:{visible:"glyphicon-circle-arrow-up",hidden:"glyphicon-circle-arrow-down"},nav:{common:"",edit:"glyphicon-edit",add:"glyphicon-plus",del:"glyphicon-trash",search:"glyphicon-search",refresh:"glyphicon-refresh",view:"glyphicon-file",save:"glyphicon-save",cancel:"glyphicon-ban-circle",newbutton:"glyphicon-new-window"},actions:{common:"",edit:"glyphicon-edit",del:"glyphicon-trash",save:"glyphicon-save",cancel:"glyphicon-ban-circle"},form:{close:"glyphicon-remove-circle",prev:"glyphicon-step-backward",next:"glyphicon-step-forward",save:"glyphicon-save",undo:"glyphicon-repeat",del:"glyphicon-trash",cancel:"glyphicon-ban-circle",resizableLtr:"glyphicon-import"},search:{search:"glyphicon-search",reset:"glyphicon-repeat",query:"glyphicon-cog"},subgrid:{common:"",plus:"glyphicon-zoom-in",minus:"glyphicon-zoom-out",openLtr:"glyphicon-indent-left",openRtl:"glyphicon-indent-left"},grouping:{common:"",plus:"glyphicon-expand",minus:"glyphicon-collapse-down"},treeGrid:{common:"",minus:"glyphicon-triangle-bottom",leaf:"glyphicon-record",plusLtr:"glyphicon-triangle-right",plusRtl:"glyphicon-triangle-left"}}},guiStyles:{jQueryUI:{gBox:"ui-jqgrid-jquery-ui ui-widget ui-widget-content ui-corner-all",gView:"",overlay:"ui-widget-overlay",loading:"ui-state-default ui-state-active",hDiv:"ui-state-default ui-corner-top",hTable:"",colHeaders:"ui-state-default",states:{select:"ui-state-highlight",disabled:"ui-state-disabled ui-jqgrid-disablePointerEvents",hover:"ui-state-hover",error:"ui-state-error",active:"ui-state-active",textOfClickable:"ui-state-default"},dialog:{header:"ui-widget-header ui-dialog-titlebar ui-corner-all ui-helper-clearfix",window:"ui-jqgrid-jquery-ui ui-widget ui-widget-content ui-corner-all ui-front",document:"",subdocument:"",body:"",footer:"",content:"ui-widget-content",hr:"ui-widget-content",closeButton:"ui-corner-all",fmButton:"ui-state-default",dataField:"ui-widget-content ui-corner-all",viewCellLabel:"ui-widget-content",viewLabel:"",viewCellData:"ui-widget-content",viewData:"",leftCorner:"ui-corner-left",rightCorner:"ui-corner-right",defaultCorner:"ui-corner-all"},filterToolbar:{dataField:"ui-widget-content"},subgrid:{thSubgrid:"ui-state-default",rowSubTable:"ui-widget-content",row:"ui-widget-content",tdStart:"",tdWithIcon:"ui-widget-content",buttonDiv:"",button:"",tdData:"ui-widget-content",legacyTable:""},grid:"",gridRow:"ui-widget-content",rowNum:"ui-state-default",gridFooter:"",rowFooter:"ui-widget-content",gridTitle:"ui-widget-header ui-corner-top",gridError:"ui-state-error",gridErrorText:"",titleButton:"ui-corner-all",toolbarUpper:"ui-state-default",toolbarBottom:"ui-state-default",actionsDiv:"ui-widget-content",actionsButton:"ui-corner-all",pager:{pager:"ui-state-default",pagerButton:"ui-corner-all",pagerInput:"ui-widget-content",pagerSelect:"ui-widget-content"},navButton:"ui-corner-all",searchDialog:{operator:"ui-corner-all",label:"ui-corner-all",elem:"ui-corner-all",operationGroup:"",addRuleButton:"ui-corner-all",deleteRuleButton:"ui-corner-all",operationSelect:"ui-corner-all",addGroupButton:"ui-corner-all",deleteGroupButton:"ui-corner-all"},searchToolbar:{menu:"ui-menu-jqueryui",operButton:"ui-corner-all",clearButton:"ui-corner-all"},top:"ui-corner-top",bottom:"ui-corner-bottom",resizer:"ui-widget-header"},bootstrap:{gBox:"ui-jqgrid-bootstrap",gView:"panel-info",overlay:"modal-backdrop",loading:"alert alert-info",hDiv:"",hTable:"table table-hover table-condensed table-bordered",colHeaders:"",states:{select:"success",disabled:"disabled ui-jqgrid-disablePointerEvents",hover:"active",error:"danger",active:"active",textOfClickable:""},dialog:{header:"modal-header",window:"modal ui-jqgrid-bootstrap",document:"modal-dialog",subdocument:"modal-content",body:"modal-body",footer:"modal-footer",content:"modal-content",hr:"hidden",closeButton:"btn btn-xs btn-default",fmButton:"btn btn-default",dataField:"form-control",viewCellLabel:"",viewLabel:"control-label",viewCellData:"",viewData:"form-control",leftCorner:"",rightCorner:"",defaultCorner:""},filterToolbar:{dataField:"form-control"},subgrid:{thSubgrid:"",rowSubTable:"",row:"",tdStart:"",tdWithIcon:"",buttonDiv:"",button:"btn btn-xs",tdData:"",legacyTable:"table table-condensed table-hover table-bordered"},grid:"table table-condensed table-hover table-bordered",gridRow:"",rowNum:"",gridFooter:"table table-hover table-condensed table-bordered",rowFooter:"",gridTitle:"",gridError:"alert alert-danger",gridErrorText:"sr-only",titleButton:"btn btn-xs btn-default",actionsDiv:"",actionsButton:"btn btn-xs btn-default",toolbarUpper:"",toolbarBottom:"",pager:{pager:"panel-footer",pagerButton:"btn btn-xs",pagerInput:"form-control",pagerSelect:"form-control"},navButton:"btn btn-xs",searchDialog:{operator:"form-control",label:"form-control",elem:"form-control",operationGroup:"form-inline",addRuleButton:"btn btn-xs btn-default",deleteRuleButton:"btn btn-xs btn-default",operationSelect:"form-control",addGroupButton:"btn btn-xs btn-default",deleteGroupButton:"btn btn-xs btn-default"},searchToolbar:{menu:"dropdown-menu",operButton:"btn btn-xs btn-default",clearButton:"btn btn-xs btn-default"},top:"ui-jqgrid-bootstrap-corner-top",bottom:"ui-jqgrid-bootstrap-corner-bottom",resizer:"ui-jqgrid-bootstrap"},bootstrapPrimary:{baseGuiStyle:"bootstrap",dialog:{closeButton:"btn btn-xs close",fmButton:"btn btn-primary"},searchDialog:{addRuleButton:"btn btn-xs btn-primary",deleteRuleButton:"btn btn-xs btn-primary",addGroupButton:"btn btn-xs btn-primary",deleteGroupButton:"btn btn-xs btn-primary"}},bootstrap4:{gBox:"ui-jqgrid-bootstrap",gView:"card",overlay:"modal-backdrop",loading:"alert alert-info",hDiv:"",hTable:"table table-hover table-sm table-bordered",colHeaders:"",states:{select:"table-success",disabled:"disabled ui-jqgrid-disablePointerEvents",hover:"active",error:"danger",active:"active",textOfClickable:""},dialog:{header:"modal-header",window:"modal ui-jqgrid-bootstrap",document:"modal-dialog",subdocument:"modal-content",body:"modal-body",footer:"modal-footer",content:"modal-content",hr:"hidden",closeButton:"btn btn-xs btn-secondary",fmButton:"btn btn-secondary",dataField:"form-control",viewCellLabel:"",viewLabel:"control-label",viewCellData:"",viewData:"form-control",leftCorner:"",rightCorner:"",defaultCorner:""},filterToolbar:{dataField:"form-control"},subgrid:{thSubgrid:"",rowSubTable:"",row:"",tdStart:"",tdWithIcon:"",buttonDiv:"",button:"btn btn-xs",tdData:"",legacyTable:"table table-condensed table-hover table-bordered"},grid:"table table-condensed table-hover table-bordered",gridRow:"",rowNum:"",gridFooter:"table table-hover table-condensed table-bordered",rowFooter:"",gridTitle:"",gridError:"alert alert-danger",gridErrorText:"sr-only",titleButton:"btn btn-xs btn-secondary",actionsDiv:"",actionsButton:"btn btn-xs btn-secondary",toolbarUpper:"",toolbarBottom:"",pager:{pager:"card-footer",pagerButton:"btn btn-xs",pagerInput:"form-control",pagerSelect:"form-control"},navButton:"btn btn-xs",searchDialog:{operator:"form-control",label:"form-control",elem:"form-control",operationGroup:"form-inline",addRuleButton:"btn btn-xs btn-secondary",deleteRuleButton:"btn btn-xs btn-secondary",operationSelect:"form-control",addGroupButton:"btn btn-xs btn-secondary",deleteGroupButton:"btn btn-xs btn-secondary"},searchToolbar:{menu:"dropdown-menu",operButton:"btn btn-xs btn-secondary",clearButton:"btn btn-xs btn-secondary"},top:"ui-jqgrid-bootstrap-corner-top",bottom:"ui-jqgrid-bootstrap-corner-bottom",resizer:"ui-jqgrid-bootstrap"}},htmlDecode:function(e){return e&&("&nbsp;"===e||"&#160;"===e||1===e.length&&160===e.charCodeAt(0))?"":e?String(e).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&#x27;/g,"'").replace(/&#x2F;/g,"/").replace(/&#39;/g,"'").replace(/&#47;/g,"/").replace(/&quot;/g,'"').replace(/&amp;/g,"&"):e},htmlEncode:function(e){return e?String(e).replace(/&/g,"&amp;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;").replace(/\//g,"&#47;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):e},oldEncodePostedData:function(e){return e?String(e).replace(/&/g,"&amp;").replace(/\"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):e},oldDecodePostedData:function(e){return e&&("&nbsp;"===e||"&#160;"===e||1===e.length&&160===e.charCodeAt(0))?"":e?String(e).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&amp;/g,"&"):e},clearArray:function(e){for(;e.length>0;)e.pop()},format:function(e){var t=$.makeArray(arguments).slice(1);return null==e&&(e=""),e.replace(/\{(\d+)\}/g,function(e,r){return t[r]})},template:function(e){var t,r=$.makeArray(arguments).slice(1),i=r.length;return null==e&&(e=""),e.replace(/\{([\w\-]+)(?:\:([\w\.]*)(?:\((\.*?)?\))?)?\}/g,function(e,n){var a,o;if(!isNaN(parseInt(n,10)))return r[parseInt(n,10)];for(t=0;t<i;t++)if($.isArray(r[t]))for(a=r[t],o=a.length;o--;)if(n===a[o].nm)return a[o].v})},msie:"Microsoft Internet Explorer"===navigator.appName,msiever:function(){var e=-1,t=/(MSIE) ([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent);return null!=t&&3===t.length&&(e=parseFloat(t[2]||-1)),e},fixMaxHeightOfDiv:function(e){return"Microsoft Internet Explorer"===navigator.appName?Math.min(e,1533917):null!=/(Firefox)/.exec(navigator.userAgent)?Math.min(e,17895696):e},getRelativeRect:function(e){var t,r,i=e instanceof $&&e.length>0?e[0]:e,n=$(i).outerHeight(),a=$(this).closest(".ui-jqgrid")[0];return a?(t=null!=i.getBoundingClientRect?i.getBoundingClientRect():$(i).offset(),r=null!=a.getBoundingClientRect?a.getBoundingClientRect():$(a).offset(),{top:t.top+n-r.top,left:t.left-r.left}):{top:0,left:0}},getCellIndex:function(e){var t=$(e);return t.is("tr")?-1:(t=(t.is("td")||t.is("th")?t:t.closest("td,th"))[0],null==t?-1:jgrid.msie?$.inArray(t,t.parentNode.cells):t.cellIndex)},stripHtml:function(e){return e=String(e),e?(e=e.replace(/<("[^"]*"|'[^']*'|[^'">])*>/gi,""),e&&"&nbsp;"!==e&&"&#160;"!==e?e.replace(/\"/g,"'"):""):e},stripPref:function(e,t){var r=$.type(e);return"string"!==r&&"number"!==r||(e=String(e),t=""!==e?String(t).replace(String(e),""):t),t},getRes:function(e,t){var r,i=t.split("."),n=i.length;if(null!=e){for(r=0;r<n;r++){if(!i[r])return null;if(void 0===(e=e[i[r]]))break;if("string"==typeof e)return e}return e}},parseDate:function(e,t,r,i){var n,a,o,l=/\\.|[dDjlNSwzWFmMntLoYyaABgGhHisueIOPTZcrU]/g,s=0,d=0,c=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[\-+]\d{4})?)\b/g,u=/[^\-+\dA-Z]/g,p="string"==typeof t?t.match(/^\/Date\((([\-+])?[0-9]+)(([\-+])([0-9]{2})([0-9]{2}))?\)\/$/):null,f=function(e,t){for(e=String(e),t=parseInt(t,10)||2;e.length<t;)e="0"+e;return e},h={m:1,d:1,y:1970,h:0,i:0,s:0,u:0},g=function(e,t){return 0===e?12===t&&(t=0):12!==t&&(t+=12),t};if(i=function(e,t){var r,i,n=["AmPm","dayNames","masks","monthNames","userLocalTime","parseRe","S","srcformat"],a=t||{},o=(jgrid.formatter||{}).date||{},l=null==e||null==e.locale?{}:((locales[e.locale]||{}).formatter||{}).date,s=n.length,d={};for(r=0;r<s;r++)i=n[r],void 0!==a[i]?d[i]=a[i]:void 0!==o[i]?d[i]=o[i]:void 0!==l[i]&&(d[i]=l[i]);return d}(this.p,i),void 0===i.parseRe&&(i.parseRe=/[#%\\\/:_;.,\t\s\-]/),i.masks.hasOwnProperty(e)&&(e=i.masks[e]),t&&null!=t)if(isNaN(t)||"u"!==String(e).toLowerCase())if(isNaN(t)||"u1000"!==String(e).toLowerCase())if(t.constructor===Date)s=t;else if(null!==p)s=new Date(parseInt(p[1],10)),p[3]&&(d=60*Number(p[5])+Number(p[6]),d*="-"===p[4]?1:-1,d-=s.getTimezoneOffset(),s.setTime(Number(Number(s)+60*d*1e3)));else{for("ISO8601Long"===i.srcformat&&"Z"===t.charAt(t.length-1)&&(d-=(new Date).getTimezoneOffset()),t=String(t).replace(/\T/g,"#").replace(/\t/,"%").split(i.parseRe),e=e.replace(/\T/g,"#").replace(/\t/,"%").split(i.parseRe),a=0,o=Math.min(e.length,t.length);a<o;a++){switch(e[a]){case"M":n=$.inArray(t[a],i.monthNames),-1!==n&&n<12&&(t[a]=n+1,h.m=t[a]);break;case"F":n=$.inArray(t[a],i.monthNames,12),-1!==n&&n>11&&(t[a]=n+1-12,h.m=t[a]);break;case"n":h.m=parseInt(t[a],10);break;case"j":h.d=parseInt(t[a],10);break;case"g":h.h=parseInt(t[a],10);break;case"a":n=$.inArray(t[a],i.AmPm),-1!==n&&n<2&&t[a]===i.AmPm[n]&&(t[a]=n,h.h=g(t[a],h.h));break;case"A":n=$.inArray(t[a],i.AmPm),-1!==n&&n>1&&t[a]===i.AmPm[n]&&(t[a]=n-2,h.h=g(t[a],h.h))}void 0!==t[a]&&(h[e[a].toLowerCase()]=parseInt(t[a],10))}if(h.f&&(h.m=h.f),0===h.m&&0===h.y&&0===h.d)return"&#160;";h.m=parseInt(h.m,10)-1;var m=h.y;m>=70&&m<=99?h.y=1900+h.y:m>=0&&m<=69&&(h.y=2e3+h.y),s=new Date(h.y,h.m,h.d,h.h,h.i,h.s,h.u),d>0&&s.setTime(Number(Number(s)+60*d*1e3))}else s=new Date(parseFloat(t));else s=new Date(1e3*parseFloat(t));else s=new Date(h.y,h.m,h.d,h.h,h.i,h.s,h.u);if(i.userLocalTime&&0===d&&(d-=(new Date).getTimezoneOffset())>0&&s.setTime(Number(Number(s)+60*d*1e3)),void 0===r)return s;i.masks.hasOwnProperty(r)?r=i.masks[r]:r||(r="Y-m-d");var v=s.getHours(),b=s.getMinutes(),y=s.getDate(),w=s.getMonth()+1,x=s.getTimezoneOffset(),C=s.getSeconds(),j=s.getMilliseconds(),D=s.getDay(),S=s.getFullYear(),q=(D+6)%7+1,_=(new Date(S,w-1,y)-new Date(S,0,1))/864e5,F=q<5?Math.floor((_+q-1)/7)+1:Math.floor((_+q-1)/7)||((new Date(S-1,0,1).getDay()+6)%7<4?53:52),R={d:f(y),D:i.dayNames[D],j:y,l:i.dayNames[D+7],N:q,S:i.S(y),w:D,z:_,W:F,F:i.monthNames[w-1+12],m:f(w),M:i.monthNames[w-1],n:w,t:"?",L:"?",o:"?",Y:S,y:String(S).substring(2),a:v<12?i.AmPm[0]:i.AmPm[1],A:v<12?i.AmPm[2]:i.AmPm[3],B:"?",g:v%12||12,G:v,h:f(v%12||12),H:f(v),i:f(b),s:f(C),u:j,e:"?",I:"?",O:(x>0?"-":"+")+f(100*Math.floor(Math.abs(x)/60)+Math.abs(x)%60,4),P:"?",T:(String(s).match(c)||[""]).pop().replace(u,""),Z:"?",c:"?",r:"?",U:Math.floor(s/1e3)};return r.replace(l,function(e){return R.hasOwnProperty(e)?R[e]:e.substring(1)})},parseDateToNumber:function(e,t){var r=jgrid.parseDate.call(this,e,t);return r instanceof Date?r.getTime():0},jqID:function(e){return String(e).replace(/[!"#$%&'()*+,.\/:; <=>?@\[\\\]\^`{|}~]/g,"\\$&")},getGridComponentId:function(e){var t=this;if(null==t.p||!t.p.id)return"";var r=t.p.id;switch(e){case COMPONENT_NAMES.GRID:return r;case COMPONENT_NAMES.GRID_BOX_DIV:return"gbox_"+r;case COMPONENT_NAMES.GRID_VIEW_DIV:return"gview_"+r;case COMPONENT_NAMES.DIALOG_ALERT_DIV:return"alertmod_"+r;case COMPONENT_NAMES.COLUMN_RESIZER_DIV:return"rs_m"+r;case COMPONENT_NAMES.HEADER_SELECT_ALL_ROWS_CHECKBOX:return"cb_"+r;case COMPONENT_NAMES.SEARCH_OPERATION_MENU_UL:return"sopt_menu";default:return""}},getGridComponentIdSelector:function(e){var t=jgrid.getGridComponentId.call(this,e);return t?"#"+jgrid.jqID(t):""},isHTMLElement:function(e){return"object"==typeof HTMLElement||"function"==typeof HTMLElement?e instanceof HTMLElement:null!=e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName},getGridComponent:function(e,t){var r;if(t instanceof $||t.length>0)r=t[0];else{if(!jgrid.isHTMLElement(t))return $();r=t,t=$(r)}switch(e){case COMPONENT_NAMES.BODY_TABLE:return t.hasClass("ui-jqgrid-bdiv")?t.children("div").children(".ui-jqgrid-btable"):$();case COMPONENT_NAMES.HEADER_TABLE:return t.hasClass("ui-jqgrid-hdiv")?t.children("div").children(".ui-jqgrid-htable"):$();case COMPONENT_NAMES.FOOTER_TABLE:return t.hasClass("ui-jqgrid-sdiv")?t.children("div").children(".ui-jqgrid-ftable"):$();case COMPONENT_NAMES.FROZEN_HEADER_TABLE:return t.hasClass("ui-jqgrid-hdiv")?t.children(".ui-jqgrid-htable"):$();case COMPONENT_NAMES.FROZEN_FOOTER_TABLE:return t.hasClass("ui-jqgrid-sdiv")?t.children(".ui-jqgrid-ftable"):$();case COMPONENT_NAMES.BODY_DIV:return t.hasClass("ui-jqgrid-btable")&&null!=r.grid?$(r.grid.bDiv):$();case COMPONENT_NAMES.HEADER_DIV:return t.hasClass("ui-jqgrid-btable")&&null!=r.grid?$(r.grid.hDiv):$();case COMPONENT_NAMES.FOOTER_DIV:return t.hasClass("ui-jqgrid-btable")&&null!=r.grid?$(r.grid.sDiv):$();default:return $()}},fixScrollOffsetAndhBoxPadding:function(){var e=this,t=e.grid;if(t){var r=e.p,i=t.bDiv,n=function(e){var t=$(e).children("div").first();t.css(t.hasClass("ui-jqgrid-hbox-rtl")?"padding-left":"padding-right",r.scrollOffset),e.scrollLeft=i.scrollLeft};$(i).width()>0&&(r.scrollOffset=i.offsetWidth-i.clientWidth,n(t.hDiv),t.sDiv&&n(t.sDiv))}},mergeCssClasses:function(){var e,t,r,i,n=$.makeArray(arguments),a={},o=[];for(e=0;e<n.length;e++)for(r=String(n[e]).replace(/[\t\r\n\f]/g," ").split(" "),t=0;t<r.length;t++)""===(i=r[t])||a.hasOwnProperty(i)||(a[i]=!0,o.push(i));return o.join(" ")},hasOneFromClasses:function(e,t){var r,i=$(e),n=String(t).replace(/[\t\r\n\f]/g," ").split(" "),a=n.length;for(r=0;r<a;r++)if(i.hasClass(n[r]))return!0;return!1},hasAllClasses:function(e,t){var r,i=$(e),n=String(t).replace(/[\t\r\n\f]/g," ").split(" "),a=n.length;for(r=0;r<a;r++)if(!i.hasClass(n[r]))return!1;return!0},detectRowEditing:function(e){var t,r,i,n=this,a=n.rows,o=n.p,l=$.isFunction;if(!n.grid||null==a||null==o)return null;if(void 0===o.savedRow||0===o.savedRow.length)return null;for(t=0;t<o.savedRow.length;t++)if(r=o.savedRow[t],"number"==typeof r.id&&"number"==typeof r.ic&&void 0!==r.name&&void 0!==r.v&&null!=a[r.id]&&a[r.id].id===e&&l($.fn.jqGrid.restoreCell)){if(null!=(i=a[r.id])&&i.id===e)return{mode:"cellEditing",savedRow:r}}else if(r.id===e&&l($.fn.jqGrid.restoreRow))return{mode:"inlineEditing",savedRow:r};return null},getCell:function(e,t){var r,i,n=this.grid,a=this.p;return n&&a?((e instanceof $||e.length>0)&&(e=e[0]),("object"==typeof HTMLTableRowElement||"function"==typeof HTMLTableRowElement)&&e instanceof HTMLTableRowElement&&null!=e.cells?(i=$(e.cells[t]),r=n.fbRows,null!=r&&t<r[0].cells.length?i.add(r[e.rowIndex].cells[t]):i):$()):$()},getDataFieldOfCell:function(e,t){var r,i=this.p,n=jgrid.getCell.call(this,e,t);return i.treeGrid&&n.children("div.tree-wrap").length>0&&(n=n.children("span.cell-wrapperleaf,span.cell-wrapper")),i.colModel[t].autoResizable?(r=n.children("span."+i.autoResizing.wrapperClassName),0===r.length&&(r=n)):r=n,r},enumEditableCells:function(e,t,r){var i=this,n=i.grid,a=i.rows,o=i.p;if(null==n||null==a||null==o||null==e||null==e.rowIndex||!e.id||!$.isFunction(r))return null;var l,s,d,c,u,p,f,h,g,m,v,b=o.colModel,y=b.length,w=e.rowIndex,x=n.fbRows,C=null!=x,j=C?x[w]:null;for(C&&(e=i.rows[w]),l=0;l<y&&(s=b[l],"cb"===(d=s.name)||"subgrid"===d||"rn"===d||(C&&!s.frozen&&(C=!1),g=(C?j:e).cells[l],m=$(g),m.hasClass("not-editable-cell")||(v=m.width(),!0===o.treeGrid&&d===o.ExpandColumn?(v-=m.children("div.tree-wrap").outerWidth(),m=m.children("span.cell-wrapperleaf,span.cell-wrapper").first()):v=0,u=stripPref(o.idPrefix,e.id),c={rowid:e.id,id:u,iCol:l,iRow:w,cmName:d,cm:s,mode:t,td:g,tr:e,trFrozen:j,dataElement:m[0],dataWidth:v},"local"===o.datatype&&(p=o._index[u],(f=null!=p?o.data[p]:void 0)&&(c.item=f)),s.edittype||(s.edittype="text"),h=s.editable,!0!==(h=$.isFunction(h)?h.call(i,c):h)&&"hidden"!==h||(c.editable=h,!1!==r.call(i,c)))));l++);},getEditedValue:function(e,t,r,i){var n,a,o,l,s,d,c=t.formatoptions||{},u=t.editoptions||{},p=u.custom_value,f="[name="+jgrid.jqID(t.name)+"]",h=this,g=$(h);if("hidden"===i||"readonly"===i)return $(h).jqGrid("getCell",e.closest("tr.jqgrow").attr("id"),t.name);switch(t.edittype){case"checkbox":a=["Yes","No"],"string"==typeof u.value&&(a=u.value.split(":")),n=e.find("input[type=checkbox]").is(":checked")?a[0]:a[1];break;case"text":case"password":case"textarea":case"button":l=e.find("input"+f+",textarea"+f),n=l.val(),"date"===l.prop("type")&&3===String(n).split("-").length&&(o=c.newformat||g.jqGrid("getGridRes","formatter.date.newformat"),n=jgrid.parseDate.call(h,"Y-m-d",n,o));break;case"select":l=e.find("select option:selected"),u.multiple?(s=[],d=[],l.each(function(){s.push($(this).val()),d.push($(this).text())}),n=s.join(","),r.text=d.join(",")):(n=l.val(),r.text=l.text()),r.value=n;break;case"custom":try{if(!$.isFunction(p))throw"e1";if(void 0===(n=p.call(h,e.find(".customelement"),"get")))throw"e2"}catch(e){var m,v=jgrid.info_dialog,b=function(e){g.jqGrid("getGridRes",e)};switch(String(e)){case"e1":m="function 'custom_value' "+b("edit.msg.nodefined");break;case"e2":break;default:m=e.message}v&&$.isFunction(v)?v.call(h,b("errors.errcap"),m,b("edit.bClose")):($.isFunction(defaults.fatalError)?defaults.fatalError:alert)(m)}break;default:n=e.find("*"+f).text()}return n},guid:1,uidPref:"jqg",randId:function(e){return(e||jgrid.uidPref)+jgrid.guid++},getAccessor:function(e,t){var r,i,n,a=[];if($.isFunction(t))return t(e);if(null!=e&&e.hasOwnProperty(t))return e[t];try{if("string"==typeof t&&(a=t.split(".")),n=a.length)for(r=e;null!=r&&n--;)i=a.shift(),r=r[i]}catch(e){}return r},getXmlData:function(e,t,r){var i="string"==typeof t?t.match(/^(.*)\[(\w+)\]$/):null;if($.isFunction(t))return t(e);if(i&&i[2])return i[1]?$(i[1],e).attr(i[2]):$(e).attr(i[2]);if(void 0!==e){var n=$(e).find(t);return r?n:n.length>0?$(n).text():void 0}},cellWidth:function(){var e=$("<div class='ui-jqgrid' style='left:10000px'><div class='ui-jqgrid-view'><div class='ui-jqgrid-bdiv'><table class='ui-jqgrid-btable' style='width:5px;'><tr class='jqgrow'><td style='width:5px;display:block;'></td></tr></table></div></div></div>"),t=e.appendTo("body").find("td").width();return e.remove(),Math.abs(t-5)>.1},isCellClassHidden:function(e){var t=$("<div class='ui-jqgrid' style='left:10000px'><div class='ui-jqgrid-view'><div class='ui-jqgrid-bdiv'><table class='ui-jqgrid-btable' style='width:5px;'><tr class='jqgrow'><td style='width:5px;' class='"+(e||"")+"'></td></tr></table></div></div></div>"),r=t.appendTo("body").find("td").is(":hidden");return t.remove(),r},cell_width:!0,ajaxOptions:{},from:function(source){var context=this,QueryObject=function(d,q){var self=this,_data=d,_usecase=!0,_trim=!1,_query=q,_stripNum=/[\$,%]/g,_lastCommand=null,_lastField=null,_orDepth=0,_negate=!1,_queuedOperator="",_sorting=[],toString=Object.prototype.toString;if("object"!=typeof d||!d.push)throw"data provides is not an array";if(d.length>0&&"object"!=typeof d[0])throw"data items are not objects";return this._hasData=function(){return null!==_data&&0!==_data.length},this._getStr=function(e){var t=[];return _trim&&t.push("jQuery.trim("),t.push("String("+e+" || '')"),_trim&&t.push(")"),_usecase||t.push(".toUpperCase()"),t.join("")},this._strComp=function(e){return"string"==typeof e?".toString()":""},this._group=function(e,t){return{field:e.toString(),unique:t,items:[]}},this._toStr=function(e){return _trim&&(e=$.trim(e)),e=e.toString().replace(/\\/g,"\\\\").replace(/\"/g,'\\"'),_usecase?e:e.toUpperCase()},this._funcLoop=function(e){var t=[];return $.each(_data,function(r,i){t.push(e(i))}),t},this._append=function(e){var t;for(null===_query?_query="":_query+=""===_queuedOperator?" && ":_queuedOperator,t=0;t<_orDepth;t++)_query+="(";_negate&&(_query+="!"),_query+="("+e+")",_negate=!1,_queuedOperator="",_orDepth=0},this._setCommand=function(e,t){_lastCommand=e,_lastField=t},this._resetNegate=function(){_negate=!1},this._repeatCommand=function(e,t){return null===_lastCommand?self:null!==e&&null!==t?_lastCommand(e,t):null===_lastField?_lastCommand(e):_lastCommand(_lastField,e)},this._equals=function(e,t){return 0===self._compare(e,t,1)},this._compare=function(e,t,r){return void 0===r&&(r=1),void 0===e&&(e=null),void 0===t&&(t=null),null===e&&null===t?0:null===e&&null!==t?1:null!==e&&null===t?-1:"[object Date]"===toString.call(e)&&"[object Date]"===toString.call(t)?e<t?-r:e>t?r:0:(_usecase||"number"==typeof e||"number"==typeof t||(e=String(e),t=String(t)),e<t?-r:e>t?r:0)},this._performSort=function(){0!==_sorting.length&&(_data=self._doSort(_data,0))},this._doSort=function(e,t){var r=_sorting[t].by,i=_sorting[t].dir,n=_sorting[t].type,a=_sorting[t].datefmt,o=_sorting[t].sfunc;if(t===_sorting.length-1)return self._getOrder(e,r,i,n,a,o);t++;var l,s,d,c=self._getGroup(e,r,i,n,a),u=[];for(l=0;l<c.length;l++)for(d=self._doSort(c[l].items,t),s=0;s<d.length;s++)u.push(d[s]);return u},this._getOrder=function(e,t,r,i,n,a){var o,l,s,d=[],c=[],u="a"===r?1:-1;void 0===i&&(i="text"),s="float"===i||"number"===i||"currency"===i||"numeric"===i?function(e){var t=parseFloat(String(e).replace(_stripNum,""));return isNaN(t)?Number.NEGATIVE_INFINITY:t}:"int"===i||"integer"===i?function(e){return null!=e?parseFloat(String(e).replace(_stripNum,"")):Number.NEGATIVE_INFINITY}:"date"===i||"datetime"===i?function(e){return jgrid.parseDateToNumber.call(context,n,e)}:$.isFunction(i)?i:function(e){return e=null!=e?$.trim(String(e)):"",_usecase?e:e.toUpperCase()},$.each(e,function(e,r){l=""!==t?jgrid.getAccessor(r,t):r,void 0===l&&(l=""),l=s(l,r),c.push({vSort:l,data:r,index:e})}),$.isFunction(a)?c.sort(function(e,t){return a.call(context,e.vSort,t.vSort,u,e.data,t.data)}):c.sort(function(e,t){return self._compare(e.vSort,t.vSort,u)});for(var p=0,f=e.length;p<f;)o=c[p].index,d.push(e[o]),p++;return d},this._getGroup=function(e,t,r,i,n){var a=[],o=null,l=null;return $.each(self._getOrder(e,t,r,i,n),function(e,r){var i=jgrid.getAccessor(r,t);null==i&&(i=""),self._equals(l,i)||(l=i,null!==o&&a.push(o),o=self._group(t,i)),o.items.push(r)}),null!==o&&a.push(o),a},this.ignoreCase=function(){return _usecase=!1,self},this.useCase=function(){return _usecase=!0,self},this.trim=function(){return _trim=!0,self},this.noTrim=function(){return _trim=!1,self},this.execute=function(){var match=_query,results=[];return null===match?self:($.each(_data,function(){(function(){var localMath='(function (context) {\nvar yesObject = { 1: 1, x: 1, "true": 1, yes: 1, y: 1, on: 1 },noObject = { 0: 1, "false": 1, no: 1, n: 1, off: 1 },normilizeBoolean = function (v) {\nif (typeof v === "string") {\nif (noObject[v.toLowerCase()]) { return false; } else if (yesObject[v.toLowerCase()]) { return true; } }\nreturn !!v;\n},intFunc = function (jQuery, self) { return '+match+"; }; return intFunc.call(context.item, context.jQuery, context.context); }(this))";eval(localMath)&&results.push(this.item)}).call({item:this,jQuery:$,context:context})}),_data=results,self)},this.data=function(){return _data},this.select=function(e){if(self.execute(),$.isFunction(e)){var t=[];return $.each(_data,function(r,i){t.push(e(i))}),t}return self._hasData()?(self._performSort(),_data):[]},this.hasMatch=function(){return!!self._hasData()&&(self.execute(),_data.length>0)},this.andNot=function(e,t,r){return _negate=!_negate,self.and(e,t,r)},this.orNot=function(e,t,r){return _negate=!_negate,self.or(e,t,r)},this.not=function(e,t,r){return self.andNot(e,t,r)},this.and=function(e,t,r){return _queuedOperator=" && ",void 0===e?self:self._repeatCommand(e,t,r)},this.or=function(e,t,r){return _queuedOperator=" || ",void 0===e?self:self._repeatCommand(e,t,r)},this.orBegin=function(){return _orDepth++,self},this.orEnd=function(){return null!==_query&&(_query+=")"),self},this.isNot=function(e){return _negate=!_negate,self.is(e)},this.is=function(e){return self._append("this."+e),self._resetNegate(),self},this._compareValues=function(e,t,r,i,n){var a=t;void 0===r&&(r=null);var o=r,l=void 0===n.stype?"text":n.stype;if(null!==r)switch(l){case"int":case"integer":o=String(o).replace(_stripNum,""),o=isNaN(Number(o))||""===o?"0":Number(o),a="parseInt("+a+"||0,10)",o=String(parseInt(o,10));break;case"boolean":a="normilizeBoolean("+a+")",o="normilizeBoolean("+String(o)+")";break;case"float":case"number":case"currency":case"numeric":o=String(o).replace(_stripNum,""),o=isNaN(Number(o))||""===o?"0":Number(o),a="parseFloat("+a+"||0)",o=String(o);break;case"date":case"datetime":o=String(jgrid.parseDateToNumber.call(context,n.newfmt||"Y-m-d",o)),a='jQuery.jgrid.parseDateToNumber.call(self,"'+n.srcfmt+'",'+a+")";break;default:a=self._getStr(a),o=self._getStr('"'+self._toStr(o)+'"')}return self._append(a+" "+i+" "+o),self._setCommand(e,t),self._resetNegate(),self},this.equals=function(e,t,r){return self._compareValues(self.equals,e,t,"==",r)},this.notEquals=function(e,t,r){return self._compareValues(self.equals,e,t,"!==",r)},this.isNull=function(e,t,r){return self._compareValues(self.equals,e,null,"===",r)},this.greater=function(e,t,r){return self._compareValues(self.greater,e,t,">",r)},this.less=function(e,t,r){return self._compareValues(self.less,e,t,"<",r)},this.greaterOrEquals=function(e,t,r){return self._compareValues(self.greaterOrEquals,e,t,">=",r)},this.lessOrEquals=function(e,t,r){return self._compareValues(self.lessOrEquals,e,t,"<=",r)},this.startsWith=function(e,t){var r=null==t?e:t,i=_trim?$.trim(r.toString()).length:r.toString().length;return self._append(self._getStr(e)+".substr(0,"+i+") == "+self._getStr('"'+self._toStr(t)+'"')),self._setCommand(self.startsWith,e),self._resetNegate(),self},this.endsWith=function(e,t){var r=null==t?e:t,i=_trim?$.trim(r.toString()).length:r.toString().length;return self._append(self._getStr(e)+".substr("+self._getStr(e)+".length-"+i+","+i+') == "'+self._toStr(t)+'"'),self._setCommand(self.endsWith,e),self._resetNegate(),self},this.contains=function(e,t){return self._append(self._getStr(e)+'.indexOf("'+self._toStr(t)+'",0) > -1'),self._setCommand(self.contains,e),self._resetNegate(),self},this.groupBy=function(e,t,r,i){return self._hasData()?self._getGroup(_data,e,t,r,i):null},this.orderBy=function(e,t,r,i,n){return t=null==t?"a":$.trim(t.toString().toLowerCase()),null==r&&(r="text"),null==i&&(i="Y-m-d"),null==n&&(n=!1),"desc"!==t&&"descending"!==t||(t="d"),"asc"!==t&&"ascending"!==t||(t="a"),_sorting.push({by:e,dir:t,type:r,datefmt:i,sfunc:n}),self},this.inSet=function(e,t,r){var i=void 0===t?null:t,n=void 0===r.stype?"text":r.stype;return i=self._getStr('"'+self._toStr(i)+'"'),"text"!==n?self._compareValues(self.equals,e,t,"==",r):(self._append("jQuery.inArray("+self._getStr(e)+","+i+".split('"+(context.p.inFilterSeparator||",")+"')) >= 0"),self._setCommand(self.inSet,e),self._resetNegate(),self)},this.custom=function(e,t,r){return self._append("self.p.customSortOperations."+e+'.filter.call(self,{item:this,cmName:"'+t+'",searchValue:"'+r+'"})'),self._setCommand(self.custom,t),self._resetNegate(),self},self};return new QueryObject(source,null)},serializeFeedback:function(e,t,r){var i,n=this;return n instanceof $&&n.length>0&&(n=n[0]),"string"==typeof r?r:"string"==typeof(i=$(n).triggerHandler(t,r))?i:(null!=i&&"object"==typeof i||(i=r),$.isFunction(e)?e.call(n,i):i)},fullBoolFeedback:function(e,t){var r=this,i=$.makeArray(arguments).slice(2),n=$(r).triggerHandler(t,i);if(n=!1!==n&&"stop"!==n,$.isFunction(e)){var a=e.apply(r,i);!1!==a&&"stop"!==a||(n=!1)}return n},feedback:function(e,t,r,i){var n=this;if(n instanceof $&&n.length>0&&(n=n[0]),null==e||"string"!=typeof i||i.length<2)return null;var a="on"===i.substring(0,2)?"jqGrid"+t+i.charAt(2).toUpperCase()+i.substring(3):"jqGrid"+t+i.charAt(0).toUpperCase()+i.substring(1),o=$.makeArray(arguments).slice(4),l=e[i+r];return o.unshift(a),o.unshift(l),jgrid.fullBoolFeedback.apply(n,o)},builderSortIcons:function(e){var t=this,r=t.p,i=$(t),n=i.jqGrid("getGuiStyles","states.disabled"),a=function(a){var o=r.colModel[e],l=null!=o&&$.isFunction(o.sortIconName)?o.sortIconName:r.sortIconName,s=$.isFunction(l)?l.call(t,{order:a,iCol:e,cm:o}):i.jqGrid("getIconRes","sort."+a);return jgrid.mergeCssClasses("ui-grid-ico-sort","ui-icon-"+a,"horizontal"===r.viewsortcols[1]?"ui-i-"+a:"",n,s,"ui-sort-"+r.direction)};return"<span class='s-ico"+(r.sortIconsBeforeText?" jqgrid-icons-first":"")+"' style='display:none'><span class='"+a("asc")+"'></span><span class='"+a("desc")+"'></span></span>"},builderFmButon:function(e,t,r,i,n){var a=this.p,o=$(this),l=function(e){return o.jqGrid("getGuiStyles","dialog."+e)};return null==a?"":"<a id='"+e+"' class='"+jgrid.mergeCssClasses("fm-button",l("fmButton"),l("right"===n?"rightCorner":"left"===n?"leftCorner":"defaultCorner"),"right"===i?"fm-button-icon-right":"left"===i?"fm-button-icon-left":"")+"' role='button' tabindex='0'>"+(r?"<span class='fm-button-icon "+(o.jqGrid("getIconRes",r)||r)+"'></span>":"")+(t?"<span class='fm-button-text'>"+t+"</span>":"")+"</a>"},convertOnSaveLocally:function(e,t,r,i,n,a){if(null==this.p)return e;if($.isFunction(t.convertOnSave))return t.convertOnSave.call(this,{newValue:e,cm:t,oldValue:r,id:i,item:n,iCol:a});if("boolean"!=typeof r&&"number"!=typeof r)return e;if("boolean"!=typeof r||"checkbox"!==t.edittype&&"checkbox"!==t.formatter)"number"!=typeof r||isNaN(e)||("number"===t.formatter||"currency"===t.formatter?e=parseFloat(e):"integer"===t.formatter&&(e=parseInt(e,10)));else{var o=String(e).toLowerCase(),l=null!=t.editoptions&&"string"==typeof t.editoptions.value?t.editoptions.value.split(":"):["yes","no"];$.inArray(o,["1","true",l[0].toLowerCase()])>=0?e=!0:$.inArray(o,["0","false",l[1].toLowerCase()])>=0&&(e=!1)}return e},parseDataToHtml:function(e,t,r,i,n,a,o){var l,s,d,c,u,p,f,h,g,m,v=this,b=v.p,y=$(v),w=!1,x=[],C=[],j=!0!==b.altRows||y.jqGrid("isBootstrapGuiStyle")?"":b.altclass,D=!!b.grouping&&!0===b.groupingView.groupCollapse,S=parseInt(b.rowNum,10),q=$.fn.jqGrid,_=!0===b.treeGrid&&b.treeANode>-1?v.rows[b.treeANode].rowIndex+1:v.rows.length,F=v.formatCol;for(_<=1&&(b.rowIndexes={}),("local"===b.datatype&&!b.deselectAfterSort||b.multiPageSelection)&&(w=!0),a&&(S*=a+1),l=0;l<Math.min(e,S);l++){for(p=t[l],f=r[l],h=null!=i?i[l]:f,d=1===n?0:n,c=(d+l)%2==1?j:"",w?b.multiselect?(u=-1!==$.inArray(p,b.selarrrow))&&null===b.selrow&&(b.selrow=p):u=p===b.selrow:u=!1,g=x.length,x.push(""),s=0;s<b.colModel.length;s++)switch(m=b.colModel[s].name){case"rn":x.push(function(e,t,r,i){var n=(parseInt(r,10)-1)*parseInt(i,10)+1+t;return"<td role='gridcell' class='"+q.getGuiStyles.call(y,"rowNum","jqgrid-rownum")+"' "+F(e,t,n,null,t,!0)+">"+n+"</td>"}(s,l,b.page,b.rowNum));break;case"cb":x.push(function(e,t,r,i,n){var a="&nbsp;",o=!0,l={rowid:e,iRow:r,iCol:t,data:n,checked:i};return $.isFunction(b.hasMultiselectCheckBox)&&(o=b.hasMultiselectCheckBox.call(v,l)),o&&(a=$.isFunction(b.checkboxHtml)?b.checkboxHtml.call(v,l):"<input type='checkbox' id='jqg_"+b.id+"_"+e+"' class='cbox' name='jqg_"+b.id+"_"+e+"'"+(i?" checked='checked' aria-checked='true'":" aria-checked='false'")+"/>"),"<td role='gridcell' "+F(t,r,"",null,e,!0)+">"+a+"</td>"}(p,s,l,u,f));break;case"subgrid":x.push(q.addSubGridCell.call(y,s,l+n,p,f));break;default:x.push(function(e,t,r,i,n,a){var o=v.formatter(e,t,r,n,"add",a);return"<td role='gridcell' "+F(r,i,o,n,e,a)+">"+o+"</td>"}(p,f[m],s,l+n,h,f))}b.grouping&&q.groupingPrepare&&!b.groupingView._locgr&&(q.groupingPrepare.call(y,f,l),$.isFunction(b.groupingView.groupCollapse)&&(D=b.groupingView.groupCollapse.call(v,{group:b.groupingView.groups[b.groupingView.groups.length-1],rowid:p,data:f}))),x[g]=v.constructTr(p,D,c,f,h,u),x.push("</tr>"),b.rowIndexes[p]=_,_++,b.grouping&&(C.push(x),x=[]),x.length>b.maxItemsToJoin&&(x=[x.join("")])}return b.grouping&&q.groupingRender&&(o&&(b.groupingView._locgr=!0),x=[q.groupingRender.call(y,C,S)],jgrid.clearArray(C)),x},fillSelectOptions:function(e,t,r,i,n,a){var o,l,s,d,c,u,p,f,h=[],g=!1,m=function(e,t){if(t>0)return e};if(t){if("function"==typeof t&&(t=t()),"string"==typeof t)for(l=t.split(i),o=0;o<l.length;o++)s=l[o].split(r),s.length>2&&(s[1]=$.map(s,m).join(r)),h.push({value:s[0],innerHtml:s[1],selectValue:$.trim(s[0]),selectText:$.trim(s[1]),selected:!1}),""===s[0]&&(g=!0);else if("object"==typeof t)for(p in t)t.hasOwnProperty(p)&&h.push({value:p,innerHtml:t[p],selectValue:$.trim(p),selectText:$.trim(t[p]),selected:!1}),""===p&&(g=!0);if("string"==typeof a){for(f=n?$.map(a.split(","),function(e){return $.trim(e)}):[$.trim(a)],a=$.trim(a),o=0;o<h.length;o++)c=h[o],n||c.selectValue!==a||(c.selected=!0,u=!0),n&&$.inArray(c.selectValue,f)>-1&&(c.selected=!0,u=!0);if(!u)for(o=0;o<h.length;o++)c=h[o],n||c.selectText!==a||(c.selected=!0),n&&$.inArray(c.selectText,f)>-1&&(c.selected=!0)}for(o=0;o<h.length;o++)c=h[o],d=document.createElement("option"),d.value=c.value,d.innerHTML=c.innerHtml,c.selected&&(d.selected=!0),e.appendChild(d);return g}},getMethod:function(e){return this.getAccessor($.fn.jqGrid,e)},extend:function(e){$.extend($.fn.jqGrid,e),this.no_legacy_api||$.fn.extend(e)}});var clearArray=jgrid.clearArray,jqID=jgrid.jqID,getGridComponentIdSelector=jgrid.getGridComponentIdSelector,getGridComponentId=jgrid.getGridComponentId,getGridComponent=jgrid.getGridComponent,stripPref=jgrid.stripPref,randId=jgrid.randId,getAccessor=jgrid.getAccessor,convertOnSaveLocally=jgrid.convertOnSaveLocally,stripHtml=jgrid.stripHtml,htmlEncode=jgrid.htmlEncode,htmlDecode=jgrid.htmlDecode,mergeCssClasses=jgrid.mergeCssClasses,hasOneFromClasses=jgrid.hasOneFromClasses,feedback=function(){var e=$.makeArray(arguments);return e.unshift(""),e.unshift(""),e.unshift(this.p),jgrid.feedback.apply(this,e)};$.fn.jqGrid=function(e){var t,r=$.fn.jqGrid;if("string"==typeof e){if(!(t=r[e]))throw"jqGrid - No such method: "+e;return t.apply(this,$.makeArray(arguments).slice(1))}return this.each(function(){if(!this.grid){var t,i,n=this,a=$(n),o=$.isFunction,l=$.isArray,s=$.extend,d=$.inArray,c=$.trim,u=$.each,p=r.setSelection,f=r.getGridRes,h=o(defaults.fatalError)?defaults.fatalError:alert,g=e.locale||defaults.locale||"en-US",m=null!=locales[g]&&"boolean"==typeof locales[g].isRTL&&locales[g].isRTL?"rtl":"ltr",v=e.iconSet||defaults.iconSet||("bootstrap"===(e.guiStyle||defaults.guiStyle)||"bootstrapPrimary"===(e.guiStyle||defaults.guiStyle)?"glyph":"jQueryUI"),b=e.guiStyle||defaults.guiStyle||"jQueryUI",y=function(e){return r.getIconRes.call(n,e)},w=function(e,t){return a.jqGrid("getGuiStyles",e,t)},x=function(e,t,r){if("abort"!==t&&"abort"!==r){var i=e.getResponseHeader("Content-Type"),n=e.responseText||"",o=function(e){try{var t,r=$.parseJSON(e),i=[];for(t in r)r.hasOwnProperty(t)&&"StackTrace"!==t&&i.push(t+": "+r[t]);e=i.join("<br />")}catch(e){}return e};"text/html"===i?n=function(e){var t,r,i,n=document.createElement("div");for(i=/<body[^>]*>([\s\S]*)<\/body\s*>/gim.exec(e),n.innerHTML=null!=i&&2===i.length?i[1]:e,t=n.getElementsByTagName("script"),r=t.length;r--;)t[r].parentNode.removeChild(t[r]);e=n.innerHTML;try{""===$.trim($(e).text())&&(e="")}catch(e){}return e}(n):"application/json"===i?n=o(n):"text/plain"===i&&(n=o(n)),500!==e.status&&0!==e.status&&(n=(t||r)+(r&&r!==t?": "+r:"")+" "+e.status+" "+e.statusText+(""!==n?"<hr />":"")+n),a.jqGrid("displayErrorMessage",n||t||r)}};null==e&&(e={datatype:"local"}),void 0!==e.datastr&&l(e.datastr)&&(i=e.datastr,e.datastr=[]),void 0!==e.data&&(t=e.data,e.data=[]),null!=jgrid.formatter&&null!=jgrid.formatter.unused||h("CRITICAL ERROR!!!\n\n\nOne uses probably\n\n\t$.extend($.jgrid.defaults, {...});\n\nto set default settings of jqGrid instead of the usage the DEEP version of jQuery.extend (with true as the first parameter):\n\n\t$.extend(true, $.jgrid.defaults, {...});\n\nOne other possible reason:\n\nyou included some OLD version of language file (grid.locale-en.js for example) AFTER jquery.jqGrid.min.js. For example all language files of jqGrid 4.7.0 uses non-deep call of jQuery.extend.\n\n\nSome options of jqGrid could still work, but another one will be broken."),void 0===e.datatype&&void 0!==e.dataType&&(e.datatype=e.dataType,delete e.dataType),void 0===e.mtype&&void 0!==e.type&&(e.mtype=e.type,delete e.type),n.p={iconSet:v};var C=s(!0,{height:"auto",page:1,rowNum:20,maxRowNum:1e4,autoresizeOnLoad:!1,columnsToReResizing:[],autoResizing:{wrapperClassName:"ui-jqgrid-cell-wrapper",minColWidth:33,maxColWidth:300,adjustGridWidth:!0,compact:!1,fixWidthOnShrink:!1},doubleClickSensitivity:250,minResizingWidth:10,rowTotal:null,records:0,pager:"",pgbuttons:!0,pginput:!0,colModel:[],additionalProperties:[],arrayReader:[],rowList:[],colNames:[],sortorder:"asc",threeStateSort:!1,sortname:"",mtype:"GET",altRows:!1,selarrrow:[],savedRow:[],shrinkToFit:!0,xmlReader:{},subGrid:!1,subGridModel:[],reccount:0,lastpage:0,lastsort:0,selrow:null,singleSelectClickMode:"toggle",beforeSelectRow:null,onSelectRow:null,onSortCol:null,ondblClickRow:null,onRightClickRow:null,onPaging:null,onSelectAll:null,onInitGrid:null,loadComplete:null,gridComplete:null,loadError:x,loadBeforeSend:null,afterInsertRow:null,beforeRequest:null,beforeProcessing:null,onHeaderClick:null,viewrecords:!1,loadonce:!1,forceClientSorting:!1,multiselect:!1,multikey:!1,editurl:"clientArray",search:!1,caption:"",hidegrid:!0,hiddengrid:!1,useUnformattedDataForCellAttr:!0,postData:{},userData:{},treeGrid:!1,treeGridModel:"nested",treeReader:{},treeANode:-1,ExpandColumn:null,tree_root_level:0,prmNames:{page:"page",rows:"rows",sort:"sidx",order:"sord",search:"_search",nd:"nd",id:"id",idold:"idOld",oper:"oper",editoper:"edit",addoper:"add",deloper:"del",subgridid:"id",npage:null,totalrows:"totalrows"},forceFit:!1,gridstate:"visible",cellEdit:!1,iCol:-1,iRow:-1,nv:0,loadui:"enable",toolbar:[!1,""],scroll:!1,multiboxonly:!1,deselectAfterSort:!0,multiPageSelection:!1,scrollrows:!1,autowidth:!1,scrollOffset:18,cellLayout:5,subGridWidth:16,multiselectWidth:16,multiselectPosition:"left",gridview:!0,rownumWidth:25,rownumbers:!1,pagerpos:"center",footerrow:!1,userDataOnFooter:!1,hoverrows:!0,altclass:"ui-priority-secondary",viewsortcols:[!1,"vertical",!0],resizeclass:"",autoencode:!1,autoEncodeOnEdit:!1,remapColumns:[],cmNamesInputOrder:[],ajaxGridOptions:{},direction:m,toppager:!1,headertitles:!1,scrollTimeout:40,maxItemsToJoin:32768,data:[],lastSelectedData:[],quickEmpty:"quickest",_index:{},indexByColumnData:{},dataIndexById:{},iColByName:{},iPropByName:{},reservedColumnNames:["rn","cb","subgrid"],grouping:!1,groupingView:{groupField:[],groupOrder:[],groupText:[],groupColumnShow:[],groupSummary:[],showSummaryOnHide:!1,useDefaultValuesOnGrouping:!0,summary:[],displayField:[],groupSummaryPos:[],formatDisplayField:[],_locgr:!1,commonIconClass:y("grouping.common"),plusicon:y("grouping.plus"),minusicon:y("grouping.minus")},ignoreCase:!0,cmTemplate:{},idPrefix:"",iconSet:v,guiStyle:b,locale:g,multiSort:!1,treeIcons:{commonIconClass:y("treeGrid.common"),plusLtr:y("treeGrid.plusLtr"),plusRtl:y("treeGrid.plusRtl"),minus:y("treeGrid.minus"),leaf:y("treeGrid.leaf")}},defaults,{navOptions:s(!0,{commonIconClass:y("nav.common"),editicon:y("nav.edit"),addicon:y("nav.add"),delicon:y("nav.del"),searchicon:y("nav.search"),refreshicon:y("nav.refresh"),viewicon:y("nav.view"),saveicon:y("nav.save"),cancelicon:y("nav.cancel"),buttonicon:y("nav.newbutton")},jgrid.nav||{}),actionsNavOptions:s(!0,{commonIconClass:y("actions.common"),editicon:y("actions.edit"),delicon:y("actions.del"),saveicon:y("actions.save"),cancelicon:y("actions.cancel")},jgrid.actionsNav||{}),formEditing:s(!0,{commonIconClass:y("form.common"),prevIcon:y("form.prev"),nextIcon:y("form.next"),saveicon:[!0,"left",y("form.save")],closeicon:[!0,"left",y("form.undo")]},jgrid.edit||{}),searching:s(!0,{commonIconClass:y("search.common"),findDialogIcon:y("search.search"),resetDialogIcon:y("search.reset"),queryDialogIcon:y("search.query")},jgrid.search||{}),formViewing:s(!0,{commonIconClass:y("form.common"),prevIcon:y("form.prev"),nextIcon:y("form.next"),closeicon:[!0,"left",y("form.cancel")]},jgrid.view||{}),formDeleting:s(!0,{commonIconClass:y("form.common"),delicon:[!0,"left",y("form.del")],cancelicon:[!0,"left",y("form.cancel")]},jgrid.del||{})},e||{}),j=function(e){return f.call(a,e)},D=function(e){var t=jgrid.getRes(C,e);return void 0!==t?t:f.call(a,"defaults."+e)};if(C.recordpos=C.recordpos||("rtl"===C.direction?"left":"right"),C.autoResizing.widthOfVisiblePartOfSortIcon=void 0!==C.autoResizing.widthOfVisiblePartOfSortIcon?C.autoResizing.widthOfVisiblePartOfSortIcon:"fontAwesome"===C.iconSet?13:12,C.datatype=void 0!==C.datatype?C.datatype:void 0!==t||null==C.url?"local":null!=C.jsonReader&&"object"==typeof C.jsonReader?"json":"xml",C.jsonReader=C.jsonReader||{},C.url=C.url||"",C.cellsubmit=void 0!==C.cellsubmit?C.cellsubmit:void 0===C.cellurl?"clientArray":"remote",C.gridview=void 0!==C.gridview?C.gridview:null==C.afterInsertRow,void 0!==t&&(C.data=t,e.data=t),void 0!==i&&(C.datastr=i,e.datastr=i),"TABLE"!==n.tagName.toUpperCase())return void h("Element is not a table!");if(""===n.id&&a.attr("id",randId()),void 0!==document.documentMode&&document.documentMode<=5)return void h("Grid can not be used in this ('quirks') mode!");a.empty().attr("tabindex","0"),n.p=C,C.id=n.id,C.idSel="#"+jqID(n.id),C.gBoxId=getGridComponentId.call(n,COMPONENT_NAMES.GRID_BOX_DIV),C.gBox=getGridComponentIdSelector.call(n,COMPONENT_NAMES.GRID_BOX_DIV),C.gViewId=getGridComponentId.call(n,COMPONENT_NAMES.GRID_VIEW_DIV),C.gView=getGridComponentIdSelector.call(n,COMPONENT_NAMES.GRID_VIEW_DIV),C.rsId=getGridComponentId.call(n,COMPONENT_NAMES.COLUMN_RESIZER_DIV),C.rs=getGridComponentIdSelector.call(n,COMPONENT_NAMES.COLUMN_RESIZER_DIV),C.cbId=getGridComponentId.call(n,COMPONENT_NAMES.HEADER_SELECT_ALL_ROWS_CHECKBOX),C.cb=getGridComponentIdSelector.call(n,COMPONENT_NAMES.HEADER_SELECT_ALL_ROWS_CHECKBOX);var S=jgrid.fixScrollOffsetAndhBoxPadding,q=function(e){var t,r={},i=e.length;for(t=0;t<i;t++)r[e[t].name]=t;return r},_=function(){var e,t,r={},i=C.colModel,n=i.length;for(e=0;e<n;e++)t=i[e],(t.createColumnIndex||C.createColumnIndex&&!1!==t.createColumnIndex||"select"===t.stype&&(t.searchoptions||{}).generateValue||"select"===t.edittype&&(t.editoptions||{}).generateValue)&&(r[i[e].name]={});return r},F=function(e){var t,r,i={},n=e.length;for(t=0;t<n;t++)r=e[t],i["string"==typeof r?r:r.name]=t;return i},R=function(){var e,t,r={};for(this.p.rowIndexes=r,t=0;t<this.rows.length;t++)e=this.rows[t],$(e).hasClass("jqgrow")&&(r[e.id]=e.rowIndex)},k=function(e){var t=$(this).data("pageX");t?(t=String(t).split(";"),t=t[t.length-1],$(this).data("pageX",t+";"+e.pageX)):$(this).data("pageX",e.pageX)},O=function(e,t){return e=parseInt(e,10),isNaN(e)?t||0:e},I={headers:[],cols:[],footers:[],dragStart:function(e,t,r,i){var n=this,a=$(n.bDiv),o=a.closest(C.gBox).offset(),l=i.offset().left+("rtl"===C.direction?0:n.headers[e].width+(jgrid.cell_width?0:O(C.cellLayout,0))-2);n.resizing={idx:e,startX:l,sOL:l,moved:!1,delta:l-t.pageX},n.curGbox=$(C.rs),n.curGbox.prependTo("body"),n.curGbox.css({display:"block",left:l,top:r[1]+o.top+1,height:r[2]}),n.curGbox.css("height",r[2]-(n.curGbox.outerHeight()-n.curGbox.height())+"px"),n.curGbox.data("idx",e),n.curGbox.data("delta",l-t.pageX),k.call(this.curGbox,t),feedback.call(getGridComponent(COMPONENT_NAMES.BODY_TABLE,a)[0],"resizeStart",t,e),document.onselectstart=function(){return!1},$(document).on("mousemove.jqGrid",function(e){if(I.resizing)return I.dragMove(e),!1}).on("mouseup.jqGrid"+C.id,function(){if(I.resizing)return I.dragEnd(),!1})},dragMove:function(e){var t=this,r=t.resizing;if(r){var i,n,a=e.pageX+r.delta-r.startX,o=t.headers,l=o[r.idx],s="ltr"===C.direction?l.width+a:l.width-a,d=((C.colModel[r.idx]||{}).autoResizing||{}).minColWidth||C.minResizingWidth;r.moved=!0,s>d&&(null==t.curGbox&&(t.curGbox=$(C.rs)),t.curGbox.css({left:r.sOL+a}),!0===C.forceFit?(i=o[r.idx+C.nv],(n="ltr"===C.direction?i.width-a:i.width+a)>C.autoResizing.minColWidth&&(l.newWidth=s,i.newWidth=n)):(t.newWidth="ltr"===C.direction?C.tblwidth+a:C.tblwidth-a,l.newWidth=s))}},resizeColumn:function(e,t,i){var n,a=this,o=a.headers,l=a.footers,s=o[e],d=s.newWidth||s.width,c=getGridComponent(COMPONENT_NAMES.BODY_TABLE,a.bDiv),u=getGridComponent(COMPONENT_NAMES.HEADER_TABLE,a.hDiv),p=u.children("thead").children("tr").first()[0].cells;d=parseInt(d,10),C.colModel[e].width=d,s.width=d,p[e].style.width=d+"px",a.cols[e].style.width=d+"px",a.fbRows&&($(a.fbRows[0].cells[e]).css("width",d),$(getGridComponent(COMPONENT_NAMES.FROZEN_HEADER_TABLE,a.fhDiv)[0].rows[0].cells[e]).css("width",d),C.footerrow&&$(getGridComponent(COMPONENT_NAMES.FROZEN_FOOTER_TABLE,a.fsDiv)[0].rows[0].cells[e]).css("width",d)),l.length>0&&(l[e].style.width=d+"px"),!0!==i&&S.call(c[0]),!0===C.forceFit?(n=o[e+C.nv],d=n.newWidth||n.width,n.width=d,p[e+C.nv].style.width=d+"px",a.cols[e+C.nv].style.width=d+"px",l.length>0&&(l[e+C.nv].style.width=d+"px"),C.colModel[e+C.nv].width=d):(C.tblwidth=a.newWidth||C.tblwidth,!0!==i&&(a.hDiv.scrollLeft=a.bDiv.scrollLeft,C.footerrow&&(a.sDiv.scrollLeft=a.bDiv.scrollLeft))),C.autowidth||void 0!==C.widthOrg&&"auto"!==C.widthOrg&&"100%"!==C.widthOrg||!0===i||r.setGridWidth.call(c,a.newWidth+C.scrollOffset,!1),t||feedback.call(c[0],"resizeStop",d,e)},dragEnd:function(){var e=this;e.hDiv.style.cursor="default",e.resizing&&(null!==e.resizing&&!0===e.resizing.moved&&($(e.headers[e.resizing.idx].el).removeData("autoResized"),e.resizeColumn(e.resizing.idx,!1)),$(C.rs).removeData("pageX"),e.resizing=!1,setTimeout(function(){$(C.rs).css("display","none").prependTo(C.gBox)},C.doubleClickSensitivity)),e.curGbox=null,document.onselectstart=function(){return!0},$(document).off("mousemove.jqGrid mouseup.jqGrid"+C.id)},populateVisible:function(){var e=this,t=$(e),r=e.grid,i=r.bDiv,n=$(i);r.timer&&clearTimeout(r.timer),r.timer=null;var a=n.height();if(a){var o,l;if(e.rows.length)try{o=e.rows[1],l=o?$(o).outerHeight()||r.prevRowHeight:r.prevRowHeight}catch(e){l=r.prevRowHeight}if(l){r.prevRowHeight=l;var s=C.rowNum;r.scrollTop=i.scrollTop;var d,c,u,p=r.scrollTop,f=Math.round(t.position().top)-p,h=f+t.height(),g=l*s;if(h<a&&f<=0&&(void 0===C.lastpage||(parseInt((h+p+g-1)/g,10)||0)<=C.lastpage)&&(c=parseInt((a-h+g-1)/g,10)||1,h>=0||c<2||!0===C.scroll?(d=(Math.round((h+p)/g)||0)+1,f=-1):f=1),f>0&&(d=(parseInt(p/g,10)||0)+1,c=(parseInt((p+a)/g,10)||0)+2-d,u=!0),c){if(C.lastpage&&(d>C.lastpage||1===C.lastpage||d===C.page&&d===C.lastpage))return;r.hDiv.loading?r.timer=setTimeout(function(){r.populateVisible.call(e)},C.scrollTimeout):(C.page=d,u&&(r.selectionPreserver.call(e),r.emptyRows.call(e,!1,!1)),r.populate.call(e,c))}}}},scrollGrid:function(){if(C.scroll){var e=this.scrollTop;void 0===I.scrollTop&&(I.scrollTop=0),e!==I.scrollTop&&(I.scrollTop=e,I.timer&&clearTimeout(I.timer),I.timer=setTimeout(function(){I.populateVisible.call(n)},C.scrollTimeout))}return I.hDiv.scrollLeft=this.scrollLeft,C.footerrow&&(I.sDiv.scrollLeft=this.scrollLeft),!1},selectionPreserver:function(){var e=this,t=$(e),r=C.selrow,i=C.selarrrow?$.makeArray(C.selarrrow):null,n=e.grid.bDiv,a=n.scrollLeft,o=function(){var e;if(C.selrow=null,!C.multiPageSelection){if(clearArray(C.selarrrow),C.multiselect&&i&&i.length>0)for(e=0;e<i.length;e++)i[e]!==r&&p.call(t,i[e],!1,null);r&&p.call(t,r,!1,null)}n.scrollLeft=a,t.off(".selectionPreserver",o)};t.on("jqGridGridComplete.selectionPreserver",o)}};n.grid=I,feedback.call(n,"beforeInitGrid"),C.iColByName=q(C.colModel),C.iPropByName=F(C.additionalProperties);var N,G=$("<div class='"+w("gView","ui-jqgrid-view")+"' role='grid' aria-multiselectable='"+!!C.multiselect+"'></div>"),E=jgrid.msie;C.direction=c(C.direction.toLowerCase()),-1===d(C.direction,["ltr","rtl"])&&(C.direction="ltr"),N=C.direction,$(G).insertBefore(n),a.removeClass("scroll").appendTo(G);var T=$("<div class='"+w("gBox","ui-jqgrid")+"'></div>");$(T).attr({id:C.gBoxId,dir:N}).insertBefore(G),$(G).attr("id",C.gViewId).appendTo(T),$("<div class='"+w("overlay","jqgrid-overlay")+"' id='lui_"+C.id+"'></div>").insertBefore(G),$("<div class='"+w("loading","loading")+"' id='load_"+C.id+"'>"+D("loadtext")+"</div>").insertBefore(G),a.attr({role:"presentation","aria-labelledby":"gbox_"+n.id});var A,M=["shiftKey","altKey","ctrlKey"],B=function(e){return stripPref(C.idPrefix,e)},P=function(e,t,r,i,a,l){var s,d,c,u,p,f,h,g=C.colModel[e],m=r,v=g.classes,b=g.align?"text-align:"+g.align+";":"",y=function(e){return"string"==typeof e?e.replace(/\'/g,"&#39;"):e},w=" aria-describedby='"+C.id+"_"+g.name+"'";if(!0===g.hidden&&(b+="display:none;"),0===t)b+="width: "+I.headers[e].width+"px;";else if((o(g.cellattr)||"string"==typeof g.cellattr&&null!=jgrid.cellattr&&o(jgrid.cellattr[g.cellattr]))&&(s=o(g.cellattr)?g.cellattr:jgrid.cellattr[g.cellattr],C.useUnformattedDataForCellAttr&&null!=l?m=l[g.name]:g.autoResizable&&(d="<span class='"+C.autoResizing.wrapperClassName+"'>",m=r.substring(d.length,r.length-"</span>".length)),"string"==typeof(u=s.call(n,a,m,i,g,l))))for(u=u.replace(/\n/g,"&#xA;");;){if(null===(p=/^\s*(\w+[\w|\-]*)\s*=\s*([\"|\'])(.*?)\2(.*)/.exec(u))||p.length<5)return!h&&g.title&&(h=m),w+" style='"+y(b)+"'"+(v?" class='"+y(v)+"'":"")+(h?" title='"+y(h)+"'":"");switch(f=p[3],u=p[4],p[1].toLowerCase()){case"class":v?v+=" "+f:v=f;break;case"title":h=f;break;case"style":b+=f;break;default:w+=" "+p[1]+"="+p[2]+f+p[2]}}return c=""!==b?"style='"+b+"'":"",c+=(void 0!==v?" class='"+v+"'":"")+(g.title&&m?" title='"+stripHtml(r).replace(/\'/g,"&apos;")+"'":""),c+=w},L=function(e){return null==e||""===e?"&#160;":C.autoencode?htmlEncode(e):String(e)},z=function(e){var t=C.treeReader,r=t.loaded,i=t.leaf_field,n=t.expanded_field,a=function(e){return!0===e||"true"===e||"1"===e};if("nested"===C.treeGridModel&&!e[i]){var o=parseInt(e[t.left_field],10),l=parseInt(e[t.right_field],10);e[i]=l===o+1}void 0!==e[r]&&(e[r]=a(e[r])),e[i]=a(e[i]),e[n]=a(e[n])},H=function(e,t,r,i,a,l){var s,d=C.colModel[r];if(void 0!==d.formatter){e=""!==String(C.idPrefix)?B(e):e;var c={rowId:e,colModel:d,gid:C.id,pos:r,rowData:l||i};s=o(d.cellBuilder)?d.cellBuilder.call(n,t,c,i,a):o(d.formatter)?d.formatter.call(n,t,c,i,a):$.fmatter?$.fn.fmatter.call(n,d.formatter,t,c,i,a):L(t)}else s=L(t);if(s=d.autoResizable&&"actions"!==d.formatter?"<span class='"+C.autoResizing.wrapperClassName+"'>"+s+"</span>":s,C.treeGrid&&"edit"!==a&&(null==C.ExpandColumn&&0===r||C.ExpandColumn===d.name)){null==l&&(l=C.data[C._index[e]]);var u=parseInt(l[C.treeReader.level_field]||0,10),p=parseInt(C.tree_root_level,10),f=0===p?u:u-1,h=l[C.treeReader.leaf_field],g=l[C.treeReader.expanded_field],m=l[C.treeReader.icon_field],v=h?(null!=m&&""!==m?m:C.treeIcons.leaf)+" tree-leaf":g?C.treeIcons.minus+" tree-minus":C.treeIcons.plus+" tree-plus";s="<div class='tree-wrap' style='width:"+18*(f+1)+"px;'><div class='"+mergeCssClasses(C.treeIcons.commonIconClass,v,"treeclick")+"' style='"+(!0===C.ExpandColClick?"cursor:pointer;":"")+("rtl"===C.direction?"margin-right:":"margin-left:")+18*f+"px;'></div></div><span class='cell-wrapper"+(h?"leaf":"")+"'"+(C.ExpandColClick?" style='cursor:pointer;'":"")+">"+s+"</span>"}return s},V=function(e,t){var r=this,i=I.bDiv,n=null!=I.fbDiv?I.fbDiv.children(".ui-jqgrid-btable")[0]:null,a=function(e){if(e){var t=e.rows,r=t[0];if(C.deepempty)t&&$(t).slice(1).remove();else if(C.quickEmpty)if("quickest"===C.quickEmpty)e.replaceChild(document.createElement("tbody"),e.tBodies[0]),e.firstChild.appendChild(r);else for(;t.length>1;)e.deleteRow(t.length-1);else $(e.firstChild).empty().append(r)}};$(r).off(".jqGridFormatter"),a(r),a(n),e&&C.scroll&&($(i.firstChild).css({height:"auto"}),$(i.firstChild.firstChild).css({height:0,display:"none"}),0!==i.scrollTop&&(i.scrollTop=0)),!0===t&&C.treeGrid&&(clearArray(C.data),clearArray(C.lastSelectedData),C._index={},C.dataIndexById={},C.indexByColumnData={}),C.rowIndexes={},C.iRow=-1,C.iCol=-1},W=function(e,t){var r,i;for(r in C.indexByColumnData)C.indexByColumnData.hasOwnProperty(r)&&(i=e[r],e.hasOwnProperty(r)&&void 0!==i&&""!==i&&(C.ignoreCase&&(i=String(i).toLowerCase()),void 0===C.indexByColumnData[r][i]&&(C.indexByColumnData[r][i]={}),C.indexByColumnData[r][i][t]=e[r],void 0===C.dataIndexById[t]&&(C.dataIndexById[t]={}),void 0===C.dataIndexById[t][r]&&(C.dataIndexById[t][r]={}),C.dataIndexById[t][r][i]=C.indexByColumnData[r][i]))},U=function(e){var t,r,i,n=C.dataIndexById[e];if(null!=n){for(t in n)if(n.hasOwnProperty(t)){r=n[t];for(i in r)r.hasOwnProperty(i)&&(delete C.indexByColumnData[t][i][e],$.isEmptyObject(C.indexByColumnData[t][i])&&delete C.indexByColumnData[t][i])}delete C.dataIndexById[e]}},Y=function(){var e,t,r,i,a,d,c,u,p,f,h,g,m=C.data,v=m.length,b=C.localReader,y=C.additionalProperties,w=b.cell,$=C.arrayReaderInfos;if("local"===C.datatype&&!0===b.repeatitems)for(i=!1===C.keyName?o(b.id)?b.id.call(n,m):b.id:C.keyName,isNaN(i)?o(i)||null!=C.arrayReaderInfos[i]&&(a=C.arrayReaderInfos[i].order):a=Number(i),e=0;e<v;e++){t=m[e],r=w?getAccessor(t,w)||t:t,f=l(r),c={};for(p in $)$.hasOwnProperty(p)&&(g=$[p],d=getAccessor(r,f?g.order:g.name),1===g.type&&null!=(h=y[g.index])&&o(h.convert)&&(d=h.convert(d,r)),void 0!==d&&(c[p]=d));void 0!==c[i]?u=void 0!==c[i]?c[i]:randId():(u=getAccessor(t,l(t)?a:i),void 0===u&&(u=getAccessor(r,l(r)?a:i)),void 0===u&&(u=randId())),u=String(u),c[b.id]=u,C.treeGrid&&z(c),s(m[e],c)}else if(C.treeGrid)for(e=0;e<v;e++)z(m[e])},X=function(){var e,t,r,i,n=C.data.length;for(e=!1===C.keyName||C.loadonce?C.localReader.id:C.keyName,C._index={},C.dataIndexById={},C.indexByColumnData=_(),t=0;t<n;t++)i=C.data[t],r=getAccessor(i,e),void 0===r&&(r=String(randId()),void 0===i[e]&&(i[e]=r)),C._index[r]=t,W.call(this,i,r)},Q=function(e,t,i,n,a,l){var s,d="-1",c="",u=t?"display:none;":"",p=this,f=w("gridRow","jqgrow ui-row-"+C.direction)+(i?" "+i:"")+(l?" "+w("states.select"):""),h=$(p).triggerHandler("jqGridRowAttr",[n,a,e]);if("object"!=typeof h&&(h=o(C.rowattr)?C.rowattr.call(p,n,a,e):"string"==typeof C.rowattr&&null!=jgrid.rowattr&&o(jgrid.rowattr[C.rowattr])?jgrid.rowattr[C.rowattr].call(p,n,a,e):{}),null!=h&&!$.isEmptyObject(h)){h.hasOwnProperty("id")&&(e=h.id,delete h.id),h.hasOwnProperty("tabindex")&&(d=h.tabindex,delete h.tabindex),h.hasOwnProperty("style")&&(u+=h.style,delete h.style),h.hasOwnProperty("class")&&(f+=" "+h.class,delete h.class);try{delete h.role}catch(e){}for(s in h)h.hasOwnProperty(s)&&(c+=" "+s+"="+h[s])}if(C.treeGrid&&parseInt(n[C.treeReader.level_field],10)!==parseInt(C.tree_root_level,10)){var g=r.getNodeParent.call($(this),n);!g||!g.hasOwnProperty(C.treeReader.expanded_field)||g[C.treeReader.expanded_field]||t||(u+="display:none;")}return"<tr role='row' id='"+e+"' tabindex='"+d+"' class='"+f+"'"+(""===u?"":" style='"+u+"'")+c+">"},J=function(){var e,t,r=$.fn.fmatter;for(e=0;e<C.colModel.length;e++)"string"==typeof(t=C.colModel[e].formatter)&&null!=r&&o(r[t])&&o(r[t].pageFinalization)&&r[t].pageFinalization.call(this,e)},K=function(e,t){var r,i,a,l=C.colModel,s=l.length,d=function(e){return null==e||""===e?"&#160;":htmlEncode(e)},c=function(e){return null==e||""===e?"&#160;":String(e)};for(r=0;r<s;r++)i=l[r],i.cellBuilder=null,e||(a={colModel:i,gid:C.id,pos:r},void 0===i.formatter?i.cellBuilder=C.autoencode?d:c:"string"==typeof i.formatter&&null!=$.fn.fmatter&&o($.fn.fmatter.getCellBuilder)?i.cellBuilder=$.fn.fmatter.getCellBuilder.call(n,i.formatter,a,t||"add"):o(i.getCellBuilder)&&(i.cellBuilder=i.getCellBuilder.call(n,a,t||"add")))},Z=function(e,t,i,n){var a=this,s=$(a),d=new Date,c=C.datatype,u="local"!==c&&C.loadonce||"xmlstring"===c||"jsonstring"===c,p=("xmlstring"===c||"xml"===c)&&$.isXMLDoc(e),f=C.localReader,h=getAccessor;if(e&&("xml"!==c||p)){switch(-1!==C.treeANode||C.scroll?t=t>1?t:1:(I.emptyRows.call(a,!1,!0),t=1),u&&(clearArray(C.data),clearArray(C.lastSelectedData),C._index={},C.grouping&&null!=C.groupingView&&(C.groupingView.groups=[],C.groupingView._locgr=!1),C.localReader.id="_id_"),C.reccount=0,c){case"xml":case"xmlstring":f=C.xmlReader,h=jgrid.getXmlData;break;case"json":case"jsonp":case"jsonstring":f=C.jsonReader}var g,m,v,b,y,w,x,j,D,S,q,_,F,k={},N=C.colModel,G=N.length,E=C.arrayReaderInfos,T={},A=function(e){return function(t){var r=null!=t&&o(t.getAttribute)?t.getAttribute(e):null;return null!==r?r:void 0}},M=function(e){return function(){var t,r=T[e];if(null!=r)return t=r.childNodes,t.length>0?t[0].nodeValue:void 0}};C.page=O(h(e,f.page),C.page),C.lastpage=O(h(e,f.total),1),C.records=O(h(e,f.records)),o(f.userdata)?C.userData=f.userdata.call(a,e)||{}:p?h(e,f.userdata,!0).each(function(){C.userData[this.getAttribute("name")]=$(this).text()}):C.userData=h(e,f.userdata)||{},K();var B,P,L,H,V={},U=C.additionalProperties,Y=function(e,t){p&&"string"==typeof t&&(/^\w+$/.test(t)?V[e]=M(t):/^\[\w+\]$/.test(t)&&(V[e]=A(t.substring(1,t.length-1))))},X=function(e){var t=e.name,r=p?e.xmlmap||t:"local"===c&&!C.dataTypeOrg||"jsonstring"===c||"json"===c||"jsonp"===c?e.jsonmap||t:t;!1!==C.keyName&&!0===e.key&&(C.keyName=t),("string"==typeof r||o(r))&&(V[t]=r),o(r)||Y(t,r)};for(g=0;g<G;g++)X(N[g]);for(G=U.length,g=0;g<G;g++)L=U[g],"object"==typeof L&&null!=L?X(L):Y(L,L);if(y=!1===C.keyName?o(f.id)?f.id.call(a,e):f.id:C.keyName,isNaN(y)?o(y)||(E[y]&&(w=E[y].order),p&&("string"==typeof y&&/^\[\w+\]$/.test(y)?y=A(y.substring(1,y.length-1)):"string"==typeof y&&/^\w+$/.test(y)&&(y=M(y)))):w=Number(y),b=h(e,f.root,!0),f.row)if(1===b.length&&"string"==typeof f.row&&/^\w+$/.test(f.row)){for(H=[],S=b[0].childNodes,q=S.length,D=0;D<q;D++)_=S[D],1===_.nodeType&&_.nodeName===f.row&&H.push(_);b=H}else b=h(b,f.row,!0);null==b&&l(e)&&(b=e),b||(b=[]),v=b.length,v>0&&C.page<=0&&(C.page=1);var Q=parseInt(C.rowNum,10);n&&(Q*=n+1);var Z,ee,te=[],re=[];for(H=[],g=0;g<v;g++){if(ee=b[g],m=f.repeatitems&&f.cell?h(ee,f.cell,!0)||ee:ee,B=f.repeatitems&&(p||l(m)),k={},T={},p&&!B&&null!=m)for(S=m.childNodes,q=S.length,D=0;D<q;D++)_=S[D],1===_.nodeType&&(T[_.nodeName]=_);for(j in E)E.hasOwnProperty(j)&&(F=E[j],B?(P=m[F.order],p&&null!=P&&(P=P.textContent||P.text)):P=null!=V[j]&&"string"!=typeof V[j]?V[j](m):h(m,"string"==typeof V[j]?V[j]:F.name),1===F.type&&null!=(L=U[F.index])&&o(L.convert)&&(P=L.convert(P,m)),void 0!==P&&(k[j]=P));if(void 0!==k[y]?Z=void 0!==k[y]?k[y]:randId():(Z=h(ee,l(ee)?w:y),void 0===Z&&(Z=h(m,l(m)?w:y)),void 0===Z&&(Z=randId())),void 0===k[y]&&(k[y]=Z),Z=String(Z),x=C.idPrefix+Z,C.treeGrid&&z(k),g<Q)re.push(x),te.push(m),H.push(k);else if(!u)break;(u||!0===C.treeGrid)&&(k._id_=Z,C.data.push(k),W(k,Z),C._index[k._id_]=C.data.length-1)}if(u&&!0!==C.treeGrid){if(C.forceClientSorting)return;C.lastSelectedData=C.data.slice()}var ie=jgrid.parseDataToHtml.call(a,v,re,H,te,t,n,u);K(!0);var ne=C.treeANode>-1?C.treeANode:0,ae=$(a.tBodies[0]);if(!0===C.treeGrid&&ne>0?$(a.rows[ne]).after(ie.join("")):C.scroll?ae.append(ie.join("")):null==a.firstElementChild||void 0!==document.documentMode&&document.documentMode<=9?(ae.html(ae.html()+ie.join("")),a.grid.cols=a.rows[0].cells):(a.firstElementChild.innerHTML+=ie.join(""),a.grid.cols=a.rows[0].cells),C.grouping&&R.call(a),!0===C.subGrid)try{r.addSubGrid.call(s,C.iColByName.subgrid)}catch(e){}if(!1===C.gridview||o(C.afterInsertRow))for(g=0;g<Math.min(v,Q);g++)feedback.call(a,"afterInsertRow",re[g],H[g],te[g]);if(C.totaltime=new Date-d,g>0&&0===C.records&&(C.records=v),clearArray(ie),!0===C.treeGrid)try{r.setTreeNode.call(s,ne+1,g+ne+1)}catch(e){}C.reccount=Math.min(v,Q),C.treeANode=-1,C.userDataOnFooter&&r.footerData.call(s,"set",C.userData,!0),u&&(C.records=v,C.lastpage=Math.ceil(v/Q)),i||a.updatepager(!1,!0),J.call(a)}},ee=function(){function e(t){var r,i,n,a,l,d,c,u=0;if(null!=t.groups){for(i=t.groups.length&&"OR"===t.groupOp.toString().toUpperCase(),i&&w.orBegin(),r=0;r<t.groups.length;r++){u>0&&i&&w.or();try{e(t.groups[r])}catch(e){h(e)}u++}i&&w.orEnd()}if(null!=t.rules)try{for(n=t.rules.length&&"OR"===t.groupOp.toString().toUpperCase(),n&&w.orBegin(),r=0;r<t.rules.length;r++)l=t.rules[r],a=t.groupOp.toString().toUpperCase(),y[l.op]&&l.field?(u>0&&a&&"OR"===a&&(w=w.or()),null!=(c=s[l.field])&&(d=c.reader,w=y[l.op](w,a)(o(d)?'jQuery.jgrid.getAccessor(this,jQuery("'+C.idSel+'")[0].p.colModel['+c.iCol+"].jsonmap)":"jQuery.jgrid.getAccessor(this,'"+d+"')",l.data,s[l.field]))):null!=C.customSortOperations&&null!=C.customSortOperations[l.op]&&o(C.customSortOperations[l.op].filter)&&(w=w.custom(l.op,l.field,l.data)),u++;n&&w.orEnd()}catch(e){h(e)}}var t=$(this),i=C.multiSort?[]:"",n={},a=!1,s={},d=[],c=[],p=j("formatter.date.srcformat"),f=j("formatter.date.newformat");if(!l(C.data))return{};C.multiSort&&se(i,n);var g,m,v=!!C.grouping&&C.groupingView,b=function(e,t,r){var n,o,l=e.index||e.name,u=e.sorttype||"text";if(s[e.name]={reader:C.dataTypeOrg?e.name:e.jsonmap||e.name,iCol:t,stype:u,srcfmt:"",newfmt:"",sfunc:e.sortfunc||null,isAddProp:!0===r},"date"!==u&&"datetime"!==u||(e.formatter&&"string"==typeof e.formatter&&"date"===e.formatter?(n=e.formatoptions&&e.formatoptions.srcformat?e.formatoptions.srcformat:p,o=e.formatoptions&&e.formatoptions.newformat?e.formatoptions.newformat:f):n=o=e.datefmt||"Y-m-d",s[e.name].srcfmt=n,s[e.name].newfmt=o),C.grouping)for(m=0,g=v.groupField.length;m<g;m++)e.name===v.groupField[m]&&(d[m]=s[l],c[m]=l);C.multiSort||a||e.index!==C.sortname&&e.name!==C.sortname||(i=e.name,a=!0)};if(u(C.colModel,function(e){b(this,e)}),u(C.additionalProperties,function(e){b("string"==typeof this?{name:this}:this,e,!0)}),C.treeGrid)return r.SortTree.call(t,i,C.sortorder,null!=s[i]&&s[i].stype?s[i].stype:"text",null!=s[i]&&s[i].srcfmt?s[i].srcfmt:""),!1;var y={eq:function(e){return e.equals},ne:function(e){return e.notEquals},lt:function(e){return e.less},le:function(e){return e.lessOrEquals},gt:function(e){return e.greater},ge:function(e){return e.greaterOrEquals},cn:function(e){return e.contains},nc:function(e,t){return"OR"===t?e.orNot().contains:e.andNot().contains},bw:function(e){return e.startsWith},bn:function(e,t){return"OR"===t?e.orNot().startsWith:e.andNot().startsWith},en:function(e,t){return"OR"===t?e.orNot().endsWith:e.andNot().endsWith},ew:function(e){return e.endsWith},ni:function(e,t){return"OR"===t?e.orNot().inSet:e.andNot().inSet},in:function(e){return e.inSet},nu:function(e){return e.isNull},nn:function(e,t){return"OR"===t?e.orNot().isNull:e.andNot().isNull}},w=jgrid.from.call(this,C.data);if(C.ignoreCase&&(w=w.ignoreCase()),!0===C.search){var x=C.postData.filters;if(x)"string"==typeof x&&(x=$.parseJSON(x)),e(x);else try{var D=s[C.postData.searchField];w=y[C.postData.searchOper](w)(o(D.reader)?'jQuery.jgrid.getAccessor(this,jQuery("'+C.idSel+'")[0].p.colModel['+D.iCol+"].jsonmap)":"jQuery.jgrid.getAccessor(this,'"+D.reader+"')",C.postData.searchString,s[C.postData.searchField])}catch(e){}}if(C.grouping)for(m=0;m<g;m++)w.orderBy(c[m],v.groupOrder[m],d[m].stype,d[m].srcfmt);C.multiSort?u(i,function(){w.orderBy(this,n[this],s[this].stype,s[this].srcfmt,s[this].sfunc)}):i&&C.sortorder&&a&&w.orderBy(C.sortname,"DESC"===C.sortorder.toUpperCase()?"d":"a",s[i].stype,s[i].srcfmt,s[i].sfunc),C.lastSelectedData=w.select();var S=parseInt(C.rowNum,10),q=C.lastSelectedData.length,_=parseInt(C.page,10),F=Math.ceil(q/S),R={};if(C.grouping&&C.groupingView._locgr){C.groupingView.groups=[];var k,O,I;if(C.footerrow&&C.userDataOnFooter){for(O in C.userData)C.userData.hasOwnProperty(O)&&(C.userData[O]=0);I=!0}for(k=0;k<q;k++){if(I)for(O in C.userData)C.userData.hasOwnProperty(O)&&(C.userData[O]+=parseFloat(C.lastSelectedData[k][O]||0));r.groupingPrepare.call(t,C.lastSelectedData[k],k,S)}}w=null,s=null;var N=C.localReader;return R[N.total]=F,R[N.page]=_,R[N.records]=q,R[N.root]=C.lastSelectedData.slice((_-1)*S,_*S),R[N.userdata]=C.userData,R},te=function(e){var t,r=this,i=e.outerWidth();return i<=0&&(t=$(r).closest(".ui-jqgrid>.ui-jqgrid-view").css("font-size")||"11px",$(document.body).append("<div id='testpg' class='"+w("gBox","ui-jqgrid")+"' style='font-size:"+t+";visibility:hidden;margin:0;padding:0;' ></div>"),$(e).clone().appendTo("#testpg"),i=$("#testpg>.ui-pg-table").width(),$("#testpg").remove()),i>0&&e.parent().width(i),i},re=function(e,t){var r,i,n,a,o,l,s,d,c=this,u=$(c),p=c.grid,f=C.pager||"",h=C.pager?"_"+C.pager.substr(1):"",g=p.bDiv,m=$.fmatter?$.fmatter.NumberFormat:null,v=C.toppager?"_"+C.toppager.substr(1):"",b=w("states.hover"),y=w("states.disabled");if(n=parseInt(C.page,10)-1,n<0&&(n=0),n*=parseInt(C.rowNum,10),o=n+C.reccount,C.scroll){var x=$(getGridComponent(COMPONENT_NAMES.BODY_TABLE,g)[0].rows).slice(1);n=o-x.length,C.reccount=x.length;var S=x.outerHeight()||p.prevRowHeight;if(S){var q=n*S,_=jgrid.fixMaxHeightOfDiv.call(c,parseInt(C.records,10)*S);$(g).children("div").first().css({height:_+"px"}).children("div").first().css({height:q+"px",display:""}),0===g.scrollTop&&C.page>1&&(g.scrollTop=C.rowNum*(C.page-1)*S)}g.scrollLeft=p.hDiv.scrollLeft}if(f+=C.toppager?(f?",":"")+C.toppager:""){if(s=j("formatter.integer")||{},r=O(C.page),i=O(C.lastpage),$(".selbox",f).prop("disabled",!1),!0===C.pginput){var F=$(".ui-pg-input",f),R=String(C.page).length;F.val(C.page),F.each(function(){var e=parseInt($(this).attr("size"),10);e>0&&e<R&&$(this).attr("size",R)}),d=C.toppager?"#sp_1"+h+",#sp_1"+v:"#sp_1"+h,$(d).html($.fmatter?m(C.lastpage,s):C.lastpage).closest(".ui-pg-table").each(function(){te.call(c,$(this))})}C.viewrecords&&(0===C.reccount?$(".ui-paging-info",f).html(D("emptyrecords")):(a=n+1,l=C.records,$.fmatter&&(a=m(a,s),o=m(o,s),l=m(l,s)),$(".ui-paging-info",f).html(jgrid.format(D("recordtext"),a,o,l)))),!0===C.pgbuttons&&(i<=0&&(r=0),r<=0&&(r=i=0),1===r||0===r?($("#first"+h+", #prev"+h).addClass(y).removeClass(b),C.toppager&&$("#first_t"+v+", #prev_t"+v).addClass(y).removeClass(b)):($("#first"+h+", #prev"+h).removeClass(y),C.toppager&&$("#first_t"+v+", #prev_t"+v).removeClass(y)),r===i||0===r?($("#next"+h+", #last"+h).addClass(y).removeClass(b),C.toppager&&$("#next_t"+v+", #last_t"+v).addClass(y).removeClass(b)):($("#next"+h+", #last"+h).removeClass(y),C.toppager&&$("#next_t"+v+", #last_t"+v).removeClass(y)))}!0===e&&!0===C.rownumbers&&$(">td.jqgrid-rownum",c.rows).each(function(e){$(this).html(n+1+e)}),t&&C.jqgdnd&&u.jqGrid("gridDnD","updateDnD"),feedback.call(c,"gridComplete"),u.triggerHandler("jqGridAfterGridComplete")},ie=function(){var e=this;e.grid.hDiv.loading=!0,C.hiddengrid||r.progressBar.call($(e),{method:"show",loadtype:C.loadui,htmlcontent:D("loadtext")})},ne=function(){var e=this;e.grid.hDiv.loading=!1,r.progressBar.call($(e),{method:"hide",loadtype:C.loadui})},ae=function(e){var t=this,i=$(t),a=t.grid;if(!a.hDiv.loading){var l,d,c=C.scroll&&!1===e,u={},p=C.prmNames;C.page<=0&&(C.page=Math.min(1,C.lastpage)),null!==p.search&&(u[p.search]=C.search),null!==p.nd&&(u[p.nd]=(new Date).getTime()),(isNaN(parseInt(C.rowNum,10))||parseInt(C.rowNum,10)<=0)&&(C.rowNum=C.maxRowNum),null!==p.rows&&(u[p.rows]=C.rowNum),null!==p.page&&(u[p.page]=C.page),null!==p.sort&&(u[p.sort]=C.sortname),null!==p.order&&(u[p.order]=C.sortorder),null!==C.rowTotal&&null!==p.totalrows&&(u[p.totalrows]=C.rowTotal);var f=o(C.loadComplete),h=f?C.loadComplete:null,g=0;if(e=e||1,e>1?null!==p.npage?(u[p.npage]=e,g=e-1,e=1):h=function(r){C.page++,a.hDiv.loading=!1,f&&C.loadComplete.call(t,r),ae.call(t,e-1)}:null!==p.npage&&delete C.postData[p.npage],C.grouping&&r.groupingSetup){r.groupingSetup.call(i);var m,v,b,y,w=C.groupingView,x="";for(m=0;m<w.groupField.length;m++){for(v=w.groupField[m],b=0;b<C.colModel.length;b++)y=C.colModel[b],y.name===v&&y.index&&(v=y.index);x+=v+" "+w.groupOrder[m]+", "}u[p.sort]=x+u[p.sort]}s(C.postData,u);var j=C.scroll?t.rows.length-1:1,D=function(){S.call(t),C.autowidth||void 0!==C.widthOrg&&"auto"!==C.widthOrg&&"100%"!==C.widthOrg||r.setGridWidth.call(i,C.tblwidth+C.scrollOffset,!1)},q=function(){var e;if(C.autoresizeOnLoad)r.autoResizeAllColumns.call(i),clearArray(C.columnsToReResizing),C.autowidth&&r.setGridWidth.call(i,i.closest(".ui-jqgrid").parent().width(),!0);else{for(e=0;e<C.columnsToReResizing.length;e++)r.autoResizeColumn.call(i,C.columnsToReResizing[e]);clearArray(C.columnsToReResizing)}},_=function(){feedback.call(t,"loadComplete",d),q(),i.triggerHandler("jqGridAfterLoadComplete",[d]),ne.call(t),C.datatype="local",C.datastr=null,D()},F=function(r){i.triggerHandler("jqGridLoadComplete",[r]),h&&h.call(t,r),q(),i.triggerHandler("jqGridAfterLoadComplete",[r]),c&&a.populateVisible.call(t),1===e&&ne.call(t),D()},R=function(){var r=ee.call(t);Z.call(t,r,j,e>1,g),F(r)};if(!feedback.call(t,"beforeRequest"))return;if(o(C.datatype))return void C.datatype.call(t,C.postData,"load_"+C.id,j,e,g);switch(l=C.datatype.toLowerCase(),$(I.eDiv).hide(),l){case"json":case"jsonp":case"xml":case"script":$.ajax(s({url:C.url,type:C.mtype,dataType:l,data:jgrid.serializeFeedback.call(n,C.serializeGridData,"jqGridSerializeGridData",C.postData),success:function(r,i,n){if(C.jqXhr=null,$(I.eDiv).hide(),o(C.beforeProcessing)&&!1===C.beforeProcessing.call(t,r,i,n))return void ne.call(t);Z.call(t,r,j,e>1,g),F(r),(C.loadonce||C.treeGrid)&&(C.dataTypeOrg=C.datatype,C.datatype="local",C.forceClientSorting&&R())},error:function(r,i,n){C.jqXhr=null,o(C.loadError)&&C.loadError.call(t,r,i,n),1===e&&ne.call(t)},beforeSend:function(e,r){var i=!0;if(o(C.loadBeforeSend)&&(i=C.loadBeforeSend.call(t,e,r)),void 0===i&&(i=!0),!1===i)return!1;C.jqXhr=e,ie.call(t)}},jgrid.ajaxOptions,C.ajaxGridOptions));break;case"xmlstring":ie.call(t),d="string"==typeof C.datastr?$.parseXML(C.datastr):C.datastr,Z.call(t,d),_(),C.forceClientSorting&&R();break;case"jsonstring":ie.call(t),d=C.datastr&&"string"==typeof C.datastr?$.parseJSON(C.datastr):C.datastr,Z.call(t,d),_(),C.forceClientSorting&&R();break;case"local":case"clientside":ie.call(t),C.datatype="local",R()}}},oe=function(e){var t=this,r=t.grid;$(C.cb,r.hDiv).prop("checked",e),C.frozenColumns&&$(C.cb,r.fhDiv).prop("checked",e)},le=function(e,t){var r,i,a,o,l,s,d=w("states.hover"),c=w("states.disabled"),u="<td class='ui-pg-button "+c+"'><span class='ui-separator'></span></td>",p="",f="left"===C.pagerpos?"margin-right:auto;":"right"===C.pagerpos?"margin-left:auto;":"margin-left:auto;margin-right:auto;",h="<table style='table-layout:auto;white-space: pre;"+f+"' class='ui-pg-table'><tbody><tr>",g="",m=function(e,t,r){return!!feedback.call(n,"onPaging",e,{newPage:t,currentPage:O(C.page,1),lastPage:O(C.lastpage,1),currentRowNum:O(C.rowNum,10),newRowNum:r})&&(C.selrow=null,C.multiselect&&(C.multiPageSelection||clearArray(C.selarrrow),oe.call(n,!1)),clearArray(C.savedRow),!0)};if(t+="_"+e,r="pg_"+e,i=e+"_left",a=e+"_center",o=e+"_right",$("#"+jqID(e)).append("<div id='"+r+"' class='ui-pager-control' role='group'><table class='ui-pg-table' style='width:100%;table-layout:fixed;height:100%;'><tbody><tr><td id='"+i+"' class='ui-jqgrid-pg-left'"+(void 0!==C.pagerLeftWidth?" style='width:"+C.pagerLeftWidth+"px;'":"")+"></td><td id='"+a+"' class='ui-jqgrid-pg-center'"+(void 0!==C.pagerCenterWidth?" style='width:"+C.pagerCenterWidth+"px;'":"")+"></td><td id='"+o+"' class='ui-jqgrid-pg-right'"+(void 0!==C.pagerRightWidth?" style='width:"+C.pagerRightWidth+"px;'":"")+"></td></tr></tbody></table></div>").attr("dir","ltr"),r="#"+jqID(r),C.rowList.length>0){g="<td dir='"+N+"'>";var v=D("pgrecs");g+="<select class='"+w("pager.pagerSelect","ui-pg-selbox")+"' "+(v?"title='"+v+"'":"")+">";var b;for(s=0;s<C.rowList.length;s++)b=C.rowList[s].toString().split(":"),1===b.length&&(b[1]=b[0]),g+="<option value='"+b[0]+"'"+(O(C.rowNum,0)===O(b[0],0)?" selected='selected'":"")+">"+b[1]+"</option>";g+="</select></td>"}if("rtl"===N&&(h+=g),!0===C.pginput&&(p="<td dir='"+N+"'>"+jgrid.format(D("pgtext")||"","<input aria-label='Page No.' class='"+w("pager.pagerInput","ui-pg-input")+"' type='text' size='2' maxlength='7' value='0'/>","<span id='sp_1_"+e+"'>0</span>")+"</td>"),e="#"+jqID(e),!0===C.pgbuttons){var x=["first","prev","next","last"],j=x.slice(),S=w("pager.pagerButton","ui-pg-button");for("rtl"===N&&x.reverse(),s=0;s<x.length;s++)h+=function(e,r){var i=D("pg"+e);return"<td role='button' tabindex='0' id='"+e+t+"' class='"+S+"' "+(i?"title='"+i+"'":"")+"><span class='"+y("pager."+r)+"'></span></td>"}(x[s],j[s]),1===s&&(h+=""!==p?u+p+u:"")}else""!==p&&(h+=p);"ltr"===N&&(h+=g),h+="</tr></tbody></table>",!0===C.viewrecords&&$("td"+e+"_"+C.recordpos,r).append("<span dir='"+N+"' style='text-align:"+C.recordpos+"' class='ui-paging-info'></span>");var q=$("td"+e+"_"+C.pagerpos,r);q.append(h),l=te.call(this,q.children(".ui-pg-table")),C._nvtd=[],C._nvtd[0]=l?Math.floor((C.width-l)/2):Math.floor(C.width/3),C._nvtd[1]=0,h=null,$(".ui-pg-selbox",r).on("change",function(){var e=O(this.value,10),t=Math.round(C.rowNum*(C.page-1)/e-.5)+1;return!!m("records",t,e)&&(C.page=t,C.rowNum=e,C.pager&&$(".ui-pg-selbox",C.pager).val(e),C.toppager&&$(".ui-pg-selbox",C.toppager).val(e),ae.call(n),!1)}),!0===C.pgbuttons&&($(".ui-pg-button",r).hover(function(){hasOneFromClasses(this,c)?this.style.cursor="default":($(this).addClass(d),this.style.cursor="pointer")},function(){hasOneFromClasses(this,c)||($(this).removeClass(d),this.style.cursor="default")}),$("#first"+jqID(t)+", #prev"+jqID(t)+", #next"+jqID(t)+", #last"+jqID(t)).click(function(){if(hasOneFromClasses(this,c))return!1;var e=O(C.page,1),r=e,i=this.id,a=O(C.lastpage,1),o=!1,l=!0,s=!0,d=!0,u=!0;return 0===a||1===a?(e<=1&&(l=!1,s=!1),d=!1,u=!1):a>1&&e>=1?1===e?(l=!1,s=!1):e===a&&(d=!1,u=!1):a>1&&0===e&&(d=!1,u=!1,e=a-1),this.id==="first"+t&&l&&(i="first",r=1,o=!0),this.id==="prev"+t&&s&&(i="prev",r=e-1,o=!0),this.id==="next"+t&&d&&(i="next",r=e+1,o=!0),this.id==="last"+t&&u&&(i="last",r=a,o=!0),!!m(i,r,O(C.rowNum,10))&&(C.page=r,o&&ae.call(n),!1)})),!0===C.pginput&&$("input.ui-pg-input",r).on("keypress.jqGrid",function(e){var t=e.charCode||e.keyCode||0,r=O($(this).val(),1);return 13===t?!!m("user",r,O(C.rowNum,10))&&($(this).val(r),C.page=$(this).val()>0?$(this).val():C.page,ae.call(n),!1):this}),q.children(".ui-pg-table").on("keydown.jqGrid",function(e){var t;13===e.which&&(t=q.find(":focus"),t.length>0&&t.trigger("click"))})},se=function(e,t,r){if(u((C.sortname+" "+C.sortorder).split(","),function(){var t=$.trim(this).split(" ");2===t.length&&e.push(t[0])}),null!=r){var i=$.inArray(r.index||r.name,e);""!==r.lso&&i<0?e.push(r.index||r.name):""===r.lso&&i>=0&&e.splice(i,1)}u(C.colModel,function(){var r,i=this.index||this.name;this.lso&&(r=this.lso.split("-"),$.inArray(i,e)<0&&e.push(i),t[i]=r[r.length-1])})},de=function(e,t){var r,i="",a=C.colModel[e],o=w("states.disabled"),l=$(C.frozenColumns?t:n.grid.headers[e].el),s=l.find("span.s-ico"),d=s.children("span.ui-icon-asc"),c=s.children("span.ui-icon-desc"),p=d,f=c,h=[],g={};l.find("span.ui-grid-ico-sort").addClass(o),l.attr("aria-selected","false"),a.lso?(s.show(),r=a.lso.split("-"),r=r[r.length-1],"desc"===r&&(p=c,f=d),p.removeClass(o).css("display",""),C.showOneSortIcon&&f.hide(),l.attr("aria-selected","true")):C.viewsortcols[0]||s.hide(),se(h,g,a),u(h,function(){i.length>0&&(i+=", "),i+=this+" "+g[this],C.sortorder=g[this]}),C.sortname=i.substring(0,i.length-C.sortorder.length-1)},ce=function(e,t,i,n,a){var o=this,l=o.grid,s=C.colModel[t],d=w("states.disabled");if(null!=s&&s.sortable&&!(C.savedRow.length>0)){if(i||(C.lastsort===t&&""!==C.sortname?("asc"===C.sortorder?C.sortorder="desc":"desc"===C.sortorder?C.sortorder="asc":C.sortorder=s.firstsortorder||"asc",s.lso?"asc"===s.lso?s.lso+="-desc":"desc"===s.lso?s.lso+="-asc":"asc-desc"!==s.lso&&"desc-asc"!==s.lso||!C.threeStateSort&&!C.multiSort||(s.lso=""):s.lso=s.firstsortorder||"asc"):s.lso=C.sortorder=s.firstsortorder||"asc",C.page=1),C.multiSort)de(t,a);else{if(n){if(C.lastsort===t&&C.sortorder===n&&!i)return;C.sortorder=n}var c=l.headers,u=l.fhDiv,p=c[C.lastsort]?$(c[C.lastsort].el):$(),f=$(C.frozenColumns?a:c[t].el),h=f.find("span.s-ico"),g=h.children("span.ui-icon-"+C.sortorder),m=h.children("span.ui-icon-"+("asc"===C.sortorder?"desc":"asc"));s=C.colModel[C.lastsort],p.find("span.ui-grid-ico-sort").addClass(d),p.attr("aria-selected","false"),C.frozenColumns&&(u.find("span.ui-grid-ico-sort").addClass(d),u.find("th").attr("aria-selected","false")),C.viewsortcols[0]||(C.lastsort!==t?(C.frozenColumns&&u.find("span.s-ico").hide(),p.find("span.s-ico").hide(),h.show()):""===C.sortname&&h.show()),C.lastsort!==t&&"true"===p.data("autoResized")&&(null!=s&&null!=s.autoResizing&&s.autoResizing.compact||C.autoResizing.compact)&&C.columnsToReResizing.push(C.lastsort),s=C.colModel[t],h.css("display",""),""!==s.lso?(g.removeClass(d).css("display",""),C.showOneSortIcon&&m.removeClass(d).hide(),f.attr("aria-selected","true")):(f.attr("aria-selected","false"),C.threeStateSort&&(C.sortorder="",C.viewsortcols[0]||h.hide())),C.lastsort!==t&&"true"===f.data("autoResized")&&(null!=s&&null!=s.autoResizing&&s.autoResizing.compact||C.autoResizing.compact)&&C.columnsToReResizing.push(t),e=e.substring(5+C.id.length+1),C.sortname=s.index||e}if(!feedback.call(o,"onSortCol",C.sortname,t,C.sortorder))return void(C.lastsort=t);if("local"===C.datatype?C.deselectAfterSort&&!C.multiPageSelection&&r.resetSelection.call($(o)):C.multiPageSelection||(C.selrow=null,C.multiselect&&(oe.call(o,!1),clearArray(C.selarrrow))),clearArray(C.savedRow),C.scroll){var v=l.bDiv.scrollLeft;I.emptyRows.call(o,!0,!1),l.hDiv.scrollLeft=v}C.subGrid&&"local"===C.datatype&&$("td.sgexpanded","#"+jqID(C.id)).each(function(){$(this).trigger("click")}),ae.call(o),C.lastsort=t,C.sortname!==e&&t&&(C.lastsort=t)}},ue=function(e){var t,r=e,i=e;for(t=e+1;t<C.colModel.length;t++)if(!0!==C.colModel[t].hidden){i=t;break}return i-r},pe=function(e){return C.iColByName[(e.id||"").substring(C.id.length+1)]};-1===d(C.multikey,M)&&(C.multikey=!1),C.keyName=!1,C.sortorder=C.sortorder.toLowerCase(),jgrid.cell_width=jgrid.cellWidth();var fe,he,ge=jgrid.cmTemplate;for(fe=0;fe<C.colModel.length;fe++)he=C.colModel[fe],A="string"==typeof he.template?null==ge||"object"!=typeof ge[he.template]&&!$.isFunction(ge[he.template])?{}:ge[he.template]:he.template,o(A)&&(A=A.call(n,{cm:he,iCol:fe})),he=s(!0,{},C.cmTemplate,A||{},he),!1===C.keyName&&!0===he.key&&(C.keyName=he.name),C.colModel[fe]=he;for(C.indexByColumnData=_(),fe=0;fe<C.additionalProperties.length;fe++)he=C.additionalProperties[fe],!1===C.keyName&&!0===he.key&&(C.keyName=he.name);if(0===C.colNames.length)for(fe=0;fe<C.colModel.length;fe++)C.colNames[fe]=void 0!==C.colModel[fe].label?C.colModel[fe].label:C.colModel[fe].name;if(C.colNames.length!==C.colModel.length)return void h(j("errors.model"));if(!0===C.grouping&&(C.scroll=!1,C.rownumbers=!1,C.treeGrid=!1,C.gridview=!0),C.subGrid&&o(r.setSubGrid))try{r.setSubGrid.call(a)}catch(e){}if(C.multiselect&&("left"===C.multiselectPosition||"right"===C.multiselectPosition)){var me="left"===C.multiselectPosition?"unshift":"push";C.colNames[me]("<input id='"+C.cbId+"' class='cbox' type='checkbox' aria-checked='false'/>"),C.colModel[me]({name:"cb",width:jgrid.cell_width?C.multiselectWidth+C.cellLayout:C.multiselectWidth,labelClasses:"jqgh_cbox",classes:"td_cbox",sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0,frozen:!0})}if(C.rownumbers&&(C.colNames.unshift(""),C.colModel.unshift({name:"rn",width:jgrid.cell_width?C.rownumWidth+C.cellLayout:C.rownumWidth,labelClasses:"jqgh_rn",sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0,frozen:!0})),C.iColByName=q(C.colModel),C.xmlReader=s(!0,{root:"rows",row:"row",page:"rows>page",total:"rows>total",records:"rows>records",repeatitems:!0,cell:"cell",id:"[id]",userdata:"userdata",subgrid:{root:"rows",row:"row",repeatitems:!0,cell:"cell"}},C.xmlReader),C.jsonReader=s(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!0,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},C.jsonReader),C.localReader=s(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!1,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},C.localReader),C.scroll&&(C.pgbuttons=!1,C.pginput=!1,C.rowList=[]),!0===C.treeGrid){try{r.setTreeGrid.call(a)}catch(e){}"local"!==C.datatype&&(C.localReader={id:"_id_"}),C.iPropByName=F(C.additionalProperties)}if(function(){var e,t,r,i=C.remapColumns,n=C.colModel,a=n.length,o=[];for(e=0;e<a;e++)r=n[e].name,d(r,C.reservedColumnNames)<0&&o.push(r);if(null!=i)for(t=o.slice(),e=0;e<i.length;e++)o[e]=t[i[e]];C.cmNamesInputOrder=o}(),function(){var e,t,r,i,n,a=C.colModel,o=C.cmNamesInputOrder,l=C.additionalProperties,s=o.length;for(C.arrayReaderInfos={},t=C.arrayReaderInfos,n=0;n<s;n++)r=o[n],d(r,C.reservedColumnNames)<0&&!t.hasOwnProperty(r)&&(i=C.iColByName[r],void 0!==i?t[r]={name:a[i].name,index:i,order:n,type:0}:(i=C.iPropByName[r],void 0!==i?t[r]={name:a[i].name,index:i,order:n,type:1}:r===(C.prmNames.rowidName||"rowid")&&(t[r]={index:i,type:2})));for(s=a.length,e=0;e<s;e++)r=a[e].name,d(r,C.reservedColumnNames)<0&&!t.hasOwnProperty(r)&&(t[r]={name:r,index:e,order:n,type:0},n++);for(s=l.length,e=0;e<s;e++)null==(r=l[e])||t.hasOwnProperty(r)||("object"==typeof r&&"string"===$.type(r.name)&&(r=r.name),t[r]={name:r,index:e,order:n,type:1},n++)}(),C.data.length&&(Y.call(n),X.call(n)),!0===C.shrinkToFit&&!0===C.forceFit)for(fe=C.colModel.length-1;fe>=0;fe--)if(!0!==C.colModel[fe].hidden){C.colModel[fe].resizable=!1;break}var ve,be,ye,we,$e,xe,Ce,je,De=[],Se=[],qe=[],_e="<thead><tr class='ui-jqgrid-labels' role='row'>",Fe="<tbody><tr style='display:none;'>",Re=w("states.hover"),ke=w("states.disabled");if(C.multiSort){De=C.sortname.split(",");var Oe;for(Oe=0;Oe<De.length;Oe++)qe=c(De[Oe]).split(" "),De[Oe]=c(qe[0]),Se[Oe]=qe[1]?c(qe[1]):C.sortorder||"asc"}for(fe=0;fe<C.colNames.length;fe++){switch(he=C.colModel[fe],$e=C.headertitles||he.headerTitle?" title='"+stripHtml("string"==typeof he.headerTitle?he.headerTitle:C.colNames[fe])+"'":"",_e+="<th id='"+C.id+"_"+he.name+"' class='"+w("colHeaders","ui-th-column ui-th-"+N+" "+(he.labelClasses||""))+"'"+$e+">",ve=he.index||he.name,he.labelAlign){case"left":xe="text-align:left;";break;case"right":xe="text-align:right;"+(!1===he.sortable?"":"padding-right:"+C.autoResizing.widthOfVisiblePartOfSortIcon+"px;");break;case"likeData":xe=void 0===he.align||"left"===he.align?"text-align:left;":"right"===he.align?"text-align:right;"+(!1===he.sortable?"":"padding-right:"+C.autoResizing.widthOfVisiblePartOfSortIcon+"px;"):"";break;default:xe=""}_e+="<div id='jqgh_"+C.id+"_"+he.name+"'"+(E?" class='ui-th-div-ie'":"")+(""===xe?"":" style='"+xe+"'")+" role='columnheader'>",je=he.autoResizable&&"actions"!==he.formatter?"<span class='"+C.autoResizing.wrapperClassName+"'>"+C.colNames[fe]+"</span>":C.colNames[fe],C.sortIconsBeforeText?(_e+=(C.builderSortIcons||jgrid.builderSortIcons).call(n,fe),_e+=je):(_e+=je,_e+=(C.builderSortIcons||jgrid.builderSortIcons).call(n,fe)),_e+="</div></th>",Fe+="<td></td>",he.width=he.width?parseInt(he.width,10):150,"boolean"!=typeof he.title&&(he.title=!0),he.lso="",ve===C.sortname&&(C.lastsort=fe,he.lso=C.sortorder||he.firstsortorder||"asc"),C.multiSort&&-1!==(qe=d(ve,De))&&(he.lso=Se[qe])}_e+="</tr></thead>",Fe+="</tr></tbody>";var Ie=$("<table class='"+w("hTable","ui-jqgrid-htable")+"' style='width:1px' role='presentation' aria-labelledby='gbox_"+C.id+"'>"+_e+Fe+"</table>");if($(Ie[0].tHead).children("tr").children("th").hover(function(){$(this).addClass(Re)},function(){$(this).removeClass(Re)}),C.multiselect&&$(C.cb,Ie).on("click",function(){var e,t,r=w("states.select"),i=[],a=C.iColByName.cb,o=function(e,t){$(e)[t?"addClass":"removeClass"](r).attr(t?{"aria-selected":"true",tabindex:"0"}:{"aria-selected":"false",tabindex:"-1"}),void 0!==a&&$(e.cells[a]).children("input.cbox").prop("checked",t)},l=I.fbRows,s=ke+" ui-subgrid jqgroup jqfoot jqgfirstrow jqgskipselect",d=C._index;if(clearArray(C.selarrrow),this.checked){if(e=!0,C.selrow=n.rows.length>1?n.rows[n.rows.length-1].id:null,C.multiPageSelection&&("local"===C.datatype||C.treeGrid)&&null!=C.data&&C.data.length>0&&null!=d)for(t in d)d.hasOwnProperty(t)&&C.selarrrow.push(C.idPrefix+t)}else e=!1,C.selrow=null;var c=e?C.selarrrow:i;$(n.rows).each(function(t){hasOneFromClasses(this,s)||(o(this,e),$.inArray(this.id,c)<0&&c.push(this.id),l&&o(l[t],e))}),feedback.call(n,"onSelectAll",e?C.selarrrow:i,e)}),!0===C.autowidth){var Ne=Math.floor($(T).innerWidth());C.width=Ne>0?Ne:"nw"}isNaN(C.width)?isNaN(parseFloat(C.width))||(C.width=parseFloat(C.width)):C.width=Number(C.width),C.widthOrg=C.width,function(){var e,t,r,i,n=0,a=jgrid.cell_width?0:O(C.cellLayout,0),o=0,l=O(C.scrollOffset,0),s=!1,c=0,p=jgrid.isCellClassHidden;u(C.colModel,function(){if(void 0===this.hidden&&(this.hidden=!1),C.grouping&&C.autowidth){var e=d(this.name,C.groupingView.groupField);e>=0&&C.groupingView.groupColumnShow.length>e&&(this.hidden=!C.groupingView.groupColumnShow[e])}this.widthOrg=t=O(this.width,0),!1!==this.hidden||p(this.classes)||(n+=t+a,this.fixed?c+=t+a:o++)}),isNaN(C.width)&&(C.width=n+(!1!==C.shrinkToFit||isNaN(C.height)?0:l)),I.width=C.width,C.tblwidth=n,!1===C.shrinkToFit&&!0===C.forceFit&&(C.forceFit=!1),!0===C.shrinkToFit&&o>0&&(r=I.width-a*o-c,isNaN(C.height)||(r-=l,s=!0),n=0,u(C.colModel,function(i){!1!==this.hidden||p(this.classes)||this.fixed||(t=Math.round(r*this.width/(C.tblwidth-a*o-c)),this.width=t,n+=t,e=i)}),i=0,s?I.width-c-(n+a*o)!==l&&(i=I.width-c-(n+a*o)-l):s||1===Math.abs(I.width-c-(n+a*o))||(i=I.width-c-(n+a*o)),C.colModel[e].width+=i,C.tblwidth=n+i+a*o+c,C.tblwidth>C.width&&(C.colModel[e].width-=C.tblwidth-parseInt(C.width,10),C.tblwidth=C.width))}(),$(T).css("width",I.width+"px").append("<div class='"+w("resizer","ui-jqgrid-resize-mark")+"' id='"+C.rsId+"'>&#160;</div>"),$(C.rs).on("selectstart",function(){return!1}).click(k).dblclick(function(e){var t=$(this).data("idx"),i=$(this).data("pageX"),o=C.colModel[t];if(null==i||null==o)return!1;var l=String(i).split(";"),s=parseFloat(l[0]),d=parseFloat(l[1]);return(2!==l.length||!(Math.abs(s-d)>5||Math.abs(e.pageX-s)>5||Math.abs(e.pageX-d)>5))&&(feedback.call(n,"resizeDblClick",t,o,e)&&o.autoResizable&&r.autoResizeColumn.call(a,t),feedback.call(n,"afterResizeDblClick",{iCol:t,cm:o,cmName:o.name}),!1)}),$(G).css("width",I.width+"px");var Ge="";C.footerrow&&(Ge+="<table role='presentation' style='width:1px' class='"+w("gridFooter","ui-jqgrid-ftable")+"'><tbody><tr role='row' class='"+w("rowFooter","footrow footrow-"+N)+"'>");var Ee="<tr class='"+w("gridRow","jqgfirstrow ui-row-"+C.direction)+"' role='row' style='height:auto'>";if(C.disableClick=!1,$("th",Ie[0].tHead.rows[0]).each(function(e){var t=C.colModel[e],r=t.name,i=$(this),n=i.children("div"),a=n.children("span.s-ico"),o=C.showOneSortIcon;be=t.width,void 0===t.resizable&&(t.resizable=!0),t.resizable?(ye=document.createElement("span"),$(ye).html("&#160;").addClass("ui-jqgrid-resize ui-jqgrid-resize-"+N).on("selectstart",function(){return!1}),i.addClass(C.resizeclass)):ye="",i.css("width",be+"px").prepend(ye),ye=null;var l="";if(!0===t.hidden&&(i.css("display","none"),l="display:none;"),Ee+="<td role='gridcell' "+(t.classes?"class='"+t.classes+"' ":"")+"style='height:0;width:"+be+"px;"+l+"'></td>",I.headers[e]={width:be,el:this},we=t.sortable,"boolean"!=typeof we&&(t.sortable=!0,we=!0),"cb"!==r&&"subgrid"!==r&&"rn"!==r&&we&&C.viewsortcols[2]&&n.addClass("ui-jqgrid-sortable"),we)if(C.multiSort){var s="desc"===t.lso?"asc":"desc";C.viewsortcols[0]?(a.css("display",""),t.lso&&(a.children("span.ui-icon-"+t.lso).removeClass(ke),o&&a.children("span.ui-icon-"+s).hide())):t.lso&&(a.css("display",""),a.children("span.ui-icon-"+t.lso).removeClass(ke),o&&a.children("span.ui-icon-"+s).hide())}else{var d="desc"===C.sortorder?"asc":"desc";C.viewsortcols[0]?(a.css("display",""),e===C.lastsort&&(a.children("span.ui-icon-"+C.sortorder).removeClass(ke),o&&a.children("span.ui-icon-"+d).hide())):e===C.lastsort&&""!==t.lso&&(a.css("display",""),a.children("span.ui-icon-"+C.sortorder).removeClass(ke),o&&a.children("span.ui-icon-"+d).hide())}C.footerrow&&(Ge+="<td role='gridcell' "+P(e,0,"",null,"",!1)+">&#160;</td>")}).mousedown(function(e){var t,r=$(this),i=r.closest(".ui-jqgrid-hdiv").hasClass("frozen-div");if(1===$(e.target).closest("th>span.ui-jqgrid-resize").length)return t=pe(this),null!=t&&(!0===C.forceFit&&(C.nv=ue(t)),I.dragStart(t,e,function(){var e=[r.position().left+r.outerWidth()];return"rtl"===C.direction&&(e[0]=C.width-e[0]),e[0]-=i?0:I.bDiv.scrollLeft,e.push($(I.hDiv).position().top),e.push($(I.bDiv).offset().top-$(I.hDiv).offset().top+$(I.bDiv).height()+(I.sDiv?$(I.sDiv).height():0)),e}(),r)),!1}).click(function(e){if(C.disableClick)return C.disableClick=!1,!1;var t,r,i="th.ui-th-column>div";C.viewsortcols[2]?i+=".ui-jqgrid-sortable":i+=">span.s-ico>span.ui-grid-ico-sort";var a=$(e.target).closest(i);if(1===a.length){C.viewsortcols[2]||(t=!0,r=a.hasClass("ui-icon-desc")?"desc":"asc");var o=pe(this);return null!=o&&ce.call(n,$("div",this)[0].id,o,t,r,this),!1}}),C.sortable&&o(r.sortableColumns))try{r.sortableColumns.call(a,$(Ie[0].tHead.rows[0]))}catch(e){}C.footerrow&&(Ge+="</tr></tbody></table>"),Ee+="</tr>",a.html("<tbody>"+Ee+"</tbody>"),a.addClass(w("grid","ui-jqgrid-btable"+(!0===C.altRows&&a.jqGrid("isBootstrapGuiStyle")?" table-striped":"")));var Te=!(!C.caption||!0!==C.hiddengrid),Ae=$("<div class='ui-jqgrid-hbox"+("rtl"===N?"-rtl":"")+"'></div>"),Me=w("top"),Be=w("bottom");if(I.hDiv=document.createElement("div"),$(I.hDiv).css({width:I.width+"px"}).addClass(w("hDiv","ui-jqgrid-hdiv")).append(Ae).scroll(function(){var e=$(this).next(".ui-jqgrid-bdiv")[0];return e&&(e.scrollLeft=this.scrollLeft),!1}),$(Ae).append(Ie),Ie=null,Te&&$(I.hDiv).hide(),C.rowNum=parseInt(C.rowNum,10),(isNaN(C.rowNum)||C.rowNum<=0)&&(C.rowNum=C.maxRowNum),C.pager){var Pe,Le;"string"==typeof C.pager&&"#"!==C.pager.substr(0,1)?(Le=C.pager,Pe=$("#"+jqID(C.pager))):!0===C.pager?(Le=randId(),Pe=$("<div id='"+Le+"'></div>"),Pe.appendTo("body"),C.pager="#"+jqID(Le)):(Pe=$(C.pager),Le=Pe.attr("id")),Pe.length>0?(Pe.css({width:I.width+"px"}).addClass(w("pager.pager","ui-jqgrid-pager "+Be)).appendTo(T),Te&&Pe.hide(),le.call(n,Le,""),C.pager="#"+jqID(Le)):C.pager=""}!1===C.cellEdit&&!0===C.hoverrows&&a.on("mouseover.jqGrid",function(e){Ce=$(e.target).closest("tr.jqgrow"),"ui-subgrid"!==$(Ce).attr("class")&&$(Ce).addClass(Re)}).on("mouseout.jqGrid",function(e){Ce=$(e.target).closest("tr.jqgrow"),$(Ce).removeClass(Re)});var ze,He,Ve,We=function(e){var t,r,i;do{if(t=$(e).closest("td"),t.length>0){if(r=t.parent(),i=r.parent().parent(),r.is(".jqgrow")&&(i[0]===this||i.is("table.ui-jqgrid-btable")&&(i[0].id||"").replace("_frozen","")===this.id))break;e=t.parent()}}while(t.length>0);return t};a.before(I.hDiv).click(function(e){var t=w("states.select"),i=e.target,o=We.call(n,i),l=o.parent();if(0!==l.length&&!hasOneFromClasses(l,ke)){ze=l[0].id;var s=$(i).hasClass("cbox")&&$(i).is(":enabled")&&!hasOneFromClasses(i,ke),d=feedback.call(n,"beforeSelectRow",ze,e),c=jgrid.detectRowEditing.call(n,ze),u=null!=c&&"cellEditing"!==c.mode;if("A"!==i.tagName&&(!u||s))if(He=o[0].cellIndex,Ve=o.html(),feedback.call(n,"onCellSelect",ze,He,Ve,e),!0!==C.cellEdit){if(!d)return void(s&&$(i).prop("checked",!1));if(C.multikey)e[C.multikey]?p.call(a,ze,!0,e):C.multiselect&&s&&(s=$("#jqg_"+jqID(C.id)+"_"+ze).is(":checked"),$("#jqg_"+jqID(C.id)+"_"+ze).prop("checked",!s));else if(C.multiselect&&C.multiboxonly)if(s)p.call(a,ze,!0,e);else{var f=C.frozenColumns?C.id+"_frozen":"";$(C.selarrrow).each(function(e,i){var n=r.getGridRowById.call(a,i);n&&$(n).removeClass(t),$("#jqg_"+jqID(C.id)+"_"+jqID(i)).prop("checked",!1),f&&($("#"+jqID(i),"#"+jqID(f)).removeClass(t),$("#jqg_"+jqID(C.id)+"_"+jqID(i),"#"+jqID(f)).prop("checked",!1))}),clearArray(C.selarrrow),p.call(a,ze,!0,e)}else{var h=C.selrow;p.call(a,ze,!0,e),"toggle"!==C.singleSelectClickMode||C.multiselect||h!==ze||(n.grid.fbRows&&(l=l.add(n.grid.fbRows[l[0].rowIndex]===l[0]?n.rows[l[0].rowIndex]:n.grid.fbRows[l[0].rowIndex])),l.removeClass(t).attr({"aria-selected":"false",tabindex:"-1"}),C.selrow=null)}}else if(C.multiselect&&s&&d)p.call(a,ze,!0,e);else{ze=l[0].rowIndex;try{r.editCell.call(a,ze,He,!0)}catch(e){}}}}).on("reloadGrid",function(e,t){var i=this,n=i.grid,a=$(this);if(!0===C.treeGrid&&(C.datatype=C.treedatatype),t=s({},defaults.reloadGridOptions||{},C.reloadGridOptions||{},t||{}),"local"===C.datatype&&C.dataTypeOrg&&C.loadonce&&t.fromServer&&(C.datatype=C.dataTypeOrg,delete C.dataTypeOrg),t.current&&n.selectionPreserver.call(i),"local"===C.datatype?(C.multiPageSelection||r.resetSelection.call(a),C.data.length&&(Y.call(i),X.call(i))):C.treeGrid||C.multiPageSelection||(C.selrow=null,C.multiselect&&(clearArray(C.selarrrow),oe.call(i,!1)),clearArray(C.savedRow)),C.iRow=-1,C.iCol=-1,C.scroll&&I.emptyRows.call(i,!0,!1),t.page){var o=parseInt(t.page,10);o>C.lastpage&&(o=C.lastpage),o<1&&(o=1),C.page=o,n.prevRowHeight?n.bDiv.scrollTop=(o-1)*n.prevRowHeight*C.rowNum:n.bDiv.scrollTop=0}return n.prevRowHeight&&C.scroll&&void 0===t.page?(delete C.lastpage,n.populateVisible.call(i)):n.populate.call(i),!0===C._inlinenav&&a.jqGrid("showAddEditButtons",!1),!1}).dblclick(function(e){var t=We.call(n,e.target),r=t.parent();if(t.length>0&&!feedback.call(n,"ondblClickRow",r.attr("id"),r[0].rowIndex,t[0].cellIndex,e))return!1}).on("contextmenu",function(e){var t=We.call(n,e.target),r=t.parent(),i=r.attr("id");if(0!==t.length)return C.multiselect||p.call(a,i,!0,e),!!feedback.call(n,"onRightClickRow",i,r[0].rowIndex,t[0].cellIndex,e)&&void 0}),I.bDiv=document.createElement("div"),E&&"auto"===String(C.height).toLowerCase()&&(C.height="100%"),$(I.bDiv).append($("<div style='position:relative;'></div>").append("<div></div>").append(n)).addClass("ui-jqgrid-bdiv").css({height:C.height+(isNaN(C.height)?"":"px"),width:I.width+"px"}).scroll(I.scrollGrid),C.maxHeight&&$(I.bDiv).css("max-height",C.maxHeight+(isNaN(C.maxHeight)?"":"px")),a.css({width:"1px"}),$.support.tbody||2===$(">tbody",n).length&&$(">tbody:gt(0)",n).remove(),C.multikey&&$(I.bDiv).on(jgrid.msie?"selectstart":"mousedown",function(){return!1}),Te&&$(I.bDiv).hide(),I.cDiv=document.createElement("div");var Ue=y("gridMinimize.visible"),Ye=y("gridMinimize.hidden"),Xe=D("showhide"),Qe=!0===C.hidegrid?$("<a role='link' class='"+w("titleButton","ui-jqgrid-titlebar-close")+"'"+(Xe?" title='"+Xe+"'":"")+"/>").hover(function(){Qe.addClass(Re)},function(){Qe.removeClass(Re)}).append("<span class='"+Ue+"'></span>"):"";if($(I.cDiv).append("<span class='ui-jqgrid-title'>"+C.caption+"</span>").append(Qe).addClass(w("gridTitle","ui-jqgrid-titlebar ui-jqgrid-caption"+("rtl"===N?"-rtl ":" ")+Me)),$(I.cDiv).insertBefore(I.hDiv),C.toolbar[0]){I.uDiv=document.createElement("div"),"top"===C.toolbar[1]?$(I.uDiv).insertBefore(I.hDiv):"bottom"===C.toolbar[1]&&$(I.uDiv).insertAfter(I.hDiv);var Je=w("toolbarUpper","ui-userdata");"both"===C.toolbar[1]?(I.ubDiv=document.createElement("div"),$(I.uDiv).addClass(Je).attr("id","t_"+C.id).insertBefore(I.hDiv),$(I.ubDiv).addClass(w("toolbarBottom","ui-userdata")).attr("id","tb_"+C.id).insertAfter(I.hDiv),Te&&$(I.ubDiv).hide()):$(I.uDiv).width(I.width).addClass(Je).attr("id","t_"+C.id),Te&&$(I.uDiv).hide()}if("string"==typeof C.datatype&&(C.datatype=C.datatype.toLowerCase()),C.toppager?(C.toppager=C.id+"_toppager",I.topDiv=$("<div id='"+C.toppager+"'></div>")[0],$(I.topDiv).addClass(w("pager.pager","ui-jqgrid-toppager"+(C.caption?"":" "+Me))).css({width:I.width+"px"}).insertBefore(I.hDiv),le.call(n,C.toppager,"_t"),C.toppager="#"+jqID(C.toppager)):""!==C.pager||C.scroll||(C.rowNum=C.maxRowNum),C.footerrow&&(I.sDiv=$("<div class='ui-jqgrid-sdiv'></div>")[0],Ae=$("<div class='ui-jqgrid-hbox"+("rtl"===N?"-rtl":"")+"'></div>"),$(I.sDiv).append(Ae).width(I.width).insertAfter(I.hDiv),$(Ae).append(Ge),I.footers=$(".ui-jqgrid-ftable",I.sDiv)[0].rows[0].cells,C.rownumbers&&(I.footers[0].className=w("rowNum","jqgrid-rownum")),Te&&$(I.sDiv).hide()),Ae=null,C.caption){var Ke=C.datatype;!0===C.hidegrid&&($(".ui-jqgrid-titlebar-close",I.cDiv).click(function(e){var t=".ui-jqgrid-bdiv,.ui-jqgrid-hdiv,.ui-jqgrid-pager,.ui-jqgrid-sdiv",r=this;!0===C.toolbar[0]&&("both"===C.toolbar[1]&&(t+=",#"+jqID($(I.ubDiv).attr("id"))),t+=",#"+jqID($(I.uDiv).attr("id")));var i=$(t,C.gView).length;return C.toppager&&(t+=","+C.toppager),"visible"===C.gridstate?$(t,C.gBox).slideUp("fast",function(){0===--i&&($("span",r).removeClass(Ue).addClass(Ye),C.gridstate="hidden",$(C.gBox).hasClass("ui-resizable")&&$(".ui-resizable-handle",C.gBox).hide(),$(I.cDiv).addClass(Be),Te||feedback.call(n,"onHeaderClick",C.gridstate,e))}):"hidden"===C.gridstate&&($(I.cDiv).removeClass(Be),$(t,C.gBox).slideDown("fast",function(){0===--i&&($("span",r).removeClass(Ye).addClass(Ue),Te&&(C.datatype=Ke,ae.call(n),Te=!1),C.gridstate="visible",$(C.gBox).hasClass("ui-resizable")&&$(".ui-resizable-handle",C.gBox).show(),Te||feedback.call(n,"onHeaderClick",C.gridstate,e))})),!1}),Te&&(C.datatype="local",$(".ui-jqgrid-titlebar-close",I.cDiv).trigger("click")))}else $(I.cDiv).hide(),$(I.cDiv).nextAll("div:visible").first().addClass("ui-corner-top");$(I.hDiv).after(I.bDiv),I.eDiv=$("<div class='"+w("gridError","ui-jqgrid-errorbar ui-jqgrid-errorbar-"+N)+"' style='display:none;'><span class='"+w("gridErrorText","ui-jqgrid-error")+"'></span></div>")[0],$(I.hDiv).after(I.eDiv),$(T).click(k).dblclick(function(e){var t=$(C.rs),i=t.offset(),o=t.data("idx"),l=t.data("delta"),s=C.colModel[o],d=$(this).data("pageX")||t.data("pageX");if(null==d||null==s)return!1;var c=String(d).split(";"),u=parseFloat(c[0]),p=parseFloat(c[1]);return(2!==c.length||!(Math.abs(u-p)>5||Math.abs(e.pageX-u)>5||Math.abs(e.pageX-p)>5))&&(feedback.call(n,"resizeDblClick",o,s)&&i.left-1<=e.pageX+l&&e.pageX+l<=i.left+t.outerWidth()+1&&s.autoResizable&&r.autoResizeColumn.call(a,o),feedback.call(n,"afterResizeDblClick",{iCol:o,cm:s,cmName:s.name}),!1)}),C.pager||$(I.cDiv).nextAll("div:visible").filter(":last").addClass(Be),$(".ui-jqgrid-labels",I.hDiv).on("selectstart",function(){return!1}),n.formatCol=P,n.sortData=ce,n.updatepager=re,n.refreshIndex=X,n.addItemDataToColumnIndex=W,n.removeItemDataFromColumnIndex=U,n.generateValueFromColumnIndex=function(e,t,r){var i,n,a=$(this).jqGrid("getUniqueValueFromColumnIndex",e),o="";if(null!=a)for(r=r||";",t=t||":",o="",i=0,n=a.length;i<n;i++)""!==o&&(o+=r||";"),o+=a[i]+(t||":")+a[i];return o},n.setHeadCheckBox=oe,n.fixScrollOffsetAndhBoxPadding=S,n.constructTr=Q,n.formatter=H,s(I,{populate:ae,emptyRows:V,beginReq:ie,endReq:ne}),n.addXmlData=Z,n.addJSONData=Z,n.rebuildRowIndexes=R,n.grid.cols=n.rows[0].cells,feedback.call(n,"onInitGrid"),C.treeGrid&&"local"===C.datatype&&null!=C.data&&C.data.length>0&&(C.datatype="jsonstring",C.datastr=C.data,C.data=[]),ae.call(n),C.hiddengrid=!1}})};var base=$.fn.jqGrid;jgrid.extend({getGridRes:function(e){var t=this[0];if(!t||!t.grid||!t.p)return null;var r=jgrid.getRes(locales[t.p.locale],e)||jgrid.getRes(locales["en-US"],e),i=jgrid.getRes(jgrid,e);return"object"!=typeof r||null===r||$.isArray(r)?void 0!==i?i:r:$.extend(!0,{},r,i||{})},getGuiStyles:function(e,t){var r=this instanceof $&&this.length>0?this[0]:this;if(!r||!r.grid||!r.p)return"";var i,n=r.p,a=n.guiStyle||jgrid.defaults.guiStyle||"jQueryUI",o=jgrid.getRes(jgrid.guiStyles[a],e);return void 0===o&&"string"==typeof(i=jgrid.getRes(jgrid.guiStyles[a],"baseGuiStyle"))&&(o=jgrid.getRes(jgrid.guiStyles[i],e)),jgrid.mergeCssClasses(o||"",t||"")},isBootstrapGuiStyle:function(){return $.inArray("ui-jqgrid-bootstrap",$(this).jqGrid("getGuiStyles","gBox").split(" "))>=0},displayErrorMessage:function(e){var t=this instanceof $&&this.length>0?this[0]:this;if(t&&t.grid&&t.p&&e){var r=$(t.grid.eDiv),i=r.children(".ui-jqgrid-error");i.html(e),r.show(),t.p.errorDisplayTimeout&&setTimeout(function(){i.empty(),r.hide()},t.p.errorDisplayTimeout)}},getIconRes:function(e){var t=this instanceof $&&this.length>0?this[0]:this;if(!t||!t.p)return"";var r=t.p,i=jgrid.icons[r.iconSet],n=function(e,t){var r,i,n,a=t.split("."),o=a.length,l=[];if(null==(e="string"==typeof e?jgrid.icons[e]:e))return"";for(r=e,r.common&&l.push(r.common),n=0;n<o&&(i=a[n]);n++){if(void 0===(r=r[i])){if("common"===i)break;return""}if("string"==typeof r){l.push(r);break}null!=r&&r.common&&l.push(r.common)}return jgrid.mergeCssClasses.apply(this,l)};if(null==i)return"";var a=n(r.iconSet,e);return""===a&&null!=i.baseIconSet&&(a=n(i.baseIconSet,e)),a||""},isInCommonIconClass:function(e){var t=this instanceof $&&this.length>0?this[0]:this;if(!t||!t.p)return"";var r=t.p,i=jgrid.icons[r.iconSet];if(null==i)return!1;var n=i.common;if(void 0===n){if(null==i.baseIconSet)return!1;if(null==(i=jgrid.icons[i.baseIconSet]))return!1;n=i.common}return"string"==typeof n&&$.inArray(e,n.split(" "))>=0},getUniqueValueFromColumnIndex:function(e){var t=this[0];if(!t||!t.grid)return null;var r,i=[],n="",a=t.p.indexByColumnData[e];if(null!=a){for(n in a)if(a.hasOwnProperty(n)){for(r in a[n])if(a[n].hasOwnProperty(r)){n=String(a[n][r]);break}i.push(n)}t.p.ignoreCase?void 0===String.prototype.localeCompare?i.sort(function(e,t){var r=e.toLowerCase(),i=t.toLowerCase();return r===i?0:r>i?1:-1}):i.sort(function(e,t){return String(e).toLowerCase().localeCompare(String(t).toLowerCase())}):i.sort()}return i},getGridParam:function(e){var t=this[0];return t&&t.grid?e?void 0!==t.p[e]?t.p[e]:null:t.p:null},setGridParam:function(e,t){return this.each(function(){var r=this;if(null==t&&(t=!1),r.grid&&"object"==typeof e)if(!0===t){var i=$.extend({},r.p,e);r.p=i}else $.extend(!0,r.p,e)})},abortAjaxRequest:function(){return this.each(function(){var e=this;null!=e.p.jqXhr&&e.p.jqXhr.abort(),e.grid.endReq.call(e)})},getGridRowById:function(e){if(null==e)return null;var t,r=e.toString();return this.each(function(){var i,n,a,o=this.rows;if(null!=this.p.rowIndexes&&(a=this.p.rowIndexes[r],(n=o[a])&&n.id===r&&(t=n)),!t)try{for(i=o.length;i--;)if(n=o[i],r===n.id){t=n;break}}catch(r){t=$(this.grid.bDiv).find("#"+jqID(e)),t=t.length>0?t[0]:null}}),t},getDataIDs:function(){var e=[];return this.each(function(){var t,r,i=this.rows,n=i.length;if(n&&n>0)for(t=0;t<n;t++)r=i[t],$(r).hasClass("jqgrow")&&e.push(r.id)}),e},setSelection:function(e,t,r){return this.each(function(){var i,n,a,o,l,s,d,c=this,u=$(c),p=c.p,f=base.getGuiStyles,h=base.getGridRowById,g=f.call(u,"states.select"),m=f.call(u,"states.disabled"),v=c.grid.fbRows,b=function(e,t){var r=t?"addClass":"removeClass",i=p.iColByName.cb,n=t?{"aria-selected":"true",tabindex:"0"}:{"aria-selected":"false",tabindex:"-1"},a=function(e){$(e)[r](g).attr(n),void 0!==i&&$(e.cells[i]).children("input.cbox").prop("checked",t)};a(e),v&&a(v[e.rowIndex])};void 0!==e&&(t=!1!==t,null!=r&&(d=$(r.target).closest("tr.jqgrow"),d.length>0&&(n=d[0],v&&(n=c.rows[n.rowIndex]))),null==n&&(n=h.call(u,e)),!n||!n.className||n.className.indexOf(m)>-1||(!0===p.scrollrows&&null!=(a=h.call(u,e))&&(a=a.rowIndex)>=0&&function(e,t){var r=t.clientHeight,i=t.scrollTop,n=$(e).position().top,a=e.clientHeight;n+a>=r+i?t.scrollTop=n-(r+i)+a+i:n<r+i&&n<i&&(t.scrollTop=n)}(c.rows[a],c.grid.bDiv),p.multiselect?(c.setHeadCheckBox(!1),p.selrow=n.id,o=$.inArray(p.selrow,p.selarrrow),-1===o?(i=!0,p.selarrrow.push(p.selrow)):null!==jgrid.detectRowEditing.call(c,n.id)?i=!0:(i=!1,p.selarrrow.splice(o,1),l=p.selarrrow[0],p.selrow=void 0===l?null:l),"ui-subgrid"!==n.className&&b(n,i),t&&feedback.call(c,"onSelectRow",n.id,i,r||{})):"ui-subgrid"!==n.className&&(p.selrow!==n.id?(null!==p.selrow&&(s=h.call(u,p.selrow))&&b(s,!1),b(n,!0),i=!0):i=!1,p.selrow=n.id,t&&feedback.call(c,"onSelectRow",n.id,i,r||{}))))})},resetSelection:function(e){return this.each(function(){var t,r=this,i=$(this),n=r.p,a=base.getGuiStyles,o=base.getGridRowById,l=a.call(i,"states.select"),s="edit-cell "+l,d="selected-row "+a.call(i,"states.hover"),c=n.iColByName.cb,u=void 0!==c,p=r.grid.fbRows,f=function(e){var t,r={"aria-selected":"false",tabindex:"-1"};$(e).removeClass(l).attr(r),u&&$(e.cells[c]).children("input.cbox").prop("checked",!1),p&&(t=p[e.rowIndex],$(t).removeClass(l).attr(r),u&&$(t.cells[c]).children("input.cbox").prop("checked",!1))};if(void 0!==e){if(t=o.call(i,e),f(t),u){r.setHeadCheckBox(!1);var h=$.inArray(e,n.selarrrow);-1!==h&&n.selarrrow.splice(h,1)}}else n.multiselect?($(r.rows).each(function(){var e=$.inArray(this.id,n.selarrrow);-1!==e&&(f(this),n.selarrrow.splice(e,1))}),r.setHeadCheckBox(!1),n.multiPageSelection||clearArray(n.selarrrow),n.selrow=null):n.selrow&&(t=o.call(i,n.selrow),f(t),n.selrow=null);!0===n.cellEdit&&parseInt(n.iCol,10)>=0&&parseInt(n.iRow,10)>=0&&(t=r.rows[n.iRow],null!=t&&($(t.cells[n.iCol]).removeClass(s),$(t).removeClass(d)),p&&null!=(t=p[n.iRow])&&($(t.cells[n.iCol]).removeClass(s),$(t).removeClass(d))),clearArray(n.savedRow)})},isCellEditing:function(e,t,r){var i=this[0],n=jgrid.detectRowEditing.call(i,e);if(null!=n&&("inlineEditing"===n.mode||"cellEditing"===n.mode&&n.savedRow.ic===t)){t=isNaN(t)?i.p.iColByName[t]:parseInt(t,10);var a=null!=r&&r.id===e?r:base.getGridRowById.call($(i),e),o=i.p.colModel[t],l=o.editable;if($.isFunction(l)&&(l=l.call(i,{rowid:e,id:stripPref(i.p.idPrefix,e),iCol:t,iRow:a.rowIndex,cmName:o.name,cm:o,mode:n.mode,td:a.cells[t],tr:a,dataElement:jgrid.getDataFieldOfCell.call(i,a,t)[0]})),!0===l)return!0}return!1},getRowData:function(e,t){var r,i={};return"object"==typeof e&&(t=e,e=void 0),t=t||{},this.each(function(){var n,a,o,l,s,d,c,u=this,p=u.p,f=!1,h=1,g=u.rows;if(void 0===e)f=!0,r=[],h=g.length;else if(!(n=base.getGridRowById.call($(u),e)))return i;for(a=0;a<h;a++)if(f&&(n=g[a]),$(n).hasClass("jqgrow")){for(jgrid.detectRowEditing.call(u,e),l=$(n).find("td[role=gridcell]"),o=0;o<l.length;o++)if(s=p.colModel[o],d=s.name,$.inArray(d,p.reservedColumnNames)<0&&"actions"!==s.formatter&&(!t.skipHidden||!s.hidden))if(c=l[o],base.isCellEditing.call($(u),e,o,n))i[d]=jgrid.getEditedValue.call(u,jgrid.getDataFieldOfCell.call(u,n,o),s,{},s.editable);else if(!0===p.treeGrid&&d===p.ExpandColumn)i[d]=htmlDecode($("span",c).first().html());else try{i[d]=$.unformat.call(u,c,{rowId:e,colModel:s},o)}catch(e){i[d]=htmlDecode($(c).html())}!t.includeId||!1!==p.keyName&&null!=i[p.keyName]||(i[p.prmNames.id]=stripPref(p.idPrefix,n.id)),f&&(r.push(i),i={})}}),r||i},delRowData:function(e){var t,r,i,n=!1;return this.each(function(){var a=this,o=a.p;if(!(t=base.getGridRowById.call($(a),e)))return!1;if(o.subGrid&&(i=$(t).next(),i.hasClass("ui-subgrid")&&i.remove()),$(t).remove(),o.records--,o.reccount--,a.updatepager(!0,!1),n=!0,o.multiselect&&-1!==(r=$.inArray(e,o.selarrrow))&&o.selarrrow.splice(r,1),o.multiselect&&o.selarrrow.length>0?o.selrow=o.selarrrow[o.selarrrow.length-1]:o.selrow===e&&(o.selrow=null),"local"===o.datatype){var l=stripPref(o.idPrefix,e),s=o._index[l];void 0!==s&&(a.removeItemDataFromColumnIndex(l),o.data.splice(s,1),a.refreshIndex())}if(a.rebuildRowIndexes(),!0===o.altRows&&n&&!$(a).jqGrid("isBootstrapGuiStyle")){var d=o.altclass,c=a.grid.fbRows;$(a.rows).each(function(e){var t=$(this);c&&(t=t.add(c[this.rowIndex])),t[e%2==0?"addClass":"removeClass"](d)})}feedback.call(a,"afterDelRow",e)}),n},setRowData:function(e,t,r){var i=!0;return this.each(function(){var n,a=this,o=a.p,l=typeof r,s={};if(!a.grid)return!1;if(!(n=base.getGridRowById.call($(a),e)))return!1;if(t)try{var d,c=stripPref(o.idPrefix,e),u=o._index[c],p={},f=null!=u?o.data[u]:void 0;if($(o.colModel).each(function(e){var r=this,i=r.name,n=getAccessor(t,i);void 0!==n&&("local"===o.datatype&&null!=f&&(n=convertOnSaveLocally.call(a,n,r,f[i],c,f,e),$.isFunction(r.saveLocally)?r.saveLocally.call(a,{newValue:n,newItem:s,oldItem:f,id:c,cm:r,cmName:i,iCol:e}):s[i]=n),p[i]=n)}),$(o.colModel).each(function(r){var i,l=this,d=l.name,c=getAccessor(t,d),u=$(n.cells[r]);if(void 0!==c){"local"===o.datatype&&null!=f&&(c=s[d]),i=l.title?{title:c}:{},c=a.formatter(e,c,r,t,"edit",p);var h=u;!0===o.treeGrid&&d===o.ExpandColumn&&(h=h.children("span.cell-wrapperleaf,span.cell-wrapper").first()),h.html(c),u.attr(i),o.frozenColumns&&(h=$(a.grid.fbRows[n.rowIndex].cells[r]),!0===o.treeGrid&&d===o.ExpandColumn&&(h=h.children("span.cell-wrapperleaf,span.cell-wrapper").first()),h.html(c).attr(i))}}),"local"===o.datatype){if(o.treeGrid)for(d in o.treeReader)o.treeReader.hasOwnProperty(d)&&delete s[o.treeReader[d]];void 0!==f&&(o.data[u]=$.extend(!0,f,s),a.removeItemDataFromColumnIndex(c),a.addItemDataToColumnIndex(o.data[u],c))}feedback.call(a,"afterSetRow",{rowid:e,inputData:t,iData:u,iRow:n.rowIndex,tr:n,localData:s,cssProp:r})}catch(e){i=!1}i&&("string"===l?$(n).addClass(r):null!==r&&"object"===l&&$(n).css(r))}),i},changeRowid:function(e,t){return this.each(function(){var r,i,n,a,o,l,s,d=this,c=$(d),u=d.p;if(d.grid&&u&&e!==t&&(a=c.jqGrid("getGridRowById",e))&&null==c.jqGrid("getGridRowById",t)){var p=jgrid.stripPref(u.idPrefix,e),f=jgrid.stripPref(u.idPrefix,t),h=!1===u.keyName?u.prmNames.id:u.keyName,g=function(){var e=this.id,t=e.length-p.length;t>0&&e.substr(t)===p&&$(this).attr("id",e.substr(0,t)+f)};for(u.iColByName[h]>=0?c.jqGrid("setCell",e,h,f):"local"===u.datatype&&void 0!==u._index[p]&&(u._index[f]=u._index[p],r=u.data[u._index[p]],delete u._index[p],r.hasOwnProperty(h)&&(r[h]=f)),u.rowIndexes[t]=a.rowIndex,delete u.rowIndexes[e],o=null==d.grid.fbRows?$(a):$(a).add(d.grid.fbRows[a.rowIndex]),o.attr("id",t),u.selrow===e&&(u.selrow=t),$.isArray(u.selarrrow)&&(i=$.inArray(e,u.selarrrow))>=0&&(u.selarrrow[i]=t),u.multiselect&&(n="jqg_"+u.id+"_"+t,o.find("input.cbox").attr("id",n).attr("name",n)),i=0;i<u.colModel.length;i++)l=u.colModel[i],"actions"===l.formatter?o.find(".ui-jqgrid-actions .ui-pg-div").each(g):("showlink"===l.formatter||null!=l.unformat&&null!=l.formatter)&&(s=c.jqGrid("getCell",t,i),c.jqGrid("setCell",t,i,s,!1,!1,!0));feedback.call(d,"afterChangeRowid",{rowid:t,oldRowid:e,iRow:a.rowIndex,tr:a})}})},addRowData:function(e,t,r,i){$.inArray(r,["first","last","before","after","afterSelected","beforeSelected"])<0&&(r="last");var n,a,o,l,s,d,c,u,p,f,h,g=!1;return t&&($.isArray(t)?(d=!0,c=e):(t=[t],d=!1),this.each(function(){var m,v=this,b=v.p,y=t.length,w=$(v),x=v.rows,C=0,j=base.getGridRowById,D=b.colModel,S=b.additionalProperties;for(d||(void 0!==e?e=String(e):(e=randId(),!1!==b.keyName&&(c=b.keyName,void 0!==t[0][c]&&(e=t[0][c])))),u=b.altclass;C<y;){if(p=t[C],a=[],d)try{e=p[c],void 0===e&&(e=randId())}catch(t){e=randId()}for(h=jgrid.stripPref(b.idPrefix,e),m={},l=0;l<D.length;l++)f=D[l],"rn"!==(n=f.name)&&"cb"!==n&&"subgrid"!==n&&(s=convertOnSaveLocally.call(v,p[n],f,void 0,h,{},l),$.isFunction(f.saveLocally)?f.saveLocally.call(v,{newValue:s,newItem:m,oldItem:{},id:h,rowid:e,cm:f,cmName:n,iCol:l}):void 0!==s&&(m[n]=s));for(l=0;l<S.length;l++)n=S[l],"object"==typeof n&&n.hasOwnProperty("name")&&(n=n.name),void 0!==(s=getAccessor(p,n))&&(m[n]=s);if("local"===b.datatype&&(m[b.localReader.id]=h,b._index[h]=b.data.length,b.data.push(m),v.addItemDataToColumnIndex(m,h)),a=jgrid.parseDataToHtml.call(v,1,[e],[p]),a=a.join(""),0===x.length)$(v.tBodies[0]).append(a);else switch("afterSelected"!==r&&"beforeSelected"!==r||(void 0===i&&null!==b.selrow?(i=b.selrow,r="afterSelected"===r?"after":"before"):r="afterSelected"===r?"last":"first"),r){case"last":$(x[x.length-1]).after(a),o=x.length-1;break;case"first":$(x[0]).after(a),o=1;break;case"after":o=j.call(w,i),o&&($(x[o.rowIndex+1]).hasClass("ui-subgrid")?($(x[o.rowIndex+1]).after(a),o=o.rowIndex+2):($(o).after(a),o=o.rowIndex+1));break;case"before":o=j.call(w,i),o&&($(o).before(a),o=o.rowIndex-1)}!0===b.subGrid&&base.addSubGrid.call(w,b.iColByName.subgrid,o),b.records++,b.reccount++,0===b.lastpage&&(b.lastpage=1),feedback.call(v,"afterAddRow",{rowid:e,inputData:t,position:r,srcRowid:i,iRow:o,localData:m,iData:b.data.length-1}),C++}!0!==b.altRows||d||w.jqGrid("isBootstrapGuiStyle")||("last"===r?(x.length-1)%2==0&&$(x[x.length-1]).addClass(u):$(x).each(function(e){e%2==1?$(this).addClass(u):$(this).removeClass(u)})),v.rebuildRowIndexes(),v.updatepager(!0,!0),g=!0})),g},footerData:function(e,t,r){function i(e){var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}var n=!1,a={};return null==e&&(e="get"),"boolean"!=typeof r&&(r=!0),e=e.toLowerCase(),this.each(function(){var o,l,s,d,c=this,u=c.p;if(!c.grid||!u.footerrow)return!1;if("set"===e&&i(t))return!1;n=!0;var p=$(c.grid.sDiv).children(".ui-jqgrid-hbox").children(".ui-jqgrid-ftable")[0];if(null==p||null==p.rows)return!1;var f=p.rows[0].cells,h=u.colModel,g=null==c.grid.fsDiv?{}:c.grid.fsDiv.children(".ui-jqgrid-ftable")[0].rows[0].cells;if("get"===e)for(d=0;d<h.length;d++)s=h[d].name,$.inArray(s,u.reservedColumnNames)<0&&(!1!==t?(o=$(f[d]).text(),$.trim(o)&&(a[s]=o)):a[s]=$(f[d]).html());else if("set"===e)for(s in t)d=u.iColByName[s],t.hasOwnProperty(s)&&void 0!==d&&(o=r?c.formatter("",t[s],d,t,"edit"):t[s],l=$(f[d]).add(g[d]),l.html(o),h[d].title&&l.attr({title:stripHtml(o)}))}),"get"===e?a:n},showHideCol:function(e,t,r){return this.each(function(){var i,n=this,a=$(n),o=n.grid,l=!1,s=n.p,d=jgrid.cell_width?0:s.cellLayout;if(o){"string"==typeof e&&(e=[e]),t="none"!==t&&!1!==t?"":"none",r=r||{};var c=""===t,u=s.groupHeader,p=u&&("object"==typeof u||$.isFunction(u));if(p&&!r.skipSetGroupHeaders&&base.destroyGroupHeader.call(a,!1),$(s.colModel).each(function(a){var u=function(e){var r,i,n,o;for(r=0,i=e.length;r<i;r++)n=e[r],o=n.cells[a],(!$(n).hasClass("jqgroup")||null!=o&&1===o.colSpan)&&(0===r&&$(n).hasClass("jqgfirstrow")?($(o).css("height","1px"),$(o).css("display",t),$(o).css("height","0")):$(o).css("display",t))};if(-1!==$.inArray(this.name,e)&&this.hidden===c){if(!0===s.frozenColumns&&!0===this.frozen&&!r.notSkipFrozen)return!0;u($(o.hDiv).find(".ui-jqgrid-htable>thead>tr")),!0===s.frozenColumns&&null!=o.fhDiv&&u($(o.fhDiv).find(".ui-jqgrid-htable>thead>tr")),u(n.rows),!0===s.frozenColumns&&null!=o.fbRows&&u(n.rows),s.footerrow&&(u($(o.sDiv).find("tr.footrow")),!0===s.frozenColumns&&null!=o.fsDiv&&u($(o.fsDiv).find("tr.footrow"))),i=parseInt(this.width,10),"none"===t?s.tblwidth-=i+d:s.tblwidth+=i+d,this.hidden=!c,l=!0,r.skipFeedback?(r.toReport=r.toReport||{},r.toReport[this.name]=c):feedback.call(n,"onShowHideCol",c,this.name,a,r)}}),!0===l){var f=s.autowidth||void 0!==s.widthOrg&&"auto"!==s.widthOrg&&"100%"!==s.widthOrg?s.width:s.tblwidth+parseInt(s.scrollOffset,10);r.skipSetGridWidth?r.newGridWidth=f:base.setGridWidth.call(a,f)}if(p&&!r.skipSetGroupHeaders)if(null!=s.pivotOptions&&null!=s.pivotOptions.colHeaders&&s.pivotOptions.colHeaders.length>1){var h,g=s.pivotOptions.colHeaders;for(h=0;h<g.length;h++)g[h]&&g[h].groupHeaders.length&&base.setGroupHeaders.call(a,g[h])}else base.setGroupHeaders.call(a,s.groupHeader)}})},hideCol:function(e,t){return this.each(function(){base.showHideCol.call($(this),e,"none",t)})},showCol:function(e,t){return this.each(function(){base.showHideCol.call($(this),e,"",t)})},remapColumns:function(e,t,r){function i(e){var t=e.length?p(e):$.extend({},e);$.each(s,function(r){e[r]=t[this]})}function n(e,t){(t?e.children(t):e.children()).each(function(){var e=this,t=p(e.cells);$.each(s,function(r){var i=t[this],n=e.cells[r];null!=i&&null!=n&&i.cellIndex!==r&&i.parentNode.insertBefore(i,n)})})}var a,o,l,s,d=this[0],c=d.p,u=d.grid,p=$.makeArray,f=!0===c.frozenColumns,h=this.jqGrid("getNumberOfFrozenColumns");if(null!=u&&null!=c){for(s=function(){var t,r=[],i=[],n=e.length;for(t=0;t<n;t++)f&&e[t]<h?r.push(e[t]):i.push(e[t]);return r.concat(i)}(),i(c.colModel),i(c.colNames),i(u.headers),l=$(u.hDiv).children("div").children("table.ui-jqgrid-htable").children("thead"),f&&null!=u.fhDiv&&(l=l.add(u.fhDiv.children("table.ui-jqgrid-htable").children("thead"))),n(l,r&&":not(.ui-jqgrid-labels)"),t&&(l=$(d.tBodies[0]),f&&null!=u.fbDiv&&(l=l.add(u.fbDiv.children("table.ui-jqgrid-btable").children("tbody").first())),n(l,"tr.jqgfirstrow,tr.jqgrow,tr.jqfoot")),c.footerrow&&(l=$(u.sDiv).children("div").children("table.ui-jqgrid-ftable").children("tbody").first(),f&&null!=u.fsDiv&&(l=l.add(u.fsDiv.children("table.ui-jqgrid-ftable").children("tbody").first())),n(l)),c.remapColumns&&(c.remapColumns.length?i(c.remapColumns):c.remapColumns=p(s)),c.lastsort=$.inArray(c.lastsort,s),c.iColByName={},a=0,o=c.colModel.length;a<o;a++)c.iColByName[c.colModel[a].name]=a;feedback.call(d,"onRemapColumns",s,t,r)}},remapColumnsByName:function(e,t,r){var i,n,a=this[0],o=a.p,l=[],s=e.slice(),d=$.inArray;for(o.subGrid&&d("subgrid",s)<0&&s.unshift("subgrid"),o.multiselect&&d("cb",s)<0&&s.unshift("cb"),o.rownumbers&&d("rn",s)<0&&s.unshift("rn"),i=0,n=s.length;i<n;i++)l.push(o.iColByName[s[i]]);return base.remapColumns.call(this,l,t,r),this},setGridWidth:function(e,t){return this.each(function(){var r,i,n,a,o=this,l=o.p,s=o.grid,d=0,c=0,u=!1,p=0,f=jgrid.isCellClassHidden,h=e;if(s&&null!=l){o.fixScrollOffsetAndhBoxPadding();var g,m,v,b,y,w=l.colModel,x=l.scrollOffset,C=jgrid.cell_width?0:l.cellLayout,j=s.headers,D=s.footers,S=s.bDiv,q=s.hDiv,_=s.sDiv,F=s.cols,R=$(q).find(">div>.ui-jqgrid-htable>thead>tr").first()[0].cells,k=function(e){s.width=l.width=e,$(l.gBox).css("width",e+"px"),$(l.gView).css("width",e+"px"),$(S).css("width",e+"px"),$(q).css("width",e+"px"),l.pager&&$(l.pager).css("width",e+"px"),l.toppager&&$(l.toppager).css("width",e+"px"),!0===l.toolbar[0]&&($(s.uDiv).css("width",e+"px"),"both"===l.toolbar[1]&&$(s.ubDiv).css("width",e+"px")),l.footerrow&&$(_).css("width",e+"px")};if("boolean"!=typeof t&&(t=l.shrinkToFit),!isNaN(h)){if(h=parseInt(h,10),k(h),!1===t&&!0===l.forceFit&&(l.forceFit=!1),!0===t){if($.each(w,function(){!1!==this.hidden||f(this.classes)||(r=this.widthOrg,d+=r+C,this.fixed?p+=this.width+C:c++)}),0===c)return;if(l.tblwidth=parseInt(d,10),n=h-C*c-p,isNaN(l.height)||(S.clientHeight<S.scrollHeight||1===o.rows.length)&&(u=!0,n-=x),(y=n/(l.tblwidth-C*c-p))<0)return;if(d=0,b=F.length>0,$.each(w,function(e){!1!==this.hidden||f(this.classes)||this.fixed||(r=Math.round(this.widthOrg*y),this.width=r,d+=r,j[e].width=r,R[e].style.width=r+"px",l.footerrow&&(D[e].style.width=r+"px"),b&&(F[e].style.width=r+"px"),i=e)}),!i)return;a=0,u?h-p-(d+C*c)!==x&&(a=h-p-(d+C*c)-x):1!==Math.abs(h-p-(d+C*c))&&(a=h-p-(d+C*c)),g=w[i],g.width+=a,l.tblwidth=parseInt(d+a+C*c+p,10),l.tblwidth>h&&(v=l.tblwidth-parseInt(h,10),l.tblwidth=h,g.width=g.width-v),r=g.width,m=j[i],m.width=r,R[i].style.width=r+"px",b&&(F[i].style.width=r+"px"),l.footerrow&&(D[i].style.width=r+"px"),l.tblwidth+(u?x:0)<l.width&&k(l.tblwidth+(u?x:0)),S.offsetWidth>S.clientWidth&&(l.autowidth||void 0!==l.widthOrg&&"auto"!==l.widthOrg&&"100%"!==l.widthOrg||k(S.offsetWidth))}l.tblwidth&&(l.tblwidth=parseInt(l.tblwidth,10),h=l.tblwidth,q.scrollLeft=S.scrollLeft,v=Math.abs(h-l.width),l.shrinkToFit&&!t&&v<3&&v>0&&(h<l.width&&k(h),S.offsetWidth>S.clientWidth&&(l.autowidth||void 0!==l.widthOrg&&"auto"!==l.widthOrg&&"100%"!==l.widthOrg||k(S.offsetWidth)))),o.fixScrollOffsetAndhBoxPadding();var O={resizeDiv:!0,resizedRows:{iRowStart:t?0:-1,iRowEnd:-1}};$(o).triggerHandler("jqGridResetFrozenHeights",[{header:O,resizeFooter:!0,body:O}])}}})},setGridHeight:function(e){return this.each(function(){var t=this,r=t.grid,i=t.p;if(r){var n=$(r.bDiv);n.css({height:e+(isNaN(e)?"":"px")}),!0===i.frozenColumns&&$(i.idSel+"_frozen").parent().height(n.height()-16),i.height=e,i.scroll&&r.populateVisible.call(t),t.fixScrollOffsetAndhBoxPadding(),$(t).triggerHandler("jqGridResetFrozenHeights")}})},setCaption:function(e){return this.each(function(){var t=this,r=t.grid.cDiv;t.p.caption=e,$("span.ui-jqgrid-title, span.ui-jqgrid-title-rtl",r).html(e),$(r).show(),$(r).nextAll("div").removeClass(base.getGuiStyles.call(t,"top")),$(this).triggerHandler("jqGridResetFrozenHeights")})},setLabel:function(e,t,r,i){return this.each(function(){var n,a,o=this,l=o.p;if(o.grid){if(isNaN(e)){if(void 0===(n=l.iColByName[e]))return}else n=parseInt(e,10);n>=0&&(a=$(o.grid.headers[n].el),l.frozenColumns&&(a=a.add(o.grid.fhDiv.find(".ui-jqgrid-htable tr.ui-jqgrid-labels th.ui-th-column").eq(n))),t&&(a.each(function(){var e=$("[id^=jqgh_]",this),r=e.children("span.ui-jqgrid-cell-wrapper");if(r.length>0)r.html(t);else{var i=$(".s-ico",this);e.empty().html(t)[l.sortIconsBeforeText?"prepend":"append"](i)}}),l.colNames[n]=t),r&&("string"==typeof r?a.addClass(r):a.css(r)),"object"==typeof i&&a.attr(i))}})},setCell:function(e,t,r,i,n,a){return this.each(function(){var o,l,s,d,c,u,p,f,h,g,m=this,v=m.p,b=-1,y=v.colModel,w={};if(m.grid&&(b=isNaN(t)?v.iColByName[t]:parseInt(t,10))>=0&&(c=base.getGridRowById.call($(m),e))){if(u=jgrid.getCell.call(m,c,b),""!==r||!0===a){if(s=y[b],"local"===v.datatype&&(h=stripPref(v.idPrefix,e),void 0!==(g=v._index[h])&&(d=v.data[g])),null==d){for(l=0;l<c.cells.length;l++)if(l!==b&&(p=jgrid.getDataFieldOfCell.call(m,c,l),p.length>0)){try{f=$.unformat.call(m,p,{rowId:e,colModel:y[l]},l)}catch(e){f=htmlDecode(p[0].innerHTML)}w[y[l].name]=f}}else w=d;w[s.name]=r,o=m.formatter(e,r,b,w,"edit");var x=u;!0===v.treeGrid&&s.name===v.ExpandColumn&&(x=x.children("span.cell-wrapperleaf,span.cell-wrapper").first()),x.html(o),s.title&&u.attr({title:r}),null!=d&&(o=convertOnSaveLocally.call(m,r,s,d[s.name],h,d,b),$.isFunction(s.saveLocally)?s.saveLocally.call(m,{newValue:o,newItem:d,oldItem:d,id:h,cm:s,cmName:s.name,iCol:b}):d[s.name]=o)}(i||n)&&(u=jgrid.getCell.call(m,c,b),i&&u["string"==typeof i?"addClass":"css"](i),"object"==typeof n&&u.attr(n))}})},getCell:function(e,t){var r=!1;return this.each(function(){var i,n,a,o,l=this,s=l.p;if(l.grid&&(i=isNaN(t)?s.iColByName[t]:parseInt(t,10))>=0&&(n=base.getGridRowById.call($(l),e))){a=jgrid.getDataFieldOfCell.call(l,n,i).first(),o=s.colModel[i];try{r=base.isCellEditing.call($(l),e,i,n)?jgrid.getEditedValue.call(l,a,o,{},o.editable):$.unformat.call(l,a,{rowId:n.id,colModel:o},i)}catch(e){r=htmlDecode(a.html())}}}),r},getCol:function(e,t,r){var i,n,a,o,l=[],s=0;return t="boolean"==typeof t&&t,void 0===r&&(r=!1),this.each(function(){var d,c,u=this,p=u.p;if(u.grid&&(d=isNaN(e)?p.iColByName[e]:parseInt(e,10))>=0){var f,h,g=u.rows,m=g.length,v=0,b=0,y=p.colModel[d];if(m&&m>0){for(;v<m;){if(f=g[v],$(f).hasClass("jqgrow")){c=jgrid.getDataFieldOfCell.call(u,f,d).first(),h=f.id;try{i=base.isCellEditing.call($(u),h,d,f)?jgrid.getEditedValue.call(u,c,y,{},y.editable):$.unformat.call(u,c,{rowId:h,colModel:y},d)}catch(e){i=htmlDecode(c.html())}r?(o=parseFloat(i),isNaN(o)||(s+=o,void 0===a&&(a=n=o),n=Math.min(n,o),a=Math.max(a,o),b++)):t?l.push({id:h,value:i}):l.push(i)}v++}if(r)switch(r.toLowerCase()){case"sum":l=s;break;case"avg":l=s/b;break;case"count":l=m-1;break;case"min":l=n;break;case"max":l=a}}}}),l},clearGridData:function(e){return this.each(function(){var t=this,r=t.p,i=t.rows,n=t.grid;n&&r&&i&&("boolean"!=typeof e&&(e=!1),$(t).off(".jqGridFormatter"),n.emptyRows.call(t,!1,!0),r.footerrow&&e&&$(".ui-jqgrid-ftable td",n.sDiv).html("&#160;"),r.selrow=null,clearArray(r.selarrrow),clearArray(r.savedRow),clearArray(r.data),clearArray(r.lastSelectedData),r._index={},r.rowIndexes={},r.dataIndexById={},r.indexByColumnData={},r.records=0,r.page=1,r.lastpage=0,r.reccount=0,t.updatepager(!0,!1))})},getInd:function(e,t){var r=base.getGridRowById.call($(this),e);return!!r&&(!0===t?r:r.rowIndex)},bindKeys:function(e){var t=$.extend({onEnter:null,onSpace:null,onLeftKey:null,onRightKey:null,scrollingRows:!0},e||{});return this.each(function(){var e=this,r=e.p,i=$(e);r.scrollrows=t.scrollingRows,i.on("keydown.jqGrid",function(n){var a=$(this).find("tr[tabindex=0]")[0],o=jgrid.detectRowEditing.call(e,$(n.target).closest("tr.jqgrow").attr("id")),l=function(e){do{if(null===(a=a[e]))return}while($(a).is(":hidden")||!$(a).hasClass("jqgrow"));base.setSelection.call(i,a.id,!0),n.preventDefault()},s=function(n,a){var o=t["on"+n+(a||"")];i.triggerHandler("jqGridKey"+n,[r.selrow]),$.isFunction(o)&&o.call(e,r.selrow)},d=function(e){if(r.treeGrid){var t=r.data[r._index[stripPref(r.idPrefix,a.id)]][r.treeReader.expanded_field];"Right"===e&&(t=!t),t&&$(a).find("div.treeclick").trigger("click")}s(e,"Key")};if(a&&null===o)switch(n.keyCode){case 38:l("previousSibling");break;case 40:l("nextSibling");break;case 37:d("Left");break;case 39:d("Right");break;case 13:s("Enter");break;case 32:s("Space")}})})},unbindKeys:function(){return this.each(function(){$(this).off("keydown.jqGrid")})},getLocalRow:function(e){var t,r=!1;return this.each(function(){void 0!==e&&(t=this.p._index[stripPref(this.p.idPrefix,e)])>=0&&(r=this.p.data[t])}),r},progressBar:function(e){return e=$.extend({htmlcontent:"",method:"hide",loadtype:"disable"},e||{}),this.each(function(){var t="show"===e.method,r=jqID(this.p.id),i=$("#load_"+r);switch(""!==e.htmlcontent&&i.html(e.htmlcontent),e.loadtype){case"disable":break;case"enable":i.toggle(t);break;case"block":$("#lui_"+r).toggle(t),i.toggle(t)}})},setColWidth:function(e,t,r,i){return this.each(function(){var n,a=this,o=$(a),l=a.grid,s=a.p;if("string"==typeof e){if(void 0===(e=s.iColByName[e]))return}else if("number"!=typeof e)return;null!=(n=l.headers[e])&&(n.newWidth=t,l.newWidth=s.tblwidth+t-n.width,l.resizeColumn(e,!s.frozenColumns,i),!1===r||i||(a.fixScrollOffsetAndhBoxPadding(),base.setGridWidth.call(o,l.newWidth+s.scrollOffset,!1)))})},getAutoResizableWidth:function(e){var t=this;if(0===t.length)return-1;t=t[0];var r,i,n,a,o,l=t.rows,s=t.p,d=s.colModel[e],c=$(t.grid.headers[e].el),u=c.find(">div"),p=parseFloat(c.css("padding-left")||0),f=parseFloat(c.css("padding-right")||0),h=u.find("span.s-ico"),g=u.find(">."+s.autoResizing.wrapperClassName),m=g.outerWidth(),v=parseFloat(g.css("width")||0),b=0,y=0,w=null!=d.autoResizing&&void 0!==d.autoResizable.compact?d.autoResizable.compact:s.autoResizing.compact,x=s.autoResizing.wrapperClassName;if(null==d||!d.autoResizable||0===g.length||d.hidden||jgrid.isCellClassHidden(d.classes)||d.fixed)return-1;for(w&&!h.is(":visible")&&"none"===h.css("display")||(y=h.outerWidth(!0),s.sortIconsBeforeText||(y-="rtl"===s.direction?parseFloat(h.css("padding-left")||0)+parseFloat(h.css("margin-left")||0):parseFloat(h.css("padding-right")||0)+parseFloat(h.css("margin-right")||0))),y+=m+p+(v===m?p+f:0)+parseFloat(u.css("margin-left")||0)+parseFloat(u.css("margin-right")||0),n=0,l=t.rows;n<l.length;n++)r=l[n],i=r.cells[e],a=$(r.cells[e]),null!=i&&($(r).hasClass("jqgrow")||$(r).hasClass("jqgroup")&&1===i.colSpan)?(o=$(i.firstChild),o.hasClass(x)?y=Math.max(y,o.outerWidth()+b):s.treeGrid&&s.ExpandColumn===d.name&&(o=a.children(".cell-wrapper,.cell-wrapperleaf"),y=Math.max(y,o.outerWidth()+b+a.children(".tree-wrap").outerWidth()))):$(r).hasClass("jqgfirstrow")&&(b=(jgrid.cell_width?parseFloat(a.css("padding-left")||0)+parseFloat(a.css("padding-right")||0):0)+parseFloat(a.css("border-right")||0)+parseFloat(a.css("border-left")||0));return y=Math.max(y,null!=d.autoResizing&&void 0!==d.autoResizing.minColWidth?d.autoResizing.minColWidth:s.autoResizing.minColWidth),Math.min(y,null!=d.autoResizing&&void 0!==d.autoResizing.maxColWidth?d.autoResizing.maxColWidth:s.autoResizing.maxColWidth)},autoResizeColumn:function(e,t){return this.each(function(){var r,i=this,n=$(this),a=i.p,o=a.colModel[e],l=$(i.grid.headers[e].el),s=base.getAutoResizableWidth.call(n,e),d=(o.autoResizing||{}).resetWidthOrg;null==o||s<0||s===o.width||(base.setColWidth.call(n,e,s,a.autoResizing.adjustGridWidth&&!a.autoResizing.fixWidthOnShrink&&!t,t),a.autoResizing.fixWidthOnShrink&&a.shrinkToFit&&!t&&(o.fixed=!0,r=o.widthOrg,o.widthOrg=o.width,base.setGridWidth.call(n,a.width,!0),o.widthOrg=r,o.fixed=!1),(d||void 0===d&&a.autoResizing.resetWidthOrg)&&(o.widthOrg=o.width),l.data("autoResized","true"))})},autoResizeAllColumns:function(){return this.each(function(){var e,t,r=this,i=$(r),n=r.p,a=n.colModel,o=a.length,l=n.shrinkToFit,s=n.autoResizing.adjustGridWidth,d=n.autoResizing.fixWidthOnShrink,c=parseInt(n.widthOrg,10),u=r.grid,p=base.autoResizeColumn;for(n.shrinkToFit=!1,n.autoResizing.adjustGridWidth=!0,n.autoResizing.fixWidthOnShrink=!1,e=0;e<o;e++)t=a[e],t.autoResizable&&"actions"!==t.formatter&&p.call(i,e,!0);u.hDiv.scrollLeft=u.bDiv.scrollLeft,n.footerrow&&(u.sDiv.scrollLeft=u.bDiv.scrollLeft),r.fixScrollOffsetAndhBoxPadding(),isNaN(c)?s&&base.setGridWidth.call(i,u.newWidth+n.scrollOffset,!1):base.setGridWidth.call(i,c,!1),n.autoResizing.fixWidthOnShrink=d,n.autoResizing.adjustGridWidth=s,n.shrinkToFit=l})}});var getTdByColumnIndex=function(e,t){var r=this,i=r.grid.fbRows;return $((null!=i&&i[0].cells.length>t?i[e.rowIndex]:e).cells[t])};jgrid.extend({editCell:function(e,t,r){return this.each(function(){var i,n,a,o,l=this,s=$(l),d=l.p,c=l.rows;if(l.grid&&!0===d.cellEdit&&null!=c&&null!=c[e]&&(e=parseInt(e,10),t=parseInt(t,10),!isNaN(e)&&!isNaN(t))){var u,p=c[e],f=null!=p?p.id:null,h=$(p),g=parseInt(d.iCol,10),m=parseInt(d.iRow,10),v=$(c[m]),b=d.savedRow;if(null!=f){if(d.selrow=f,d.knv||s.jqGrid("GridNav"),b.length>0){if(!0===r&&e===m&&t===g)return;s.jqGrid("saveCell",b[0].id,b[0].ic)}else setTimeout(function(){$("#"+jgrid.jqID(d.knv)).attr("tabindex","-1").focus()},1);if(o=d.colModel[t],"subgrid"!==(i=o.name)&&"cb"!==i&&"rn"!==i){a=getTdByColumnIndex.call(l,p,t);var y=o.editable;$.isFunction(y)&&(y=y.call(l,{rowid:f,iCol:t,iRow:e,cmName:i,cm:o,mode:"cell"}));var w=s.jqGrid("getGuiStyles","states.select","edit-cell"),x=s.jqGrid("getGuiStyles","states.hover","selected-row");if(!0!==y||!0!==r||a.hasClass("not-editable-cell"))g>=0&&m>=0&&(getTdByColumnIndex.call(l,v[0],g).removeClass(w),v.removeClass(x)),a.addClass(w),h.addClass(x),n=a.html().replace(/&#160;/gi,""),feedback.call(l,"onSelectCell",f,i,n,e,t);else{g>=0&&m>=0&&(getTdByColumnIndex.call(l,v[0],g).removeClass(w),v.removeClass(x)),a.addClass(w),h.addClass(x),o.edittype||(o.edittype="text"),u=o.edittype;try{n=$.unformat.call(l,a,{rowId:f,colModel:o},t)}catch(e){n="textarea"===u?a.text():a.html()}if(d.autoEncodeOnEdit&&(n=jgrid.oldDecodePostedData(n)),b.push({id:e,ic:t,name:i,v:n}),("&nbsp;"===n||"&#160;"===n||1===n.length&&160===n.charCodeAt(0))&&(n=""),$.isFunction(d.formatCell)){var C=d.formatCell.call(l,f,i,n,e,t);void 0!==C&&(n=C)}feedback.call(l,"beforeEditCell",f,i,n,e,t);var j=$.extend({},o.editoptions||{},{id:e+"_"+i,name:i,rowId:f,mode:"cell",cm:o,iCol:t}),D=jgrid.createEl.call(l,u,j,n,!0,$.extend({},jgrid.ajaxOptions,d.ajaxSelectOptions||{})),S=a,q=!0===d.treeGrid&&i===d.ExpandColumn;q&&(S=a.children("span.cell-wrapperleaf,span.cell-wrapper")),S.html("").append(D).attr("tabindex","0"),q&&$(D).width(a.width()-a.children("div.tree-wrap").outerWidth()),jgrid.bindEv.call(l,D,j),setTimeout(function(){$(D).focus()},1),$("input, select, textarea",a).on("keydown",function(r){if(27===r.keyCode&&($("input.hasDatepicker",a).length>0?$(".ui-datepicker").is(":hidden")?s.jqGrid("restoreCell",e,t):$("input.hasDatepicker",a).datepicker("hide"):s.jqGrid("restoreCell",e,t)),13===r.keyCode&&!r.shiftKey)return s.jqGrid("saveCell",e,t),!1;if(9===r.keyCode){if(l.grid.hDiv.loading)return!1;r.shiftKey?s.jqGrid("prevCell",e,t):s.jqGrid("nextCell",e,t)}r.stopPropagation()}),feedback.call(l,"afterEditCell",f,i,n,e,t)}d.iCol=t,d.iRow=e}}}})},saveCell:function(e,t){return this.each(function(){var r=this,i=$(r),n=r.p,a=r.grid,o=jgrid.info_dialog,l=jgrid.jqID;if(a&&!0===n.cellEdit){var s=i.jqGrid("getGridRes","errors"),d=s.errcap,c=i.jqGrid("getGridRes","edit"),u=c.bClose,p=n.savedRow,f=p.length>=1?0:null;if(null!==f){var h,g=r.rows[e],m=g.id,v=$(g),b=n.colModel[t],y=b.name,w=getTdByColumnIndex.call(r,g,t),x={},C=jgrid.getEditedValue.call(r,w,b,x);if(C!==p[f].v){h=i.triggerHandler("jqGridBeforeSaveCell",[m,y,C,e,t]),void 0!==h&&(C=h),$.isFunction(n.beforeSaveCell)&&void 0!==(h=n.beforeSaveCell.call(r,m,y,C,e,t))&&(C=h);var j=jgrid.checkValues.call(r,C,t,void 0,void 0,{oldValue:p[f].v,newValue:C,cmName:y,rowid:m,iCol:t,iRow:e,cm:b,tr:g,td:w,mode:"cell"}),D=b.formatoptions||{};if(null==j||!0===j||!0===j[0]){var S=i.triggerHandler("jqGridBeforeSubmitCell",[m,y,C,e,t])||{};if($.isFunction(n.beforeSubmitCell)&&((S=n.beforeSubmitCell.call(r,m,y,C,e,t))||(S={})),$("input.hasDatepicker",w).length>0&&$("input.hasDatepicker",w).datepicker("hide"),"date"===b.formatter&&!0!==D.sendFormatted&&(C=$.unformat.date.call(r,C,b)),"remote"===n.cellsubmit)if(n.cellurl){var q={};q[y]=C;var _=n.prmNames,F=_.id,R=_.oper;q[F]=jgrid.stripPref(n.idPrefix,m),q[R]=_.editoper,q=$.extend(S,q),n.autoEncodeOnEdit&&$.each(q,function(e,t){$.isFunction(t)||(q[e]=jgrid.oldEncodePostedData(t))}),i.jqGrid("progressBar",{method:"show",loadtype:n.loadui,htmlcontent:i.jqGrid("getGridRes","defaults.savetext")||"Saving..."}),a.hDiv.loading=!0,$.ajax($.extend({url:$.isFunction(n.cellurl)?n.cellurl.call(r,n.cellurl,e,t,m,C,y):n.cellurl,data:jgrid.serializeFeedback.call(r,n.serializeCellData,"jqGridSerializeCellData",q),type:"POST",complete:function(l){if(a.endReq.call(r),(l.status<300||304===l.status)&&(0!==l.status||4!==l.readyState)){var s=i.triggerHandler("jqGridAfterSubmitCell",[r,l,q.id,y,C,e,t])||[!0,""];(!0===s||!0===s[0]&&$.isFunction(n.afterSubmitCell))&&(s=n.afterSubmitCell.call(r,l,q.id,y,C,e,t)),null==s||!0===s||!0===s[0]?(i.jqGrid("setCell",m,t,C,!1,!1,!0),w.addClass("dirty-cell"),v.addClass("edited"),feedback.call(r,"afterSaveCell",m,y,C,e,t),p.splice(0,1)):(o.call(r,d,s[1],u),i.jqGrid("restoreCell",e,t))}},error:function(a,l,s){i.triggerHandler("jqGridErrorCell",[a,l,s]),$.isFunction(n.errorCell)?(n.errorCell.call(r,a,l,s),i.jqGrid("restoreCell",e,t)):(o.call(r,d,a.status+" : "+a.statusText+"<br/>"+l,u),i.jqGrid("restoreCell",e,t))}},jgrid.ajaxOptions,n.ajaxCellOptions||{}))}else try{o.call(r,d,s.nourl,u),i.jqGrid("restoreCell",e,t)}catch(e){}"clientArray"===n.cellsubmit&&(i.jqGrid("setCell",m,t,"select"===b.edittype&&"select"!==b.formatter?x.text:C,!1,!1,!0),w.addClass("dirty-cell"),v.addClass("edited"),feedback.call(r,"afterSaveCell",m,y,C,e,t),p.splice(0,1))}else try{setTimeout(function(){var e=jgrid.getRelativeRect.call(r,w);o.call(r,d,C+" "+j[1],u,{top:e.top,left:e.left+$(r).closest(".ui-jqgrid").offset().left})},50),i.jqGrid("restoreCell",e,t)}catch(e){}}else i.jqGrid("restoreCell",e,t)}setTimeout(function(){$("#"+l(n.knv)).attr("tabindex","-1").focus()},0)}})},restoreCell:function(e,t){return this.each(function(){var r,i,n,a=this,o=a.p,l=a.rows[e],s=l.id;if(a.grid&&!0===o.cellEdit){var d=o.savedRow,c=getTdByColumnIndex.call(a,l,t);if(d.length>=1){if($.isFunction($.fn.datepicker))try{$("input.hasDatepicker",c).datepicker("hide")}catch(e){}i=o.colModel[t],!0===o.treeGrid&&i.name===o.ExpandColumn?c.children("span.cell-wrapperleaf,span.cell-wrapper").empty():c.empty(),c.attr("tabindex","-1"),r=d[0].v,n=i.formatoptions||{},"date"===i.formatter&&!0!==n.sendFormatted&&(r=$.unformat.date.call(a,r,i)),$(a).jqGrid("setCell",s,t,r,!1,!1,!0),feedback.call(a,"afterRestoreCell",s,r,e,t),d.splice(0,1)}setTimeout(function(){$("#"+o.knv).attr("tabindex","-1").focus()},0)}})},nextCell:function(e,t){return this.each(function(){var r,i,n,a=this,o=$(a),l=a.p,s=!1,d=a.rows;if(a.grid&&!0===l.cellEdit&&null!=d&&null!=d[e]){for(r=t+1;r<l.colModel.length;r++)if(n=l.colModel[r],i=n.editable,$.isFunction(i)&&(i=i.call(a,{rowid:d[e].id,iCol:r,iRow:e,cmName:n.name,cm:n,mode:"cell"})),!0===i){s=r;break}!1!==s?o.jqGrid("editCell",e,s,!0):l.savedRow.length>0&&o.jqGrid("saveCell",e,t)}})},prevCell:function(e,t){return this.each(function(){var r,i,n,a=this,o=$(a),l=a.p,s=!1,d=a.rows;if(a.grid&&!0===l.cellEdit&&null!=d&&null!=d[e]){for(r=t-1;r>=0;r--)if(n=l.colModel[r],i=n.editable,$.isFunction(i)&&(i=i.call(a,{rowid:d[e].id,iCol:r,iRow:e,cmName:n.name,cm:n,mode:"cell"})),!0===i){s=r;break}!1!==s?o.jqGrid("editCell",e,s,!0):l.savedRow.length>0&&o.jqGrid("saveCell",e,t)}})},GridNav:function(){return this.each(function(){function e(e,t,r){var i=n.rows[e];if("v"===r.substr(0,1)){var a=s.clientHeight,o=s.scrollTop,l=i.offsetTop+i.clientHeight,d=i.offsetTop;"vd"===r&&l>=a&&(s.scrollTop=s.scrollTop+i.clientHeight),"vu"===r&&d<o&&(s.scrollTop=s.scrollTop-i.clientHeight)}if("h"===r){var c=s.clientWidth,u=s.scrollLeft,p=i.cells[t],f=p.offsetLeft+p.clientWidth,h=p.offsetLeft;f>=c+parseInt(u,10)?s.scrollLeft=s.scrollLeft+p.clientWidth:h<u&&(s.scrollLeft=s.scrollLeft-p.clientWidth)}}function t(e,t){var r,i=0,n=o.colModel;if("lft"===t)for(i=e+1,r=e;r>=0;r--)if(!0!==n[r].hidden){i=r;break}if("rgt"===t)for(i=e-1,r=e;r<n.length;r++)if(!0!==n[r].hidden){i=r;break}return i}var r,i,n=this,a=$(n),o=n.p,l=n.grid;if(l&&!0===o.cellEdit){var s=l.bDiv;o.knv=o.id+"_kn";var d=$("<div style='position:fixed;top:0px;width:1px;height:1px;' tabindex='0'><div tabindex='-1' style='width:1px;height:1px;' id='"+o.knv+"'></div></div>");$(d).insertBefore(l.cDiv),$("#"+o.knv).focus().keydown(function(l){var s=parseInt(o.iRow,10),d=parseInt(o.iCol,10);switch(i=l.keyCode,"rtl"===o.direction&&(37===i?i=39:39===i&&(i=37)),i){case 38:s-1>0&&(e(s-1,d,"vu"),a.jqGrid("editCell",s-1,d,!1));break;case 40:s+1<=n.rows.length-1&&(e(s+1,d,"vd"),a.jqGrid("editCell",s+1,d,!1));break;case 37:d-1>=0&&(r=t(d-1,"lft"),e(s,r,"h"),a.jqGrid("editCell",s,r,!1));break;case 39:d+1<=o.colModel.length-1&&(r=t(d+1,"rgt"),e(s,r,"h"),a.jqGrid("editCell",s,r,!1));break;case 13:d>=0&&s>=0&&a.jqGrid("editCell",s,d,!0);break;default:return!0}return!1})}})},getChangedCells:function(e){var t=[];return e||(e="all"),this.each(function(){var r=this,i=r.p,n=jgrid.htmlDecode,a=r.rows;r.grid&&!0===i.cellEdit&&$(a).each(function(o){var l={};if($(this).hasClass("edited")){var s=this;$(this.cells).each(function(t){var d=i.colModel[t],c=d.name,u=getTdByColumnIndex.call(r,s,t);if("cb"!==c&&"subgrid"!==c&&"rn"!==c&&("dirty"!==e||u.hasClass("dirty-cell")))try{l[c]=$.unformat.call(r,u[0],{rowId:a[o].id,colModel:d},t)}catch(e){l[c]=n(u.html())}}),l.id=this.id,t.push(l)}})}),t}});var getGuiStyles=base.getGuiStyles,getGridRes=base.getGridRes;jgrid.jqModal=jgrid.jqModal||{},$.extend(!0,jgrid.jqModal,{toTop:!0}),$.extend(jgrid,{showModal:function(e){e.w.show()},closeModal:function(e){e.w.hide().attr("aria-hidden","true"),e.o&&e.o.remove()},hideModal:function(e,t){t=$.extend({jqm:!0,gb:"",removemodal:!1},t||{});var r=!(!t.gb||"string"!=typeof t.gb||"#gbox_"!==t.gb.substr(0,6))&&$("#"+t.gb.substr(6))[0],i=$(e);if(t.onClose){var n=r?t.onClose.call(r,e):t.onClose(e);if("boolean"==typeof n&&!n)return}if($.fn.jqm&&!0===t.jqm)i.attr("aria-hidden","true").jqmHide();else{if(""!==t.gb)try{$(">.jqgrid-overlay",t.gb).first().hide()}catch(e){}i.hide().attr("aria-hidden","true")}t.removemodal&&i.remove()},createModal:function(e,t,r,i,n,a,o){var l=jgrid.jqID,s=this.p;r=$.extend(!0,{resizingRightBottomIcon:base.getIconRes.call(this,"form.resizableLtr")},jgrid.jqModal||{},null!=s?s.jqModal||{}:{},r);var d=document.createElement("div"),c="#"+l(e.themodal),u="rtl"===$(r.gbox).attr("dir"),p=!!e.resizeAlso&&"#"+l(e.resizeAlso);o=$.extend({},o||{}),d.className=getGuiStyles.call(this,"dialog.window","ui-jqdialog"),d.id=e.themodal,d.dir=u?"rtl":"ltr";var f=document.createElement("div");f.className=getGuiStyles.call(this,"dialog.document"),$(f).attr("role","document");var h=document.createElement("div");h.className=getGuiStyles.call(this,"dialog.subdocument"),f.appendChild(h),d.appendChild(f);var g=document.createElement("div");g.className=getGuiStyles.call(this,"dialog.header","ui-jqdialog-titlebar "+(u?"ui-jqdialog-titlebar-rtl":"ui-jqdialog-titlebar-ltr")),g.id=e.modalhead,$(g).append("<span class='ui-jqdialog-title'>"+r.caption+"</span>");var m=getGuiStyles.call(this,"states.hover"),v=$("<a aria-label='Close' class='"+getGuiStyles.call(this,"dialog.closeButton","ui-jqdialog-titlebar-close")+"'></a>").hover(function(){v.addClass(m)},function(){v.removeClass(m)}).append("<span class='"+base.getIconRes.call(this,"form.close")+"'></span>");$(g).append(v);var b=document.createElement("div");$(b).addClass(getGuiStyles.call(this,"dialog.content","ui-jqdialog-content")).attr("id",e.modalcontent),$(b).append(t),h.appendChild(b),$(h).prepend(g),!0===a?$("body").append(d):"string"==typeof a?$(a).append(d):$(d).insertBefore(i),$(d).css(o),void 0===r.jqModal&&(r.jqModal=!0);var y={};if($.fn.jqm&&!0===r.jqModal?(0===r.left&&0===r.top&&r.overlay&&(r=$(n).offset(),r.left+=4,r.top+=4),y.top=r.top+"px",y.left=r.left):0===r.left&&0===r.top||(y.left=r.left,y.top=r.top+"px"),$("a.ui-jqdialog-titlebar-close",g).click(function(){var e=$(c).data("onClose")||r.onClose,t=$(c).data("gbox")||r.gbox;return jgrid.hideModal(c,{gb:t,jqm:r.jqModal,onClose:e,removemodal:r.removemodal||!1}),!1}),0!==r.width&&r.width||(r.width=300),0!==r.height&&r.height||(r.height=200),!r.zIndex){var w=$(i).parents("*[role=dialog]").first().css("z-index");w?(r.zIndex=parseInt(w,10)+2,r.toTop=!0):r.zIndex=950}if(y.left&&(y.left+="px"),$(d).css($.extend({width:isNaN(r.width)?"auto":r.width+"px",height:isNaN(r.height)?"auto":r.height+"px",zIndex:r.zIndex},y)).attr({tabIndex:"-1",role:"dialog","aria-labelledby":e.modalhead,"aria-hidden":"true"}),void 0===r.drag&&(r.drag=!0),void 0===r.resize&&(r.resize=!0),r.drag)if($.fn.jqDrag)$(g).css("cursor","move"),$(d).jqDrag(g);else try{$(d).draggable({handle:$("#"+l(g.id))})}catch(e){}if(r.resize)if($.fn.jqResize)$(b).append("<div class='jqResize ui-resizable-handle ui-resizable-se "+r.resizingRightBottomIcon+"'></div>"),$(c).jqResize(".jqResize",p);else try{$(d).resizable({handles:"se, sw",alsoResize:p})}catch(e){}!0===r.closeOnEscape&&$(d).keydown(function(e){if(27===e.which){var t=$(c).data("onClose")||r.onClose;jgrid.hideModal(c,{gb:r.gbox,jqm:r.jqModal,onClose:t,removemodal:r.removemodal||!1,formprop:!r.recreateForm||!1,form:r.form||""})}})},viewModal:function(e,t){if(t=$.extend(!0,{overlay:30,modal:!1,overlayClass:getGuiStyles.call(this,"overlay"),onShow:jgrid.showModal,onHide:jgrid.closeModal,gbox:"",jqm:!0,jqM:!0},jgrid.jqModal||{},t||{}),$.fn.jqm&&!0===t.jqm)t.jqM?$(e).attr("aria-hidden","false").jqm(t).jqmShow():$(e).attr("aria-hidden","false").jqmShow();else{""!==t.gbox&&($(">.jqgrid-overlay",t.gbox).first().show(),$(e).data("gbox",t.gbox)),$(e).show().attr("aria-hidden","false");try{$(":input:visible",e)[0].focus()}catch(e){}}},info_dialog:function(e,t,r,i){var n=this,a=n.p,o=$.extend(!0,{width:290,height:"auto",dataheight:"auto",drag:!0,resize:!1,left:250,top:170,zIndex:1e3,jqModal:!0,modal:!1,closeOnEscape:!0,align:"center",buttonalign:"center",buttons:[]},jgrid.jqModal||{},null!=a?a.jqModal||{}:{},{caption:"<b>"+e+"</b>"},i||{}),l=o.jqModal;$.fn.jqm&&!l&&(l=!1);var s,d="",c=getGuiStyles.call(n,"states.hover");if(o.buttons.length>0)for(s=0;s<o.buttons.length;s++)void 0===o.buttons[s].id&&(o.buttons[s].id="info_button_"+s),d+=jgrid.builderFmButon.call(n,o.buttons[s].id,o.buttons[s].text);var u=isNaN(o.dataheight)?o.dataheight:o.dataheight+"px",p="text-align:"+o.align+";",f=$("#info_dialog"),h="<div id='info_id'>";h+="<div id='infocnt' style='margin:0px;padding-bottom:1em;width:100%;overflow:auto;position:relative;height:"+u+";"+p+"'>"+t+"</div>",(r||""!==d)&&(h+="<hr class='"+getGuiStyles.call(n,"dialog.hr")+"' style='margin:1px'/><div style='text-align:"+o.buttonalign+";padding:.8em 0 .5em 0;background-image:none;border-width: 1px 0 0 0;'>"+(r?jgrid.builderFmButon.call(n,"closedialog",r):"")+d+"</div>"),h+="</div>";try{"false"===f.attr("aria-hidden")&&jgrid.hideModal("#info_dialog",{jqm:l}),f.remove()}catch(e){}jgrid.createModal.call(n,{themodal:"info_dialog",modalhead:"info_head",modalcontent:"info_content",resizeAlso:"infocnt"},h,o,"","",!0),f=$("#info_dialog"),d&&$.each(o.buttons,function(){$("#"+jgrid.jqID(this.id),"#info_id").on("click",{click:this.onClick},function(e){return $.isFunction(e.data.click)&&e.data.click.call(n,e,f),!1})}),$("#closedialog","#info_id").click(function(){return jgrid.hideModal("#info_dialog",{jqm:l,onClose:f.data("onClose")||o.onClose,gb:f.data("gbox")||o.gbox}),!1}),$(".fm-button","#info_dialog").hover(function(){$(this).addClass(c)},function(){$(this).removeClass(c)}),$.isFunction(o.beforeOpen)&&o.beforeOpen(),jgrid.viewModal.call(n,"#info_dialog",{onHide:function(e){e.w.hide().remove(),e.o&&e.o.remove()},modal:o.modal,jqm:l}),$.isFunction(o.afterOpen)&&o.afterOpen();try{f.focus()}catch(e){}},bindEv:function(e,t){var r=this;$.isFunction(t.dataInit)&&t.dataInit.call(r,e,t),t.dataEvents&&$.each(t.dataEvents,function(){void 0!==this.data?$(e).on(this.type,this.data,this.fn):$(e).on(this.type,this.fn)})},createEl:function(e,t,r,i,n){function a(e,t,r){var i=["dataInit","dataEvents","dataUrl","buildSelect","sopt","searchhidden","defaultValue","attr","custom_element","custom_value","selectFilled","rowId","column","mode","cm","iCol"];void 0!==r&&$.isArray(r)&&$.merge(i,r),$.each(t,function(t,r){-1===$.inArray(t,i)&&$(e).attr(t,r)}),t.hasOwnProperty("id")||$(e).attr("id",jgrid.randId())}var o="",l=this,s=l.p,d=jgrid.info_dialog,c=function(e){return getGridRes.call($(l),e)},u=c("errors.errcap"),p=c("edit"),f=p.msg,h=p.bClose;if(null==t)return"";switch(e){case"textarea":o=document.createElement("textarea"),i?t.cols||$(o).css({width:"100%","box-sizing":"border-box"}):t.cols||(t.cols=19),t.rows||(t.rows=2),("&nbsp;"===r||"&#160;"===r||1===r.length&&160===r.charCodeAt(0))&&(r=""),o.value=r,a(o,t),$(o).attr({role:"textbox"});break;case"checkbox":if(o=document.createElement("input"),o.type="checkbox",t.value){var g=t.value.split(":");r===g[0]&&(o.checked=!0,o.defaultChecked=!0),o.value=g[0],$(o).data("offval",g[1])}else{var m=String(r).toLowerCase();m.search(/(false|f|0|no|n|off|undefined)/i)<0&&""!==m?(o.checked=!0,o.defaultChecked=!0,o.value=r):o.value="on",$(o).data("offval","off")}a(o,t,["value"]),$(o).attr({role:"checkbox","aria-checked":o.checked?"true":"false"});break;case"select":o=document.createElement("select");var v,b=[],y=null;!0===t.multiple?(v=!0,o.multiple="multiple",$(o).attr("aria-multiselectable","true"),b=r.split(","),b=$.map(b,function(e){return $.trim(e)})):(v=!1,b[0]=$.trim(r)),void 0===t.size&&(t.size=v?3:1);try{y=t.rowId}catch(e){}if(s&&s.idPrefix&&(y=jgrid.stripPref(s.idPrefix,y)),void 0===t.dataUrl&&t.generateValue&&null!=s.indexByColumnData[t.cm.name]&&(t.value=l.generateValueFromColumnIndex(t.cm.name,t.separator,t.delimiter)),void 0!==t.dataUrl){var w=t.postData||n.postData,x={elem:o,options:t,cm:t.cm,mode:t.mode,rowid:y,iCol:t.iCol,ovm:b};a(o,t,w?["postData"]:void 0),$.ajax($.extend({url:$.isFunction(t.dataUrl)?t.dataUrl.call(l,y,r,String(t.name),x):t.dataUrl,type:"GET",dataType:"html",data:$.isFunction(w)?w.call(l,y,r,String(t.name)):w,context:x,success:function(e,t,r){var i=this.ovm,n=this.elem,a=this.cm,o=this.iCol,s=$.extend({},this.options),d=this.rowid,c=this.mode,u=$.isFunction(s.buildSelect)?s.buildSelect.call(l,e,r,a,o):e;"string"==typeof u&&(u=$($.trim(u)).html()),u&&($(n).append(u),setTimeout(function(){var e;$("option",n).each(function(t){0===t&&n.multiple&&(this.selected=!1),$.inArray($.trim($(this).val()),i)>-1&&(this.selected=!0,e=!0)}),e||$("option",n).each(function(){$.inArray($.trim($(this).text()),i)>-1&&(this.selected=!0)}),jgrid.fullBoolFeedback.call(l,s.selectFilled,"jqGridSelectFilled",{elem:n,options:s,cm:a,rowid:d,mode:c,cmName:null!=a?a.name:s.name,iCol:o})},0))}},n||{}))}else t.value&&(jgrid.fillSelectOptions(o,t.value,void 0===t.separator?":":t.separator,void 0===t.delimiter?";":t.delimiter,v,r),a(o,t,["value"]),jgrid.fullBoolFeedback.call(l,t.selectFilled,"jqGridSelectFilled",{elem:o,options:t,cm:t.cm,rowid:y,mode:t.mode,cmName:null!=t.cm?t.cm.name:t.name,iCol:t.iCol}));break;case"text":case"password":case"button":var C;C="button"===e?"button":"textbox",o=document.createElement("input"),o.type=e,a(o,t),o.value=r,"button"!==e&&(i?t.size||$(o).css({width:"100%","box-sizing":"border-box"}):t.size||(t.size=20)),$(o).attr("role",C);break;case"image":case"file":o=document.createElement("input"),o.type=e,a(o,t);break;case"custom":o=document.createElement("span");try{if(!$.isFunction(t.custom_element))throw"editoptions.custom_element is not a function";var j=t.custom_element.call(l,r,t);if(!(j instanceof jQuery||jgrid.isHTMLElement(j)||"string"==typeof j))throw"editoptions.custom_element returns value of a wrong type";j=$(j).addClass("customelement").attr({id:t.id,name:t.name}),$(o).empty().append(j)}catch(e){"e1"===e&&d.call(l,u,"function 'custom_element' "+f.nodefined,h),"e2"===e?d.call(l,u,"function 'custom_element' "+f.novalue,h):d.call(l,u,"string"==typeof e?e:e.message,h)}}return o},checkDate:function(e,t){var r,i={};if(e=e.toLowerCase(),r=-1!==e.indexOf("/")?"/":-1!==e.indexOf("-")?"-":-1!==e.indexOf(".")?".":"/",e=e.split(r),t=t.split(r),3!==t.length)return!1;var n,a,o,l=-1,s=-1,d=-1;for(a=0;a<e.length;a++)o=isNaN(t[a])?0:parseInt(t[a],10),i[e[a]]=o,n=e[a],-1!==n.indexOf("y")&&(l=a),-1!==n.indexOf("m")&&(d=a),-1!==n.indexOf("d")&&(s=a);n="y"===e[l]||"yyyy"===e[l]?4:"yy"===e[l]?2:-1;var c,u=[0,31,29,31,30,31,30,31,31,30,31,30,31];return-1!==l&&(c=i[e[l]].toString(),2===n&&1===c.length&&(n=1),c.length===n&&(0!==i[e[l]]||"00"===t[l])&&(-1!==d&&(c=i[e[d]].toString(),!(c.length<1||i[e[d]]<1||i[e[d]]>12)&&(-1!==s&&(c=i[e[s]].toString(),!(c.length<1||i[e[s]]<1||i[e[s]]>31||2===i[e[d]]&&i[e[s]]>function(e){return e%4!=0||e%100==0&&e%400!=0?28:29}(i[e[l]])||i[e[s]]>u[i[e[d]]]))))))},isEmpty:function(e){return!(!e.match(/^\s+$/)&&""!==e)},checkTime:function(e){var t,r=/^(\d{1,2}):(\d{2})([apAP][Mm])?$/;if(!jgrid.isEmpty(e)){if(!(t=e.match(r)))return!1;if(t[3]){if(t[1]<1||t[1]>12)return!1}else if(t[1]>23)return!1;if(t[2]>59)return!1}return!0},checkValues:function(e,t,r,i,n){var a,o,l,s,d,c=this,u=c.p,p=u.colModel,f=jgrid.isEmpty,h=getGridRes.call($(c),"edit.msg"),g=getGridRes.call($(c),"formatter.date.masks");if(void 0===r){if("string"==typeof t&&(t=u.iColByName[t]),void 0===t||t<0)return[!0,"",""];s=p[t],a=s.editrules,null!=s.formoptions&&(o=s.formoptions.label)}else a=r,o=void 0===i?"_":i,s=p[t];if(a){if(o||(o=null!=u.colNames?u.colNames[t]:s.label),!0===a.required&&f(e))return[!1,o+": "+h.required,""];var m=!1!==a.required;if(!0===a.number&&(!1!==m||!f(e))&&isNaN(e))return[!1,o+": "+h.number,""];if(void 0!==a.minValue&&!isNaN(a.minValue)&&parseFloat(e)<parseFloat(a.minValue))return[!1,o+": "+h.minValue+" "+a.minValue,""];if(void 0!==a.maxValue&&!isNaN(a.maxValue)&&parseFloat(e)>parseFloat(a.maxValue))return[!1,o+": "+h.maxValue+" "+a.maxValue,""];var v;if(!0===a.email&&!(!1===m&&f(e)||(v=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i,v.test(e))))return[!1,o+": "+h.email,""];if(!0===a.integer&&(!1!==m||!f(e))){if(isNaN(e))return[!1,o+": "+h.integer,""];if(e%1!=0||-1!==e.indexOf("."))return[!1,o+": "+h.integer,""]}if(!0===a.date&&!(!1===m&&f(e)||(s.formatoptions&&s.formatoptions.newformat?(l=s.formatoptions.newformat,g.hasOwnProperty(l)&&(l=g[l])):l=p[t].datefmt||"Y-m-d",jgrid.checkDate(l,e))))return[!1,o+": "+h.date+" - "+l,""];if(!0===a.time&&!(!1===m&&f(e)||jgrid.checkTime(e)))return[!1,o+": "+h.date+" - hh:mm (am/pm)",""];if(!0===a.url&&!(!1===m&&f(e)||(v=/^(((https?)|(ftp)):\/\/([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*\/?)/i,v.test(e))))return[!1,o+": "+h.url,""];if(!0===a.custom){if(!1!==m||!f(e))return $.isFunction(a.custom_func)?(d=a.custom_func.call(c,e,o,t),$.isArray(d)?d:[!1,h.customarray,""]):[!1,h.customfcheck,""]}else if($.isFunction(a.custom)&&(!1!==m||!f(e)))return d=a.custom.call(c,n),$.isArray(d)?d:[!1,h.customarray,""]}return[!0,"",""]}}),jgrid.extend({getColProp:function(e){var t,r={},i=this[0];return null!=i&&i.grid&&void 0!==(t=i.p.iColByName[e])?i.p.colModel[t]:r},setColProp:function(e,t){return this.each(function(){var r,i=this,n=i.p;i.grid&&null!=n&&t&&void 0!==(r=n.iColByName[e])&&$.extend(!0,n.colModel[r],t)})},sortGrid:function(e,t,r){return this.each(function(){var i,n,a,o=this,l=o.grid,s=o.p,d=s.colModel,c=d.length,u=!1;if(l)for(e||(e=s.sortname),"boolean"!=typeof t&&(t=!1),n=0;n<c;n++)if(i=d[n],i.index===e||i.name===e){!0===s.frozenColumns&&!0===i.frozen&&(u=l.fhDiv.find("#"+s.id+"_"+e)),u&&0!==u.length||(u=l.headers[n].el),a=i.sortable,("boolean"!=typeof a||a)&&o.sortData("jqgh_"+s.id+"_"+e,n,t,r,u);break}})},clearBeforeUnload:function(){return this.each(function(){var e,t=this,r=t.p,i=t.grid,n=jgrid.clearArray,a=Object.prototype.hasOwnProperty;$.isFunction(i.emptyRows)&&i.emptyRows.call(t,!0,!0),$(document).off("mousemove.jqGrid mouseup.jqGrid"+r.id),$(t).off();var o,l=i.headers.length;for(o=0;o<l;o++)i.headers[o].el=null;for(e in i)i.hasOwnProperty(e)&&(i.propOrMethod=null);var s=["formatCol","sortData","updatepager","refreshIndex","setHeadCheckBox","constructTr","clearToolbar","fixScrollOffsetAndhBoxPadding","rebuildRowIndexes","modalAlert","toggleToolbar","triggerToolbar","formatter","addXmlData","addJSONData","ftoolbar","_inlinenav","nav","grid","p"];for(l=s.length,o=0;o<l;o++)a.call(t,s[o])&&(t[s[o]]=null);t._index={},n(r.data),n(r.lastSelectedData),n(r.selarrrow),n(r.savedRow)})},GridDestroy:function(){return this.each(function(){var e=this,t=e.p;if(e.grid&&null!=t){t.pager&&$(t.pager).remove();try{$("#alertmod_"+jqID(t.id)).remove(),$(e).jqGrid("clearBeforeUnload"),$(t.gBox).remove()}catch(e){}}})},GridUnload:function(){return this.each(function(){var e=this,t=$(e),r=e.p,i=$.fn.jqGrid;e.grid&&(t.removeClass(i.getGuiStyles.call(t,"grid","ui-jqgrid-btable")),r.pager&&$(r.pager).empty().removeClass(i.getGuiStyles.call(t,"pagerBottom","ui-jqgrid-pager")).removeAttr("style").removeAttr("dir"),t.jqGrid("clearBeforeUnload"),t.removeAttr("style").removeAttr("tabindex").removeAttr("role").removeAttr("aria-labelledby").removeAttr("style"),t.empty(),t.insertBefore(r.gBox).show(),$(r.pager).insertBefore(r.gBox).show(),$(r.gBox).remove())})},setGridState:function(e){return this.each(function(){var t=this,r=t.p,i=t.grid,n=i.cDiv,a=$(i.uDiv),o=$(i.ubDiv);if(i&&null!=r){var l=function(e){return base.getIconRes.call(t,"gridMinimize."+e)},s=l("visible"),d=l("hidden");"hidden"===e?($(".ui-jqgrid-bdiv, .ui-jqgrid-hdiv",r.gView).slideUp("fast"),r.pager&&$(r.pager).slideUp("fast"),r.toppager&&$(r.toppager).slideUp("fast"),!0===r.toolbar[0]&&("both"===r.toolbar[1]&&o.slideUp("fast"),a.slideUp("fast")),r.footerrow&&$(".ui-jqgrid-sdiv",r.gBox).slideUp("fast"),$(".ui-jqgrid-titlebar-close span",n).removeClass(s).addClass(d),r.gridstate="hidden"):"visible"===e&&($(".ui-jqgrid-hdiv, .ui-jqgrid-bdiv",r.gView).slideDown("fast"),r.pager&&$(r.pager).slideDown("fast"),r.toppager&&$(r.toppager).slideDown("fast"),!0===r.toolbar[0]&&("both"===r.toolbar[1]&&o.slideDown("fast"),a.slideDown("fast")),r.footerrow&&$(".ui-jqgrid-sdiv",r.gBox).slideDown("fast"),$(".ui-jqgrid-titlebar-close span",n).removeClass(d).addClass(s),r.gridstate="visible")}})},filterToolbar:function(e){return this.each(function(){var t=this,r=t.grid,i=$(t),n=t.p,a=jgrid.info_dialog,o=jgrid.htmlEncode;if(!this.ftoolbar){var l,s=$.extend(!0,{autosearch:!0,autosearchDelay:500,searchOnEnter:!0,beforeSearch:null,afterSearch:null,beforeClear:null,afterClear:null,searchurl:"",stringResult:!1,groupOp:"AND",defaultSearch:"bw",idMode:"new",searchOperators:!1,resetIcon:"&times;",applyLabelClasses:!0,loadFilterDefaults:!0,operands:{eq:"==",ne:"!",lt:"<",le:"<=",gt:">",ge:">=",bw:"^",bn:"!^",in:"=",ni:"!=",ew:"|",en:"!@",cn:"~",nc:"!~",nu:"#",nn:"!#"}},jgrid.search,n.searching||{},e||{}),d=n.colModel,c=function(e){return getGridRes.call(i,e)},u=c("errors.errcap"),p=c("edit.bClose"),f=c("edit.msg"),h=getGuiStyles.call(t,"states.hover"),g=getGuiStyles.call(t,"states.select"),m=getGuiStyles.call(t,"filterToolbar.dataField"),v={},b=function(e){var t="gs_";switch(s.idMode){case"compatibility":t+=n.idPrefix;break;case"new":t+=n.id+"_"}return t+e},y=function(e){return"#"+jqID(b(e))},w=function(e){var t=(e.value||"").split(":");return{on:t[0]||"on",off:t[1]||"off"}},x=function(e){var t,r,i,a,o,l,c=n.postData.filters,u={},p=n.iColByName;if(e)for(r=0;r<d.length;r++)o=d[r],!1!==o.search&&(l=o.searchoptions||{},u[o.name]={op:l.sopt?l.sopt[0]:"select"===o.stype||"checkbox"===o.stype?"eq":s.defaultSearch,data:void 0!==l.defaultValue?l.defaultValue:""});if(!c||!n.search)return u;if("string"==typeof c)try{c=$.parseJSON(c)}catch(e){c={}}else c=c||{};if(i=c.rules||{},null==c||null!=c.groupOp&&null!=s.groupOp&&c.groupOp.toUpperCase()!==s.groupOp.toUpperCase()||null==i||0===i.length||null!=c.groups&&c.groups.length>0)return u;for(r=0;r<i.length;r++)for(a=i[r],o=d[p[a.field]],t=0;t<d.length;t++)if(o=d[t],(o.index||o.name)===a.field&&!1!==o.search){if(l=o.searchoptions||{},l.sopt){if($.inArray(a.op,l.sopt)<0)continue}else if("select"===o.stype||"checkbox"===o.stype){if("eq"!==a.op)continue}else if(a.op!==s.defaultSearch)continue;u[o.name]={op:a.op,data:a.data}}return u},C=function(e,t){switch(t){case 1:e.data("state",1).prop({checked:!0,indeterminate:!1});break;case 0:e.data("state",0).prop({checked:!1,indeterminate:!1});break;default:e.data("state",-1).prop({checked:!1,indeterminate:!0})}},j=function(){var e={},a=0,o={};$.each(d,function(){var i,l,d=this,u=d.index||d.name,p=d.searchoptions||{},f=$(y(d.name),!0===d.frozen&&!0===n.frozenColumns?r.fhDiv:r.hDiv),h=function(e,t){var r=d.formatoptions||{};return void 0!==r[e]?r[e]:c("formatter."+(t||d.formatter)+"."+e)},g=function(e){var t=h("thousandsSeparator").replace(/([\.\*\_\'\(\)\{\}\+\?\\])/g,"\\$1");return e.replace(new RegExp(t,"g"),"")};if(l=s.searchOperators?f.parent().prev().children("a").data("soper")||s.defaultSearch:p.sopt?p.sopt[0]:"select"===d.stype||"checkbox"===d.stype?"eq":s.defaultSearch,"custom"===d.stype&&$.isFunction(p.custom_value)&&f.length>0&&"SPAN"===f[0].nodeName.toUpperCase())i=p.custom_value.call(t,f.children(".customelement").first(),"get");else if("select"===d.stype)f.prop("multiple")?(i=f.val(),i=null==i||0===i.length?"":i.join(n.inFilterSeparator||",")):i=f.val();else if("checkbox"===d.stype){var m=w(p);switch(f.data("state")){case-1:i="";break;case 0:i=m.off;break;default:i=m.on}}else switch(i=$.trim(f.val()),d.formatter){case"integer":i=g(i).replace(h("decimalSeparator","number"),"."),""!==i&&(i=String(parseInt(i,10)));break;case"number":i=g(i).replace(h("decimalSeparator"),"."),""!==i&&"0"===String(i).charAt(0)&&(i=String(parseFloat(i)));break;case"currency":var v=h("prefix"),b=h("suffix");v&&v.length&&(i=i.substr(v.length)),b&&b.length&&(i=i.substr(0,i.length-b.length)),i=g(i).replace(h("decimalSeparator"),"."),""!==i&&(i=String(parseFloat(i)))}if(i||"nu"===l||"nn"===l||$.inArray(l,n.customUnaryOperations)>=0)e[u]=i,o[u]=l,a++;else if(e.hasOwnProperty(u)&&delete e[u],!s.stringResult&&!s.searchOperators&&"local"!==n.datatype)try{null!=n.postData&&n.postData.hasOwnProperty(u)&&delete n.postData[u]}catch(e){}});var l=a>0;if(s.stringResult||s.searchOperators||"local"===n.datatype){var u='{"groupOp":"'+s.groupOp+'","rules":[',p=0;$.each(e,function(e,t){p>0&&(u+=","),u+='{"field":"'+e+'",',u+='"op":"'+o[e]+'",',t+="",u+='"data":"'+t.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}',p++}),u+="]}",$.extend(n.postData,{filters:u}),$.each(["searchField","searchString","searchOper"],function(e,t){n.postData.hasOwnProperty(t)&&delete n.postData[t]})}else $.extend(n.postData,e);var f;n.searchurl&&(f=n.url,i.jqGrid("setGridParam",{url:n.searchurl}));var h="stop"===i.triggerHandler("jqGridToolbarBeforeSearch");!h&&$.isFunction(s.beforeSearch)&&(h=s.beforeSearch.call(t)),h||i.jqGrid("setGridParam",{search:l}).trigger("reloadGrid",[$.extend({page:1},s.reloadGridSearchOptions||{})]),f&&i.jqGrid("setGridParam",{url:f}),i.triggerHandler("jqGridToolbarAfterSearch"),$.isFunction(s.afterSearch)&&s.afterSearch.call(t)},D=function(e){var a,o={},l=0;e="boolean"!=typeof e||e,$.each(d,function(){var e,i,s=this,d=$(y(s.name),!0===s.frozen&&!0===n.frozenColumns?r.fhDiv:r.hDiv),c=s.searchoptions||{};switch(void 0!==c.defaultValue&&(e=c.defaultValue),a=s.index||s.name,s.stype){case"checkbox":C(d,-1);break;case"select":if(i=!(d.length>0)||!d[0].multiple,d.find("option").each(function(t){if(this.selected=0===t&&i,$(this).val()===e)return this.selected=!0,!1}),void 0!==e)o[a]=e,l++;else try{delete n.postData[a]}catch(e){}break;case"text":if(d.val(e||""),void 0!==e)o[a]=e,l++;else try{delete n.postData[a]}catch(e){}break;case"custom":$.isFunction(c.custom_value)&&d.length>0&&"SPAN"===d[0].nodeName.toUpperCase()&&(void 0===e&&(e=""),c.custom_value.call(t,d.children(".customelement").first(),"set",e))}});var c=l>0;if(n.resetsearch=!0,s.stringResult||s.searchOperators||"local"===n.datatype){var u='{"groupOp":"'+s.groupOp+'","rules":[',p=0;$.each(o,function(e,t){p>0&&(u+=","),u+='{"field":"'+e+'",',u+='"op":"eq",',t+="",u+='"data":"'+t.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}',p++}),u+="]}",$.extend(n.postData,{filters:u}),$.each(["searchField","searchString","searchOper"],function(e,t){n.postData.hasOwnProperty(t)&&delete n.postData[t]})}else $.extend(n.postData,o);var f;n.searchurl&&(f=n.url,i.jqGrid("setGridParam",{url:n.searchurl}));var h="stop"===i.triggerHandler("jqGridToolbarBeforeClear");!h&&$.isFunction(s.beforeClear)&&(h=s.beforeClear.call(t)),h||e&&i.jqGrid("setGridParam",{search:c}).trigger("reloadGrid",[$.extend({page:1},s.reloadGridResetOptions||{})]),f&&i.jqGrid("setGridParam",{url:f}),i.triggerHandler("jqGridToolbarAfterClear"),$.isFunction(s.afterClear)&&s.afterClear.call(t)},S=function(){var e=$("tr.ui-search-toolbar",r.hDiv),t=!0===n.frozenColumns&&$("tr.ui-search-toolbar",r.fhDiv);"none"===e.css("display")?(e.show(),t&&t.show()):(e.hide(),t&&t.hide()),!0===n.frozenColumns&&(i.jqGrid("destroyFrozenColumns"),i.jqGrid("setFrozenColumns"))},q=c("search.odata")||[],_=n.customSortOperations,F=function(e,r,a){$("#sopt_menu").remove(),r=parseInt(r,10),a=parseInt(a,10)+18;var l,c,u=0,p=[],f=$(e).data("soper"),m=$(e).data("colname"),v=$(".ui-jqgrid-view").css("font-size")||"11px",b="<ul id='sopt_menu' class='"+getGuiStyles.call(t,"searchToolbar.menu","ui-search-menu")+"' role='menu' tabindex='0' style='z-index:9999;display:block;font-size:"+v+";left:"+r+"px;top:"+a+"px;'>";if(void 0!==(u=n.iColByName[m])){var y,w,x,C,D,S=d[u],F=$.extend({},S.searchoptions);for(F.sopt||(F.sopt=[],F.sopt[0]="select"===S.stype||"checkbox"===S.stype?"eq":s.defaultSearch),$.each(q,function(){p.push(this.oper)}),null!=_&&$.each(_,function(e){p.push(e)}),u=0;u<F.sopt.length;u++)x=F.sopt[u],-1!==(c=$.inArray(x,p))&&(y=q[c],void 0!==y?(C=s.operands[x],D=y.text):null!=_&&(w=_[x],C=w.operand,D=w.text),l=f===x?g:"",b+='<li class="ui-menu-item '+l+'" role="presentation"><a class="ui-corner-all g-menu-item" tabindex="0" role="menuitem" value="'+o(x)+'" data-oper="'+o(C)+'"><table><tr><td style="width:25px">'+o(C)+"</td><td>"+o(D)+"</td></tr></table></a></li>");b+="</ul>",$("body").append(b),$("#sopt_menu").addClass("ui-menu ui-widget ui-widget-content ui-corner-all"),$("#sopt_menu > li > a").hover(function(){$(this).addClass(h)},function(){$(this).removeClass(h)}).click(function(){var t=$(this).attr("value"),r=$(this).data("oper");if(i.triggerHandler("jqGridToolbarSelectOper",[t,r,e]),$("#sopt_menu").hide(),$(e).data("soper",t).text(r),!0===s.autosearch){var a=$(e).parent().next().children()[0];($(a).val()||"nu"===t||"nn"===t||$.inArray(t,n.customUnaryOperations)>=0)&&j()}})}},R=[],k=$("<tr></tr>",{class:"ui-search-toolbar",role:"row form"});s.loadFilterDefaults&&(v=x()||{}),$.each(d,function(e){var r,i,o,d,g,y,w,x=this,D=x.searchoptions||{},S=x.editoptions||{},F=$("<th></th>",{class:getGuiStyles.call(t,"colHeaders","ui-th-column ui-th-"+n.direction+" "+(s.applyLabelClasses?x.labelClasses||"":"")),role:"gridcell","aria-describedby":n.id+"_"+x.name}),O=$("<div></div>"),I=$("<table class='ui-search-table'><tbody><tr><td class='ui-search-oper'></td><td class='ui-search-input'></td><td class='ui-search-clear' style='width:1px'></td></tr></tbody></table>"),N=I.children("tbody").children("tr").children("td"),G=N.eq(0),E=N.eq(1),T=N.eq(2);if(!0===this.hidden&&F.css("display","none"),this.search=!1!==this.search,void 0===this.stype&&(this.stype="text"),r=$.extend({mode:"filter"},D),this.search){if(s.searchOperators){for(d=n.search&&null!=v[this.name]?v[this.name].op:r.sopt?r.sopt[0]:"select"===x.stype||"checkbox"===x.stype?"eq":s.defaultSearch,g=0;g<q.length;g++)if(q[g].oper===d){o=s.operands[d]||"";break}if(void 0===o&&null!=_){var A;for(A in _)if(_.hasOwnProperty(A)&&A===d){o=_[A].operand;break}}void 0===o&&(o="="),G.append("<a title='"+(null!=r.searchtitle?r.searchtitle:c("search.operandTitle"))+"' data-soper='"+d+"' class='"+getGuiStyles.call(t,"searchToolbar.operButton","soptclass")+"' data-colname='"+this.name+"'>"+o+"</a>")}if(G.data("colindex",e),null!=r.sopt&&1!==r.sopt.length||G.hide(),n.search&&null!=v[this.name]&&(r.defaultValue=v[this.name].data),void 0===r.clearSearch&&(r.clearSearch="text"===this.stype),r.clearSearch){var M=$.isFunction(s.resetTitle)?s.resetTitle.call(t,{options:s,cm:x,cmName:x.name,iCol:e}):(c("search.resetTitle")||"Clear Search Value")+" "+jgrid.stripHtml(n.colNames[e]);T.append("<a title='"+M+"' aria-label='"+M+"' class='"+getGuiStyles.call(t,"searchToolbar.clearButton","clearsearchclass")+"'><span>"+s.resetIcon+"</span></a>")}else T.hide();switch(O.append(I),this.stype){case"checkbox":var B=void 0!==r.defaultValue?r.defaultValue:"-1";w=$("<input role='search' type='checkbox' class='"+m+"' name='"+(x.index||x.name)+"' id='"+b(x.name)+"' aria-labelledby='jqgh_"+n.id+"_"+x.name+"' data-state='"+B+"'/>"),"-1"===B?w.prop("indeterminate",!0):"1"===B&&w.prop("checked",!0),w.click(function(){var e=$(this);switch(e.data("state")){case-1:C(e,1);break;case 0:C(e,-1);break;default:C(e,0)}!0===s.autosearch&&j()}),E.append(w),r.attr&&w.attr(r.attr),R.push({elem:w[0],options:r});break;case"select":if(i=this.surl||r.dataUrl)$.ajax($.extend({url:i,context:{$tdInput:E,options:r,cm:x,iCol:e},dataType:"html",success:function(e,i,n){var a,o,l,d=this.cm,c=this.iCol,u=this.options,p=this.$tdInput;void 0!==u.buildSelect?(a=u.buildSelect.call(t,e,n,d,c))&&p.append(a):p.append(e),l=p.children("select"),l.attr({name:d.index||d.name,id:b(d.name)}),u.attr&&l.attr(u.attr),l.addClass(m),l.css({width:"100%"}),0===l.find("option[value='']").length&&"string"==typeof r.noFilterText&&(o=document.createElement("option"),o.value="",o.innerHTML=r.noFilterText,l.prepend(o),null!=$(l[0].options[l[0].selectedIndex]).attr("selected")||l[0].multiple||(l[0].selectedIndex=0)),l[0].multiple&&0===l.find("option[selected]").length&&-1!==l[0].selectedIndex&&(l[0].options[l[0].selectedIndex].selected=!1),void 0!==u.defaultValue&&l.val(u.defaultValue),jgrid.bindEv.call(t,l[0],u),jgrid.fullBoolFeedback.call(t,u.selectFilled,"jqGridSelectFilled",{elem:l[0],options:u,cm:d,cmName:d.name,iCol:c,mode:"filter"}),!0===s.autosearch&&l.change(function(){return j(),!1})}},jgrid.ajaxOptions,n.ajaxSelectOptions||{}));else{var P,L,z;if(x.searchoptions?(P=void 0===D.value?S.value||"":D.value,L=void 0===D.separator?S.separator||":":D.separator,z=void 0===D.delimiter?S.delimiter||";":D.delimiter):x.editoptions&&(P=void 0===S.value?"":S.value,L=void 0===S.separator?":":S.separator,z=void 0===S.delimiter?";":S.delimiter),D.generateValue&&null!=n.indexByColumnData[x.name]&&(P=t.generateValueFromColumnIndex(x.name,L,z)),P){y=document.createElement("select"),y.style.width="100%",w=$(y).attr({name:x.index||x.name,role:"search",id:b(x.name),"aria-describedby":n.id+"_"+x.name}),r.attr&&w.attr(r.attr);if(!jgrid.fillSelectOptions(y,P,L,z,null!=r.attr&&r.attr.multiple)&&"string"==typeof r.noFilterText){var H=document.createElement("option");H.value="",H.innerHTML=r.noFilterText,H.selected=!0,w.prepend(H)}void 0!==r.defaultValue&&w.val(r.defaultValue),w.addClass(m),R.push({elem:y,options:r}),E.append(y),jgrid.fullBoolFeedback.call(t,r.selectFilled,"jqGridSelectFilled",{elem:y,options:x.searchoptions||S,cm:x,cmName:x.name,iCol:e,mode:"filter"}),!0===s.autosearch&&w.change(function(){return j(),!1})}}break;case"text":w=$("<input role='search' type='text' class='"+m+"' name='"+(x.index||x.name)+"' id='"+b(x.name)+"' aria-labelledby='jqgh_"+n.id+"_"+x.name+"' value='"+(void 0!==r.defaultValue?r.defaultValue:"")+"'/>"),E.append(w),r.attr&&w.attr(r.attr),R.push({elem:w[0],options:r}),!0===s.autosearch&&(s.searchOnEnter?w.keypress(function(e){return 13===(e.charCode||e.keyCode||0)?(j(),!1):this}):w.keydown(function(e){switch(e.which){case 13:return!1;case 9:case 16:case 37:case 38:case 39:case 40:case 27:break;default:l&&clearTimeout(l),l=setTimeout(function(){j()},s.autosearchDelay)}}));break;case"custom":E.append("<span style='width:100%;padding:0;box-sizing:border-box;' name='"+(x.index||x.name)+"' id='"+b(x.name)+"'/>");try{if(!$.isFunction(r.custom_element))throw"e1";var V=r.custom_element.call(t,void 0!==r.defaultValue?r.defaultValue:"",r);if(!V)throw"e2";V=$(V).addClass("customelement"),O.find("span[name='"+(x.index||x.name)+"']").append(V)}catch(e){"e1"===e&&a.call(t,u,"function 'custom_element' "+f.nodefined,p),"e2"===e?a.call(t,u,"function 'custom_element' "+f.novalue,p):a.call(t,u,"string"==typeof e?e:e.message,p)}}}F.append(O),F.find(".ui-search-oper .soptclass,.ui-search-clear .clearsearchclass").hover(function(){$(this).addClass(h)},function(){$(this).removeClass(h)}),k.append(F),s.searchOperators||G.hide()}),$(r.hDiv).find(">div>.ui-jqgrid-htable>thead").append(k),$.each(R,function(){jgrid.bindEv.call(t,this.elem,this.options)}),s.searchOperators&&($(".soptclass",k).click(function(e){var t=$(this).offset(),r=t.left,i=t.top;F(this,r,i),e.stopPropagation()}),$("body").on("click",function(e){"soptclass"!==e.target.className&&$("#sopt_menu").hide()})),$(".clearsearchclass",k).click(function(){var e,t,r=$(this).closest(".ui-search-clear"),i=r.siblings(".ui-search-oper"),a=i.children("a"),o=a.data("soper"),l=parseInt(i.data("colindex"),10),c=r.siblings(".ui-search-input"),u=d[l],p=$.extend({},u.searchoptions||{}),f=p.defaultValue||"";switch(u.stype){case"select":f?c.find("select").val(f):c.find("select")[0].selectedIndex=0;break;case"checkbox":C(c.find("input[type=checkbox]"),-1);break;default:c.find("input").val(f)}("nu"===o||"nn"===o||$.inArray(o,n.customUnaryOperations)>=0)&&(e=p.sopt?p.sopt[0]:"select"===u.stype||"checkbox"===u.stype?"eq":s.defaultSearch,t=null!=_&&null!=_[e]?_[e].operand:s.operands[e]||"",a.data("soper",e).text(t)),!0===s.autosearch&&j()}),t.ftoolbar=!0,t.triggerToolbar=j,t.clearToolbar=D,t.toggleToolbar=S,!0===n.frozenColumns&&(i.jqGrid("destroyFrozenColumns"),i.jqGrid("setFrozenColumns")),i.on("jqGridRefreshFilterValues.filterToolbar"+(s.loadFilterDefaults?" jqGridAfterLoadComplete.filterToolbar":""),function(){var e,r,i,a,o,l,d,c=x(!0)||{};if(s.stringResult||s.searchOperators||"local"===n.datatype||!n.search){for(e in c)if(c.hasOwnProperty(e)&&(r=c[e],i=$(y(e)),l=i.closest("th.ui-th-column"),i.length>0&&l.length>0)){if(d=(n.colModel[l[0].cellIndex]||{}).searchoptions||{},"SELECT"===i[0].tagName.toUpperCase()&&i[0].multiple)i.val(r.data.split(n.inFilterSeparator||","));else if(i.is("input[type=checkbox]")){var u=w(d);C(i,r.data===u.on?1:r.data===u.off?0:-1)}else if(i.find(".customelement").length>0&&$.isFunction(d.custom_value)){var p=d.custom_value.call(t,i.find(".customelement").first(),"get");""===r.data&&void 0!==d.defaultValue&&(r.data=d.defaultValue),void 0===p&&(p=""),r.data!==p&&String(r.data)!==String(p)&&d.custom_value.call(t,i.find(".customelement").first(),"set",r.data)}else""===r.data&&void 0!==d.defaultValue&&(r.data=d.defaultValue),$.trim(i.val())!==String(r.data)&&i.val(r.data);a=i.closest(".ui-search-input").siblings(".ui-search-oper").children(".soptclass"),a.data("soper",r.op),a.text(s.operands[r.op])}for(o=0;o<n.colModel.length;o++)e=n.colModel[o].name,c.hasOwnProperty(e)||$(y(e)).val("")}})}})},destroyFilterToolbar:function(){return this.each(function(){var e=this;e.ftoolbar&&(e.triggerToolbar=null,e.clearToolbar=null,e.toggleToolbar=null,e.ftoolbar=!1,$(e.grid.hDiv).find("table thead tr.ui-search-toolbar").remove(),!0===e.p.frozenColumns&&$(e).jqGrid("destroyFrozenColumns").jqGrid("setFrozenColumns"))})},destroyGroupHeader:function(e){return void 0===e&&(e=!0),this.each(function(){var t,r,i,n,a,o=this,l=o.grid,s=o.p.colModel,d=$("table.ui-jqgrid-htable thead",l.hDiv);if(l){$(o).off(".setGroupHeaders");var c=$("<tr>",{role:"row"}).addClass("ui-jqgrid-labels"),u=l.headers;for(t=0,r=u.length;t<r;t++){a=s[t].hidden?"none":"",i=$(u[t].el).width(u[t].width).css("display",a);try{i.removeAttr("rowSpan")}catch(e){i.attr("rowSpan",1)}c.append(i),n=i.children("span.ui-jqgrid-resize"),n.length>0&&(n[0].style.height=""),i.children("div")[0].style.top=""}$(d).children("tr.ui-jqgrid-labels").remove(),$(d).prepend(c),!0===e&&$(o).jqGrid("setGridParam",{groupHeader:null})}})},setGroupHeaders:function(e){return e=$.extend({useColSpanStyle:!1,applyLabelClasses:!0,groupHeaders:[]},e||{}),this.each(function(){this.p.groupHeader=e;var t,r,i,n,a,o,l,s,d,c,u,p,f,h,g=this,m=0,v=g.p,b=v.colModel,y=b.length,w=g.grid.headers,x=$("table.ui-jqgrid-htable",g.grid.hDiv),C=jgrid.isCellClassHidden,j=x.children("thead").children("tr.ui-jqgrid-labels"),D=j.last().addClass("jqg-second-row-header"),S=x.children("thead"),q=x.find(".jqg-first-row-header");void 0===q[0]?q=$("<tr>",{role:"row","aria-hidden":"true"}).addClass("jqg-first-row-header").css("height","auto"):q.empty();for($(g).prepend(S),i=$("<tr>",{role:"row"}).addClass("ui-jqgrid-labels jqg-third-row-header"),t=0;t<y;t++)if(a=w[t].el,o=$(a),r=b[t],l={height:"0",width:w[t].width+"px",display:r.hidden?"none":""},$("<th>",{role:"gridcell"}).css(l).addClass("ui-first-th-"+v.direction+(e.applyLabelClasses?" "+(r.labelClasses||""):"")).appendTo(q),a.style.width="",h=getGuiStyles.call(g,"colHeaders","ui-th-column-header ui-th-"+v.direction+" "+(e.applyLabelClasses?r.labelClasses||"":"")),d=function(e,t){var r;for(r=0;r<t.length;r++)if(t[r].startColumnName===e)return t[r];return 0}(r.name,e.groupHeaders)){for(c=d.numberOfColumns,u=d.titleText,p=0,s=0;s<c&&t+s<y;s++)b[t+s].hidden||C(b[t+s].classes)||p++;n=$("<th>").addClass(h).css({height:"22px","border-top":"0 none"}).html(u),p>0&&n.attr("colspan",String(p)),v.headertitles&&n.attr("title",n.text()),0===p&&n.hide(),o.before(n),i.append(a),m=c-1}else 0===m?e.useColSpanStyle?o.attr("rowspan",j.length+1):($("<th>").addClass(h).css({display:r.hidden?"none":"","border-top":"0 none"}).insertBefore(o),i.append(a)):(i.append(a),m--);f=$(g).children("thead"),f.prepend(q),i.insertAfter(D),x.prepend(f),e.useColSpanStyle&&(x.find("span.ui-jqgrid-resize").each(function(){var e=$(this).parent();e.is(":visible")&&(this.style.cssText="height:"+e.height()+"px !important;cursor:col-resize;")}),x.find(".ui-th-column>div").each(function(){var e=$(this),t=e.parent();t.is(":visible")&&t.is(":has(span.ui-jqgrid-resize)")&&!e.hasClass("ui-jqgrid-rotate")&&!e.hasClass("ui-jqgrid-rotateOldIE")&&e.css("top",(t.height()-e.outerHeight(!0))/2+"px")})),$(g).triggerHandler("jqGridAfterSetGroupHeaders")})},getNumberOfFrozenColumns:function(){var e=this;if(0===e.length)return 0;e=e[0];var t,r=e.p.colModel,i=r.length,n=-1;for(t=0;t<i&&!0===r[t].frozen;t++)n=t;return n+1},setFrozenColumns:function(e){return e=e||{},this.each(function(){var t=this,r=$(t),i=t.p,n=t.grid;if(n&&null!=i&&!0!==i.frozenColumns){var a,o,l=i.colModel,s=l.length,d=-1,c=!1,u=[],p=jqID(i.id),f=getGuiStyles.call(t,"states.hover"),h=getGuiStyles.call(t,"states.disabled");if(!0!==i.subGrid&&!0!==i.treeGrid&&!i.scroll){for(a=0;a<s&&!0===l[a].frozen;a++)c=!0,d=a,u.push("#jqgh_"+p+"_"+jqID(l[a].name));if(i.sortable&&(o=$(n.hDiv).find(".ui-jqgrid-htable .ui-jqgrid-labels"),o.sortable("destroy"),r.jqGrid("setGridParam",{sortable:{options:{items:u.length>0?">th:not(:has("+u.join(",")+"),:hidden)":">th:not(:hidden)"}}}),r.jqGrid("sortableColumns",o)),d>=0&&c){var g=i.caption?$(n.cDiv).outerHeight():0,m=$(".ui-jqgrid-htable",i.gView).height();i.toppager&&(g+=$(n.topDiv).outerHeight()),!0===i.toolbar[0]&&"bottom"!==i.toolbar[1]&&(g+=$(n.uDiv).outerHeight()),n.fhDiv=$("<div style='position:absolute;overflow:hidden;"+("rtl"===i.direction?"right:0;border-top-left-radius:0;":"left:0;border-top-right-radius:0;")+"top:"+g+"px;height:"+m+"px;' class='"+getGuiStyles.call(t,"hDiv","frozen-div ui-jqgrid-hdiv")+"'></div>"),n.fbDiv=$("<div style='position:absolute;overflow:hidden;"+("rtl"===i.direction?"right:0;":"left:0;")+"top:"+(parseInt(g,10)+parseInt(m,10)+1)+"px;overflow:hidden;' class='frozen-bdiv ui-jqgrid-bdiv'></div>"),$(i.gView).append(n.fhDiv);var v=$(".ui-jqgrid-htable",i.gView).clone(!0),b=v[0].tHead.rows;if(i.groupHeader){$(b[0].cells).filter(":gt("+d+")").remove(),$(b).filter(".jqg-third-row-header").each(function(){$(this).children("th[id]").each(function(){var e,r=$(this).attr("id");r&&r.substr(0,t.id.length+1)===t.id+"_"&&(e=r.substr(t.id.length+1),i.iColByName[e]>d&&$(this).remove())})});var y,w,x=-1,C=-1;$(b).filter(".jqg-second-row-header").children("th").each(function(){if(y=parseInt($(this).attr("colspan")||1,10),w=parseInt($(this).attr("rowspan")||1,10),w>1?(x++,C++):y&&(x+=y,C++),x===d)return!1}),x!==d&&(C=d),$(b).filter(".jqg-second-row-header,.ui-search-toolbar").each(function(){$(this).children(":gt("+C+")").remove()})}else $(b).each(function(){$(this).children(":gt("+d+")").remove()});if($(v).width(1),$(n.fhDiv).append(v).scroll(function(){this.scrollLeft=0}),i.footerrow){var j=$(".ui-jqgrid-bdiv",i.gView).height();n.fsDiv=$("<div style='position:absolute;"+("rtl"===i.direction?"right:0;":"left:0;")+"top:"+(parseInt(g,10)+parseInt(m,10)+parseInt(j,10)+1)+"px;' class='frozen-sdiv ui-jqgrid-sdiv'></div>"),$(i.gView).append(n.fsDiv);var D=$(".ui-jqgrid-ftable",i.gView).clone(!0);$("tr",D).each(function(){$("td:gt("+d+")",this).remove()}),$(D).width(1),$(n.fsDiv).append(D)}r.on("jqGridSortCol.setFrozenColumns",function(e,t,r){var a=$("tr.ui-jqgrid-labels:last th:eq("+i.lastsort+")",n.fhDiv),o=$("tr.ui-jqgrid-labels:last th:eq("+r+")",n.fhDiv);$("span.ui-grid-ico-sort",a).addClass(h),$(a).attr("aria-selected","false"),$("span.ui-icon-"+i.sortorder,o).removeClass(h),$(o).attr("aria-selected","true"),i.viewsortcols[0]||i.lastsort!==r&&($("span.s-ico",a).hide(),$("span.s-ico",o).show())}),$(i.gView).append(n.fbDiv),$(n.bDiv).scroll(function(){$(n.fbDiv).scrollTop($(this).scrollTop())}),$(n.fbDiv).on("mousewheel.setFrozenColumns DOMMouseScroll.setFrozenColumns",function(r){n.bDiv.scrollTop+=$.isFunction(e.mouseWheel)?e.mouseWheel.call(t,r):"mousewheel"===r.type?-r.originalEvent.wheelDelta/10:6*r.originalEvent.detail}),!0===i.hoverrows&&$(i.idSel).off("mouseover.jqGrid mouseout.jqGrid");var S=function(e,t){var r=e.height();Math.abs(r-t)>=1&&t>0&&(e.height(t),r=e.height(),Math.abs(t-r)>=1&&e.height(t+Math.round(t-r)))},q=function(e,t){var r=e.width();Math.abs(r-t)>=1&&(e.width(t),r=e.width(),Math.abs(t-r)>=1&&e.width(t+Math.round(t-r)))},_=function(e,t,r,n){var o,l,s,d,c,u,p,f,h,g,m,v,b,y=$(t).position().top;if(null!=e&&e.length>0){if(e[0].scrollTop=t.scrollTop,e.css("rtl"===i.direction?{top:y,right:0}:{top:y,left:0}),s=e.children("table").children("thead").children("tr"),d=$(t).children("div").children("table").children("thead").children("tr"),0===d.length&&(s=$(e.children("table")[0].rows),d=$($(t).children("div").children("table")[0].rows)),l=Math.min(s.length,d.length),m=l>0?$(s[0]).position().top:0,v=l>0?$(d[0]).position().top:0,r>=0)for(n>=0&&(l=Math.min(n+1,l)),o=r;o<l;o++)if(c=$(d[o]),"none"!==c.css("display")&&c.is(":visible")){if(y=c.position().top,u=$(s[o]),p=u.position().top,f=c.height(),null!=i.groupHeader&&i.groupHeader.useColSpanStyle)for(b=c[0].cells,a=0;a<b.length;a++)null!=(g=b[a])&&"TH"===g.nodeName.toUpperCase()&&(f=Math.max(f,$(g).height()));h=f+(y-v)+(m-p),S(u,h)}S(e,t.clientHeight)}},F={resizeDiv:!0,resizedRows:{iRowStart:0,iRowEnd:-1}},R={header:F,resizeFooter:!0,body:F};r.on("jqGridAfterGridComplete.setFrozenColumns",function(){$(i.idSel+"_frozen").remove(),$(n.fbDiv).height(n.hDiv.clientHeight);var e=$(this).clone(!0),t=e[0].rows,a=r[0].rows;if($(t).filter("tr[role=row]").each(function(){$(this.cells).filter("td[role=gridcell]:gt("+d+")").remove()}),n.fbRows=t,e.width(1).attr("id",i.id+"_frozen"),e.appendTo(n.fbDiv),!0===i.hoverrows){var o=function(e,t,r){$(e)[t](f),$(r[e.rowIndex])[t](f)};$(t).filter(".jqgrow").hover(function(){o(this,"addClass",a)},function(){o(this,"removeClass",a)}),$(a).filter(".jqgrow").hover(function(){o(this,"addClass",t)},function(){o(this,"removeClass",t)})}_(n.fhDiv,n.hDiv,0,-1),_(n.fbDiv,n.bDiv,0,-1),n.sDiv&&_(n.fsDiv,n.sDiv,0,-1)});var k=function(e){$(n.fbDiv).scrollTop($(n.bDiv).scrollTop()),e.header.resizeDiv&&_(n.fhDiv,n.hDiv,e.header.resizedRows.iRowStart,e.header.resizedRows.iRowEnd),e.body.resizeDiv&&_(n.fbDiv,n.bDiv,e.body.resizedRows.iRowStart,e.body.resizedRows.iRowEnd),e.resizeFooter&&n.sDiv&&e.resizeFooter&&_(n.fsDiv,n.sDiv,0,-1);var t=n.fhDiv[0].clientWidth;e.header.resizeDiv&&null!=n.fhDiv&&n.fhDiv.length>=1&&S($(n.fhDiv),n.hDiv.clientHeight),e.body.resizeDiv&&null!=n.fbDiv&&n.fbDiv.length>0&&q($(n.fbDiv),t),e.resizeFooter&&null!=n.fsDiv&&n.fsDiv.length>=0&&q($(n.fsDiv),t)};$(i.gBox).on("resizestop.setFrozenColumns",function(){setTimeout(function(){k(R)},50)}),r.on("jqGridInlineEditRow.setFrozenColumns jqGridInlineAfterRestoreRow.setFrozenColumns jqGridInlineAfterSaveRow.setFrozenColumns jqGridAfterEditCell.setFrozenColumns jqGridAfterRestoreCell.setFrozenColumns jqGridAfterSaveCell.setFrozenColumns jqGridResizeStop.setFrozenColumns",function(e,t){var i=r.jqGrid("getInd",t);k({header:{resizeDiv:!1,resizedRows:{iRowStart:-1,iRowEnd:-1}},resizeFooter:!0,body:{resizeDiv:!0,resizedRows:{iRowStart:i,iRowEnd:i}}})}),r.on("jqGridResizeStop.setFrozenColumns",function(){k(R)}),r.on("jqGridResetFrozenHeights.setFrozenColumns",function(e,t){k(t||R)}),n.hDiv.loading||r.triggerHandler("jqGridAfterGridComplete"),i.frozenColumns=!0}}}})},destroyFrozenColumns:function(){return this.each(function(){var e=this,t=$(e),r=e.grid,i=e.p,n=jqID(i.id);if(r&&!0===i.frozenColumns){if($(r.fhDiv).remove(),$(r.fbDiv).off(".setFrozenColumns"),$(r.fbDiv).remove(),r.fhDiv=null,r.fbDiv=null,r.fbRows=null,i.footerrow&&($(r.fsDiv).remove(),r.fsDiv=null),t.off(".setFrozenColumns"),!0===i.hoverrows){var a,o=getGuiStyles.call(e,"states.hover");t.on("mouseover.jqGrid",function(e){a=$(e.target).closest("tr.jqgrow"),"ui-subgrid"!==$(a).attr("class")&&$(a).addClass(o)}).on("mouseout.jqGrid",function(e){a=$(e.target).closest("tr.jqgrow"),$(a).removeClass(o)})}if(i.frozenColumns=!1,i.sortable){var l=$(r.hDiv).find(".ui-jqgrid-htable .ui-jqgrid-labels");l.sortable("destroy"),t.jqGrid("setGridParam",{sortable:{options:{items:">th:not(:has(#jqgh_"+n+"_cb,#jqgh_"+n+"_rn,#jqgh_"+n+"_subgrid),:hidden)"}}}),t.jqGrid("sortableColumns",l)}}})}}),$.fn.jqFilter=function(e){if("string"==typeof e){var t=$.fn.jqFilter[e];if(!t)throw"jqFilter - No such method: "+e;var r=$.makeArray(arguments).slice(1);return t.apply(this,r)}var i=$.extend(!0,{filter:null,columns:[],onChange:null,afterRedraw:null,error:!1,errmsg:"",errorcheck:!0,showQuery:!0,sopt:null,ops:[],operands:null,numopts:["eq","ne","lt","le","gt","ge","nu","nn","in","ni"],stropts:["eq","ne","bw","bn","ew","en","cn","nc","nu","nn","in","ni"],strarr:["text","string","blob"],groupOps:[{op:"AND",text:"AND"},{op:"OR",text:"OR"}],groupButton:!0,ruleButtons:!0,direction:"ltr"},jgrid.filter,e||{});return this.each(function(){if(!this.filter){this.p=i,null!==i.filter&&void 0!==i.filter||(i.filter={groupOp:i.groupOps[0].op,rules:[],groups:[]});var e,t,r=i.columns.length,n=/msie/i.test(navigator.userAgent)&&!window.opera,a=$.isFunction,o=null!=jgrid.defaults&&a(jgrid.defaults.fatalError)?jgrid.defaults.fatalError:alert,l=function(){return $("#"+jgrid.jqID(i.id))[0]||null},s=function(e,t){return $(l()).jqGrid("getGuiStyles",e,t||"")},d=function(e){return $(l()).jqGrid("getGridRes","search."+e)},c=function(e){var t=l(),r=t.p.iColByName[e];return void 0!==r?{cm:t.p.colModel[r],iCol:r}:(r=t.p.iPropByName[e],void 0!==r?{cm:t.p.colModel[r],iCol:r,isAddProp:!0}:{cm:null,iCol:-1})},u=s("states.error"),p=s("dialog.content");if(i.initFilter=$.extend(!0,{},i.filter),r){for(e=0;e<r;e++)t=i.columns[e],t.stype?t.inputtype=t.stype:t.inputtype||(t.inputtype="text"),t.sorttype?t.searchtype=t.sorttype:t.searchtype||(t.searchtype="string"),void 0===t.hidden&&(t.hidden=!1),t.label||(t.label=t.name),t.cmName=t.name,t.index&&(t.name=t.index),t.hasOwnProperty("searchoptions")||(t.searchoptions={}),t.hasOwnProperty("searchrules")||(t.searchrules={});i.showQuery&&$(this).append("<table class='queryresult "+p+"' style='display:block;max-width:440px;border:0px none;' dir='"+i.direction+"'><tbody><tr><td class='query'></td></tr></tbody></table>");var f=function(e,t){var r=[!0,""],n=l();if(a(t.searchrules))r=t.searchrules.call(n,e,t);else if(jgrid&&jgrid.checkValues)try{r=jgrid.checkValues.call(n,e,-1,t.searchrules,t.label)}catch(e){}r&&r.length&&!1===r[0]&&(i.error=!r[0],i.errmsg=r[1])};this.onchange=function(){return i.error=!1,i.errmsg="",!!a(i.onChange)&&i.onChange.call(l(),i,this)},this.reDraw=function(){$("table.group:first",this).remove();var e=this.createTableForGroup(i.filter,null);$(this).append(e),a(i.afterRedraw)&&i.afterRedraw.call(l(),i,this)},this.createTableForGroup=function(e,t){var r,n=this,a=$("<table class='"+s("searchDialog.operationGroup","group")+"' style='border:0px none;'><tbody></tbody></table>"),o="left";"rtl"===i.direction&&(o="right",a.attr("dir","rtl")),null===t&&a.append("<tr class='error' style='display:none;'><th colspan='5' class='"+u+"' align='"+o+"'></th></tr>");var l=$("<tr></tr>");a.append(l);var c=$("<th colspan='5' align='"+o+"'></th>");if(l.append(c),!0===i.ruleButtons){var p=$("<select class='"+s("searchDialog.operationSelect","opsel")+"'></select>");c.append(p);var f,h="";for(r=0;r<i.groupOps.length;r++)f=e.groupOp===n.p.groupOps[r].op?" selected='selected'":"",h+="<option value='"+n.p.groupOps[r].op+"'"+f+">"+n.p.groupOps[r].text+"</option>";p.append(h).on("change",function(){e.groupOp=$(p).val(),n.onchange()})}var g="<span></span>";if(i.groupButton&&(g=$("<input type='button' value='+ {}' title='"+d("addGroupTitle")+"' class='"+s("searchDialog.addGroupButton","add-group")+"'/>"),g.on("click",function(){return void 0===e.groups&&(e.groups=[]),e.groups.push({groupOp:i.groupOps[0].op,rules:[],groups:[]}),n.reDraw(),n.onchange(),!1})),c.append(g),!0===i.ruleButtons){var m,v=$("<input type='button' value='+' title='"+d("addRuleTitle")+"' class='"+s("searchDialog.addRuleButton","add-rule ui-add")+"'/>");v.on("click",function(){var t,i;for(void 0===e.rules&&(e.rules=[]),r=0;r<n.p.columns.length;r++)if(t=void 0===n.p.columns[r].search||n.p.columns[r].search,i=!0===n.p.columns[r].hidden,!0===n.p.columns[r].searchoptions.searchhidden&&t||t&&!i){m=n.p.columns[r];break}var a;return a=m.searchoptions.sopt?m.searchoptions.sopt:n.p.sopt?n.p.sopt:-1!==$.inArray(m.searchtype,n.p.strarr)?n.p.stropts:n.p.numopts,e.rules.push({field:m.name,op:a[0],data:""}),n.reDraw(),!1}),c.append(v)}if(null!==t){var b=$("<input type='button' value='-' title='"+d("deleteGroupTitle")+"' class='"+s("searchDialog.deleteGroupButton","delete-group")+"'/>");c.append(b),b.on("click",function(){for(r=0;r<t.groups.length;r++)if(t.groups[r]===e){t.groups.splice(r,1);break}return n.reDraw(),n.onchange(),!1})}if(void 0!==e.groups){var y,w,x;for(r=0;r<e.groups.length;r++)y=$("<tr></tr>"),a.append(y),w=$("<td class='first'></td>"),y.append(w),x=$("<td colspan='4'></td>"),x.append(this.createTableForGroup(e.groups[r],e)),y.append(x)}if(void 0===e.groupOp&&(e.groupOp=n.p.groupOps[0].op),void 0!==e.rules)for(r=0;r<e.rules.length;r++)a.append(this.createTableRowForRule(e.rules[r],e));return a},this.createTableRowForRule=function(e,t){var r,o,u,p,f=this,h=l(),g=$("<tr></tr>"),m="";g.append("<td class='first'></td>");var v=$("<td class='columns'></td>");g.append(v);var b,y=$("<select class='"+s("searchDialog.label","selectLabel")+"'></select>"),w=[];v.append(y),y.on("change",function(){e.field=$(y).val();var t,r,i=$(this).parents("tr:first");for(r=0;r<f.p.columns.length;r++)if(f.p.columns[r].name===e.field){t=f.p.columns[r];break}if(t){var l=$.extend({},t.editoptions||{});delete l.readonly,delete l.disabled;var d=$.extend({},l||{},t.searchoptions||{},c(t.cmName),{id:jgrid.randId(),name:t.name,mode:"search"});d.column=t,n&&"text"===t.inputtype&&(d.size||(d.size=10));var u=jgrid.createEl.call(h,t.inputtype,d,"",!0,f.p.ajaxSelectOptions||{},!0);$(u).addClass(s("searchDialog.elem","input-elm")),o=d.sopt?d.sopt:f.p.sopt?f.p.sopt:-1!==$.inArray(t.searchtype,f.p.strarr)?f.p.stropts:f.p.numopts;var p,g,m,v="",x=0;for(w=[],$.each(f.p.ops,function(){w.push(this.oper)}),f.p.cops&&$.each(f.p.cops,function(e){w.push(e)}),r=0;r<o.length;r++)g=o[r],-1!==(b=$.inArray(o[r],w))&&(p=f.p.ops[b],m=void 0!==p?p.text:f.p.cops[g].text,0===x&&(e.op=g),v+="<option value='"+g+"'>"+m+"</option>",x++);if($(".selectopts",i).empty().append(v),$(".selectopts",i)[0].selectedIndex=0,jgrid.msie&&jgrid.msiever()<9){var C=parseInt($("select.selectopts",i)[0].offsetWidth,10)+1;$(".selectopts",i).width(C),$(".selectopts",i).css("width","auto")}$(".data",i).empty().append(u),jgrid.bindEv.call(h,u,d),$(".input-elm",i).on("change",d,function(t){var r=t.target,i=t.data.column;e.data=i&&"custom"===i.inputtype&&a(i.searchoptions.custom_value)?i.searchoptions.custom_value.call(h,$(this).find(".customelement").first(),"get"):r.value,$(r).is("input[type=checkbox]")&&!$(r).is(":checked")&&(e.data=$(r).data("offval")),f.onchange()}),setTimeout(function(){e.data=$(u).val(),f.onchange()},0)}});var x,C,j=0;for(r=0;r<f.p.columns.length;r++)x=void 0===f.p.columns[r].search||f.p.columns[r].search,C=!0===f.p.columns[r].hidden,(!0===f.p.columns[r].searchoptions.searchhidden&&x||x&&!C)&&(p="",e.field===f.p.columns[r].name&&(p=" selected='selected'",j=r),m+="<option value='"+f.p.columns[r].name+"'"+p+">"+f.p.columns[r].label+"</option>");y.append(m);var D=$("<td class='operators'></td>");g.append(D),u=i.columns[j],n&&"text"===u.inputtype&&(u.searchoptions.size||(u.searchoptions.size=10));var S=$.extend({},u.editoptions||{});delete S.readonly,delete S.disabled;var q=$.extend({},S,u.searchoptions||{},c(u.cmName),{id:jgrid.randId(),name:u.name});q.column=u;var _=jgrid.createEl.call(h,u.inputtype,q,e.data,!0,f.p.ajaxSelectOptions||{},!0);("nu"===e.op||"nn"===e.op||$.inArray(e.op,h.p.customUnaryOperations)>=0)&&($(_).attr("readonly","true"),$(_).attr("disabled","true"));var F=$("<select class='"+s("searchDialog.operator","selectopts")+"'></select>");D.append(F),F.on("change",function(){e.op=$(F).val();var t=$(this).parents("tr:first"),r=$(".input-elm",t)[0];"nu"===e.op||"nn"===e.op||$.inArray(e.op,h.p.customUnaryOperations)>=0?(e.data="","SELECT"!==r.tagName.toUpperCase()&&(r.value=""),r.setAttribute("readonly","true"),r.setAttribute("disabled","true")):("SELECT"===r.tagName.toUpperCase()&&(e.data=r.value),r.removeAttribute("readonly"),r.removeAttribute("disabled")),f.onchange()}),o=u.searchoptions.sopt?u.searchoptions.sopt:f.p.sopt?f.p.sopt:-1!==$.inArray(u.searchtype,f.p.strarr)?f.p.stropts:f.p.numopts,m="";var R,k;for($.each(f.p.ops,function(){w.push(this.oper)}),f.p.cops&&$.each(f.p.cops,function(e){w.push(e)}),r=0;r<o.length;r++)k=o[r],-1!==(b=$.inArray(o[r],w))&&(R=f.p.ops[b],p=e.op===k?" selected='selected'":"",m+="<option value='"+k+"'"+p+">"+(void 0!==R?R.text:f.p.cops[k].text)+"</option>");F.append(m);var O=$("<td class='data'></td>");g.append(O),O.append(_),jgrid.bindEv.call(h,_,u.searchoptions),$(_).addClass(s("searchDialog.elem","input-elm")).on("change",function(){e.data="custom"===u.inputtype?u.searchoptions.custom_value.call(h,$(this).find(".customelement").first(),"get"):$(this).val(),$(this).is("input[type=checkbox]")&&!$(this).is(":checked")&&(e.data=$(this).data("offval")),f.onchange()});var I=$("<td></td>");if(g.append(I),!0===i.ruleButtons){var N=$("<input type='button' value='-' title='"+d("deleteRuleTitle")+"' class='"+s("searchDialog.deleteRuleButton","delete-rule ui-del")+"'/>");I.append(N),N.on("click",function(){for(r=0;r<t.rules.length;r++)if(t.rules[r]===e){t.rules.splice(r,1);break}return f.reDraw(),f.onchange(),!1})}return g},this.getStringForGroup=function(e){var t,r="(";if(void 0!==e.groups)for(t=0;t<e.groups.length;t++){r.length>1&&(r+=" "+e.groupOp+" ");try{r+=this.getStringForGroup(e.groups[t])}catch(e){o(e)}}if(void 0!==e.rules)try{for(t=0;t<e.rules.length;t++)r.length>1&&(r+=" "+e.groupOp+" "),r+=this.getStringForRule(e.rules[t])}catch(e){o(e)}return r+=")","()"===r?"":r},this.getStringForRule=function(e){var t,r,n,o="",s="",d=e.data,c=["int","integer","float","number","currency"];for(t=0;t<i.ops.length;t++)if(i.ops[t].oper===e.op){o=i.operands.hasOwnProperty(e.op)?i.operands[e.op]:"",s=i.ops[t].oper;break}if(""===s&&null!=i.cops)for(n in i.cops)if(i.cops.hasOwnProperty(n)&&(s=n,o=i.cops[n].operand,a(i.cops[n].buildQueryValue)))return i.cops[n].buildQueryValue.call(i,{cmName:e.field,searchValue:d,operand:o});for(t=0;t<i.columns.length;t++)if(i.columns[t].name===e.field){r=i.columns[t];break}return null==r?"":("bw"!==s&&"bn"!==s||(d+="%"),"ew"!==s&&"en"!==s||(d="%"+d),"cn"!==s&&"nc"!==s||(d="%"+d+"%"),"in"!==s&&"ni"!==s||(d=" ("+d+")"),i.errorcheck&&f(e.data,r),-1!==$.inArray(r.searchtype,c)||"nn"===s||"nu"===s||$.inArray(s,l().p.customUnaryOperations)>=0?e.field+" "+o+" "+d:e.field+" "+o+' "'+d+'"')},this.resetFilter=function(){i.filter=$.extend(!0,{},i.initFilter),this.reDraw(),this.onchange()},this.hideError=function(){$("th."+u,this).html(""),$("tr.error",this).hide()},this.showError=function(){$("th."+u,this).html(i.errmsg),$("tr.error",this).show()},this.toUserFriendlyString=function(){return this.getStringForGroup(i.filter)},this.toString=function(){function e(e){if(r.p.errorcheck){var t,i;for(t=0;t<r.p.columns.length;t++)if(r.p.columns[t].name===e.field){i=r.p.columns[t];break}i&&f(e.data,i)}return e.op+"(item."+e.field+",'"+e.data+"')"}function t(r){var i,n="(";if(void 0!==r.groups)for(i=0;i<r.groups.length;i++)n.length>1&&("OR"===r.groupOp?n+=" || ":n+=" && "),n+=t(r.groups[i]);if(void 0!==r.rules)for(i=0;i<r.rules.length;i++)n.length>1&&("OR"===r.groupOp?n+=" || ":n+=" && "),n+=e(r.rules[i]);return n+=")","()"===n?"":n}var r=this;return t(i.filter)},this.reDraw(),i.showQuery&&this.onchange(),this.filter=!0}}})},$.extend($.fn.jqFilter,{toSQLString:function(){var e="";return this.each(function(){e=this.toUserFriendlyString()}),e},filterData:function(){var e;return this.each(function(){e=this.p.filter}),e},getParameter:function(e){return void 0!==e&&this.p.hasOwnProperty(e)?this.p[e]:this.p},resetFilter:function(){return this.each(function(){this.resetFilter()})},addFilter:function(e){"string"==typeof e&&(e=$.parseJSON(e)),this.each(function(){this.p.filter=e,this.reDraw(),this.onchange()})}});var xmlJsonClass={xml2json:function(e,t){9===e.nodeType&&(e=e.documentElement);var r=this.removeWhite(e),i=this.toObj(r),n=this.toJson(i,e.nodeName,"\t");return"{\n"+t+(t?n.replace(/\t/g,t):n.replace(/\t|\n/g,""))+"\n}"},json2xml:function(e,t){var r,i=function(e,t,r){var n,a,o,l,s,d="";if(e instanceof Array)if(0===e.length)d+=r+"<"+t+">__EMPTY_ARRAY_</"+t+">\n";else for(n=0,a=e.length;n<a;n+=1)o=r+i(e[n],t,r+"\t")+"\n",d+=o;else if("object"==typeof e){l=!1,d+=r+"<"+t;for(s in e)e.hasOwnProperty(s)&&("@"===s.charAt(0)?d+=" "+s.substr(1)+'="'+e[s].toString()+'"':l=!0);if(d+=l?">":"/>",l){for(s in e)e.hasOwnProperty(s)&&("#text"===s?d+=e[s]:"#cdata"===s?d+="<![CDATA["+e[s]+"]]>":"@"!==s.charAt(0)&&(d+=i(e[s],s,r+"\t")));d+=("\n"===d.charAt(d.length-1)?r:"")+"</"+t+">"}}else"function"==typeof e?d+=r+"<"+t+"><![CDATA["+e+"]]></"+t+">":(void 0===e&&(e=""),'""'===e.toString()||0===e.toString().length?d+=r+"<"+t+">__EMPTY_STRING_</"+t+">":d+=r+"<"+t+">"+e.toString()+"</"+t+">");return d},n="";for(r in e)e.hasOwnProperty(r)&&(n+=i(e[r],r,""));return t?n.replace(/\t/g,t):n.replace(/\t|\n/g,"")},toObj:function(e){var t,r,i={},n=/function/i,a=0,o=0,l=!1;if(1===e.nodeType){if(e.attributes.length)for(t=0;t<e.attributes.length;t+=1)i["@"+e.attributes[t].nodeName]=(e.attributes[t].nodeValue||"").toString();if(e.firstChild){for(r=e.firstChild;r;r=r.nextSibling)1===r.nodeType?l=!0:3===r.nodeType&&r.nodeValue.match(/[^ \f\n\r\t\v]/)?a+=1:4===r.nodeType&&(o+=1);if(l)if(a<2&&o<2)for(this.removeWhite(e),r=e.firstChild;r;r=r.nextSibling)3===r.nodeType?i["#text"]=this.escape(r.nodeValue):4===r.nodeType?n.test(r.nodeValue)?i[r.nodeName]=[i[r.nodeName],r.nodeValue]:i["#cdata"]=this.escape(r.nodeValue):i[r.nodeName]?i[r.nodeName]instanceof Array?i[r.nodeName][i[r.nodeName].length]=this.toObj(r):i[r.nodeName]=[i[r.nodeName],this.toObj(r)]:i[r.nodeName]=this.toObj(r);else e.attributes.length?i["#text"]=this.escape(this.innerXml(e)):i=this.escape(this.innerXml(e));else if(a)e.attributes.length?i["#text"]=this.escape(this.innerXml(e)):(i=this.escape(this.innerXml(e)),"__EMPTY_ARRAY_"===i?i="[]":"__EMPTY_STRING_"===i&&(i=""));else if(o)if(o>1)i=this.escape(this.innerXml(e));else for(r=e.firstChild;r;r=r.nextSibling){if(n.test(e.firstChild.nodeValue)){i=e.firstChild.nodeValue;break}i["#cdata"]=this.escape(r.nodeValue)}}e.attributes.length||e.firstChild||(i=null)}else 9===e.nodeType?i=this.toObj(e.documentElement):(null!=$.jgrid&&null!=$.jgrid.defaults&&$.isFunction($.jgrid.defaults.fatalError)?$.jgrid.defaults.fatalError:alert)("unhandled node type: "+e.nodeType);return i},toJson:function(e,t,r,i){void 0===i&&(i=!0);var n,a,o,l=t?'"'+t+'"':"",s="\t",d="\n",c=[],u=[];if(i||(s="",d=""),"[]"===e)l+=t?":[]":"[]";else if(e instanceof Array){for(a=0,n=e.length;a<n;a+=1)c[a]=this.toJson(e[a],"",r+s,i);l+=(t?":[":"[")+(c.length>1?d+r+s+c.join(","+d+r+s)+d+r:c.join(""))+"]"}else if(null===e)l+=(t&&":")+"null";else if("object"==typeof e){for(o in e)e.hasOwnProperty(o)&&(u[u.length]=this.toJson(e[o],o,r+s,i));l+=(t?":{":"{")+(u.length>1?d+r+s+u.join(","+d+r+s)+d+r:u.join(""))+"}"}else l+="string"==typeof e?(t&&":")+'"'+e.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"':(t&&":")+e.toString();return l},innerXml:function(e){var t,r="",i=function(e){var t,r,n="";if(1===e.nodeType){for(n+="<"+e.nodeName,t=0;t<e.attributes.length;t+=1)n+=" "+e.attributes[t].nodeName+'="'+(e.attributes[t].nodeValue||"").toString()+'"';if(e.firstChild){for(n+=">",r=e.firstChild;r;r=r.nextSibling)n+=i(r);n+="</"+e.nodeName+">"}else n+="/>"}else 3===e.nodeType?n+=e.nodeValue:4===e.nodeType&&(n+="<![CDATA["+e.nodeValue+"]]>");return n};if(e.hasOwnProperty("innerHTML"))r=e.innerHTML;else for(t=e.firstChild;t;t=t.nextSibling)r+=i(t);return r},escape:function(e){return e.replace(/[\\]/g,"\\\\").replace(/[\"]/g,'\\"').replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r")},removeWhite:function(e){e.normalize();for(var t,r=e.firstChild;r;)3===r.nodeType?r.nodeValue.match(/[^ \f\n\r\t\v]/)?r=r.nextSibling:(t=r.nextSibling,e.removeChild(r),r=t):1===r.nodeType?(this.removeWhite(r),r=r.nextSibling):r=r.nextSibling;return e}};window.xmlJsonClass=xmlJsonClass;var jgridFeedback=jgrid.feedback,fullBoolFeedback=jgrid.fullBoolFeedback,builderFmButon=jgrid.builderFmButon,addFormIcon=function(e,t,r){var i;!0===t[0]&&(i="<span class='"+mergeCssClasses("fm-button-icon",r,t[2])+"'></span>","right"===t[1]?e.addClass("fm-button-icon-right").append(i):e.addClass("fm-button-icon-left").prepend(i))},getGuiStateStyles=function(e){return getGuiStyles.call(this,"states."+e)},hideRowsWithoutVissibleCells=function(e){e.find("tr[data-rowpos]").each(function(){var e=0;$(this).children("td").each(function(){"hidden"!==$(this).css("visibility")&&e++}),e||$(this).hide()})},isEmptyString=function(e){return"&nbsp;"===e||"&#160;"===e||1===e.length&&160===e.charCodeAt(0)};jgrid.extend({searchGrid:function(e){return this.each(function(){function t(e){h("beforeShow",e)&&($(d).data("onClose",a.onClose),jgrid.viewModal.call(r,d,{gbox:c,jqm:a.jqModal,overlay:a.overlay,modal:a.modal,overlayClass:a.overlayClass,toTop:a.toTop,onHide:function(e){e.w.remove(),e.o&&e.o.remove()}}),h("afterShow",e))}var r=this,i=$(r),n=r.p;if(r.grid&&null!=n){var a=$.extend(!0,{drag:!0,sField:"searchField",sValue:"searchString",sOper:"searchOper",sFilter:"filters",loadDefaults:!0,beforeShowSearch:null,afterShowSearch:null,onInitializeSearch:null,afterRedraw:null,afterChange:null,closeAfterSearch:!1,closeAfterReset:!1,closeOnEscape:!1,searchOnEnter:!1,multipleSearch:!1,multipleGroup:!1,top:0,left:0,removemodal:!0,resize:!0,width:450,height:"auto",dataheight:"auto",showQuery:!1,errorcheck:!0,sopt:null,stringResult:void 0,onClose:null,onSearch:null,onReset:null,columns:[],tmplNames:null,tmplFilters:null,tmplLabel:" Template: ",showOnLoad:!1,layer:null,operands:{eq:"=",ne:"<>",lt:"<",le:"<=",gt:">",ge:">=",bw:"LIKE",bn:"NOT LIKE",in:"IN",ni:"NOT IN",ew:"LIKE",en:"NOT LIKE",cn:"LIKE",nc:"NOT LIKE",nu:"IS NULL",nn:"IS NOT NULL"}},base.getGridRes.call(i,"search"),jgrid.search||{},n.searching||{},e||{}),o="fbox_"+n.id,l=a.commonIconClass,s={themodal:"searchmod"+o,modalhead:"searchhd"+o,modalcontent:"searchcnt"+o,resizeAlso:o},d="#"+jqID(s.themodal),c=n.gBox,u=n.gView,p=$.each,f=n.postData[a.sFilter],h=function(){var e=$.makeArray(arguments);return e.unshift("Search"),e.unshift("Filter"),e.unshift(a),jgridFeedback.apply(r,e)},g=function(){jgrid.hideModal(d,{gb:c,jqm:a.jqModal,onClose:a.onClose,removemodal:a.removemodal})};if("string"==typeof f&&(f=""!==$.trim(f)?$.parseJSON(f):void 0),$(d).remove(),void 0!==$(d)[0])t($("#fbox_"+jqID(n.id)));else{var m=$("<div><div id='"+o+"' class='"+getGuiStyles.call(r,"dialog.body","searchFilter")+"' style='overflow:auto'></div></div>").insertBefore(u);"rtl"===n.direction&&m.attr("dir","rtl");var v,b,y="",w="",x=!1,C=-1,j=$.extend([],n.colModel),D=builderFmButon.call(r,o+"_search",a.Find,mergeCssClasses(l,a.findDialogIcon),"right"),S=builderFmButon.call(r,o+"_reset",a.Reset,mergeCssClasses(l,a.resetDialogIcon),"left");if(a.showQuery&&(y=builderFmButon.call(r,o+"_query","Query",mergeCssClasses(l,a.queryDialogIcon),"left")+"&#160;"),a.searchForAdditionalProperties&&p(n.additionalProperties,function(){var e="string"==typeof this?{name:this}:this;e.label||(e.label=e.name),e.isAddProp=!0,j.push(e)}),a.columns.length?(j=a.columns,C=0,v=j[0].index||j[0].name):p(j,function(e,t){if(t.label||(t.label=t.isAddProp?t.name:n.colNames[e]),!x){var r=void 0===t.search||t.search,i=!0===t.hidden;(t.searchoptions&&!0===t.searchoptions.searchhidden&&r||r&&!i)&&(x=!0,v=t.index||t.name,C=e)}}),!f&&v||!1===a.multipleSearch){var q="eq";C>=0&&j[C].searchoptions&&j[C].searchoptions.sopt?q=j[C].searchoptions.sopt[0]:a.sopt&&a.sopt.length&&(q=a.sopt[0]),f={groupOp:"AND",rules:[{field:v,op:q,data:""}]}}x=!1,a.tmplNames&&a.tmplNames.length&&(x=!0,w=a.tmplLabel,w+="<select class='ui-template'>",w+="<option value='default'>Default</option>",p(a.tmplNames,function(e,t){w+="<option value='"+e+"'>"+t+"</option>"}),w+="</select>"),b="<div class='"+getGuiStyles.call(r,"dialog.footer")+"'><table class='EditTable' style='border:0px none;margin-top:5px' id='"+o+"_2'><tbody><tr><td colspan='2'><hr class='"+getGuiStyles.call(r,"dialog.hr")+"' style='margin:1px'/></td></tr><tr><td class='EditButton EditButton-"+n.direction+"'  style='float:"+("rtl"===n.direction?"right":"left")+";'>"+S+w+"</td><td class='EditButton EditButton-"+n.direction+"'>"+y+D+"</td></tr></tbody></table></div>",o=jqID(o),a.gbox=c,a.height="auto",o="#"+o,$(o).jqFilter({columns:j,filter:a.loadDefaults?f:null,showQuery:a.showQuery,errorcheck:a.errorcheck,sopt:a.sopt,groupButton:a.multipleGroup,ruleButtons:a.multipleSearch,afterRedraw:a.afterRedraw,ops:a.odata,cops:n.customSortOperations,operands:a.operands,ajaxSelectOptions:n.ajaxSelectOptions,groupOps:a.groupOps,onChange:function(e,t){e.showQuery&&$(".query",t).text(t.toUserFriendlyString()),fullBoolFeedback.call(r,a.afterChange,"jqGridFilterAfterChange",$(o),a,e,t)},direction:n.direction,id:n.id}),m.append(b),x&&a.tmplFilters&&a.tmplFilters.length&&$(".ui-template",m).on("change",function(){var e=$(this).val();return"default"===e?$(o).jqFilter("addFilter",f):$(o).jqFilter("addFilter",a.tmplFilters[parseInt(e,10)]),!1}),!0===a.multipleGroup&&(a.multipleSearch=!0),h("onInitialize",$(o)),a.layer?jgrid.createModal.call(r,s,m,a,u,$(c)[0],"#"+jqID(a.layer),{position:"relative"}):jgrid.createModal.call(r,s,m,a,u,$(c)[0]),(a.searchOnEnter||a.closeOnEscape)&&$(d).keydown(function(e){var t=$(e.target);return!a.searchOnEnter||13!==e.which||t.hasClass("add-group")||t.hasClass("add-rule")||t.hasClass("delete-group")||t.hasClass("delete-rule")||t.hasClass("fm-button")&&t.is("[id$=_query]")?a.closeOnEscape&&27===e.which?($("#"+jqID(s.modalhead)).find(".ui-jqdialog-titlebar-close").click(),!1):void 0:($(o+"_search").click(),!1)}),y&&$(o+"_query").on("click",function(){return $(".queryresult",m).toggle(),!1}),void 0===a.stringResult&&(a.stringResult=a.multipleSearch),$(o+"_search").on("click",function(){var e,t={},l="",s=$(o),d=s.find(".input-elm");if(d.filter(":focus")&&(d=d.filter(":focus")),d.change(),e=s.jqFilter("filterData"),a.errorcheck&&(s[0].hideError(),a.showQuery||s.jqFilter("toSQLString"),s[0].p.error))return s[0].showError(),!1;if(a.stringResult||"local"===n.datatype){try{l=JSON.stringify(e)}catch(e){}"string"==typeof l&&(t[a.sFilter]=l,p([a.sField,a.sValue,a.sOper],function(){t[this]=""}))}else a.multipleSearch?(t[a.sFilter]=e,p([a.sField,a.sValue,a.sOper],function(){t[this]=""})):(t[a.sField]=e.rules[0].field,t[a.sValue]=e.rules[0].data,t[a.sOper]=e.rules[0].op,t[a.sFilter]="");return $.extend(n.postData,t),fullBoolFeedback.call(r,a.onSearch,"jqGridFilterSearch",n.filters)&&(n.search=!0,i.trigger("reloadGrid",[$.extend({page:1},a.reloadGridSearchOptions||{})])),a.closeAfterSearch&&g(),!1}),$(o+"_reset").on("click",function(){var e={},t=$(o);return n.search=!1,n.resetsearch=!0,!1===a.multipleSearch?e[a.sField]=e[a.sValue]=e[a.sOper]="":e[a.sFilter]="",t[0].resetFilter(),x&&$(".ui-template",m).val("default"),$.extend(n.postData,e),fullBoolFeedback.call(r,a.onReset,"jqGridFilterReset")&&i.trigger("reloadGrid",[$.extend({page:1},a.reloadGridResetOptions||{})]),a.closeAfterReset&&g(),!1}),t($(o));var _=getGuiStateStyles.call(r,"hover");$(".fm-button:not(."+getGuiStateStyles.call(r,"disabled").split(" ").join(".")+")",m).hover(function(){$(this).addClass(_)},function(){$(this).removeClass(_)})}}})},editGridRow:function(e,t){return this.each(function(){function r(){return $(j+" > tbody > tr > td .FormElement").each(function(){var e,t,r,i,n,a,o=$(".customelement",this),l=this.name;if(o.length){if(l=o.attr("name"),void 0!==(t=R[l])&&(e=F[t],r=e.editoptions||{},$.isFunction(r.custom_value))){try{if(f[l]=r.custom_value.call(c,$("#"+jqID(l),j),"get"),void 0===f[l])throw"e1"}catch(e){"e1"===e?jgrid.info_dialog.call(c,G,"function 'custom_value' "+y.msg.novalue,y.bClose):jgrid.info_dialog.call(c,G,e.message,y.bClose)}return!0}}else switch(a=$(this)[0].type){case"checkbox":f[l]=$(this).is(":checked")?$(this).val():$(this).data("offval");break;case"select-one":f[l]=$("option:selected",this).val();break;case"select-multiple":f[l]=$(this).val(),f[l]=f[l]?f[l].join(","):"";var s=[];$("option:selected",this).each(function(e,t){s[e]=$(t).text()});break;case"date":f[l]=$(this).val(),3===String(f[l]).split("-").length&&void 0!==(t=R[l])&&(e=F[t],i=e.formatoptions||{},n=i.newformat||v.call(u,"formatter.date.newformat"),f[l]=jgrid.parseDate.call(u[0],"Y-m-d",f[l],n));break;default:void 0!==a&&$.inArray(a,y.skipPostTypes)<0&&(f[l]=$(this).val())}}),!0}function i(e,t){var r,i,n,a,o,l=0;(y.checkOnSubmit||y.checkOnUpdate)&&(y._savedData={},y._savedData[m+"_id"]=e);var s=p.colModel;if("_empty"===e)return $(s).each(function(){r=this.name,n=$.extend({},this.editoptions||{}),(i=$("#"+jqID(r),t))&&i.length&&null!==i[0]&&(a="","custom"===this.edittype&&$.isFunction(n.custom_value)?n.custom_value.call(c,i,"set",a):n.defaultValue?(a=$.isFunction(n.defaultValue)?n.defaultValue.call(c):n.defaultValue,"checkbox"===i[0].type?(o=a.toLowerCase(),o.search(/(false|f|0|no|n|off|undefined)/i)<0&&""!==o?(i[0].checked=!0,i[0].defaultChecked=!0,i[0].value=a):(i[0].checked=!1,i[0].defaultChecked=!1)):i.val(a)):"checkbox"===i[0].type?(i[0].checked=!1,i[0].defaultChecked=!1,a=$(i).data("offval")):i[0].type&&"select"===i[0].type.substr(0,6)?i[0].selectedIndex=0:i.val(a),(!0===y.checkOnSubmit||y.checkOnUpdate)&&(y._savedData[r]=a))}),void $("#id_g",t).val(e);var d=base.getInd.call(u,e,!0);d&&($(d.cells).filter("td[role=gridcell]").each(function(i){var n;if("cb"!==(r=s[i].name)&&"subgrid"!==r&&"rn"!==r&&!0===s[i].editable){try{n=$.unformat.call(c,$(this),{rowId:e,colModel:s[i]},i)}catch(e){n="textarea"===s[i].edittype?$(this).text():$(this).html()}switch(p.autoEncodeOnEdit&&(n=jgrid.oldDecodePostedData(n)),(!0===y.checkOnSubmit||y.checkOnUpdate)&&(y._savedData[r]=n),r="#"+jqID(r),s[i].edittype){case"password":case"text":case"button":case"image":case"textarea":isEmptyString(n)&&(n=""),$(r,t).val(n);break;case"select":var a=n.split(",");a=$.map(a,function(e){return $.trim(e)}),$(r+" option",t).each(function(){var e=this,t=$(e),r=$.trim(t.val()),o=$.trim(t.text());s[i].editoptions.multiple||$.trim(n)!==o&&a[0]!==o&&a[0]!==r?s[i].editoptions.multiple&&($.inArray(o,a)>-1||$.inArray(r,a)>-1)?e.selected=!0:e.selected=!1:e.selected=!0});break;case"checkbox":n=String(n),s[i].editoptions&&s[i].editoptions.value?n=s[i].editoptions.value.split(":")[0]===n:(n=n.toLowerCase(),n=n.search(/(false|f|0|no|n|off|undefined)/i)<0&&""!==n),$(r,t).prop({checked:n,defaultChecked:n});break;case"custom":try{if(!s[i].editoptions||!$.isFunction(s[i].editoptions.custom_value))throw"e1";s[i].editoptions.custom_value.call(c,$(r,t),"set",n)}catch(e){"e1"===e?jgrid.info_dialog.call(c,G,"function 'custom_value' "+y.msg.nodefined,y.bClose):jgrid.info_dialog.call(c,G,e.message,y.bClose)}}l++}}),l>0&&$("#id_g",j).val(e))}function n(){var e=y.url||p.editurl;$.each(F,function(t,r){var i=r.name,n=f[i];"date"!==r.formatter||null!=r.formatoptions&&!0===r.formatoptions.sendFormatted||(f[i]=$.unformat.date.call(c,n,r)),"clientArray"!==e&&r.editoptions&&!0===r.editoptions.NullIfEmpty&&f.hasOwnProperty(i)&&""===n&&(f[i]="null")})}function a(){var t,r,a,o,l,s,d,h,v=[!0,"",""],x=v,C={},S=p.prmNames,q=base.getInd.call(u,e),_=!1===q?null:c.rows[q],R=u.triggerHandler("jqGridAddEditBeforeCheckValues",[f,$(w),g]);R&&"object"==typeof R&&(f=R),q=!1===q?-1:q,$.isFunction(y.beforeCheckValues)&&(R=y.beforeCheckValues.call(c,f,$(w),g))&&"object"==typeof R&&(f=R);for(a in f)if(f.hasOwnProperty(a)&&(h=p.iColByName[a],x=jgrid.checkValues.call(c,f[a],a,void 0,void 0,{oldValue:"_empty"===e?null:base.getCell.call(u,e,h),newValue:f[a],cmName:a,rowid:e,cm:F[h],iCol:h,iRow:q,tr:_,td:null==_?null:_.cells[h],mode:"_empty"===e?"addForm":"editForm"}),null!=x&&!0!==x||(x=v),!1===x[0]))break;if(n(),x[0]&&(C=u.triggerHandler("jqGridAddEditClickSubmit",[y,f,g]),void 0===C&&$.isFunction(y.onclickSubmit)&&(C=y.onclickSubmit.call(c,y,f,g)||{}),x=u.triggerHandler("jqGridAddEditBeforeSubmit",[f,$(w),g]),null!=x&&!0!==x||(x=v),x[0]&&$.isFunction(y.beforeSubmit)&&(null!=(x=y.beforeSubmit.call(c,f,$(w),g))&&!0!==x||(x=v))),x[0]&&!y.processing){if(y.processing=!0,$("#sData",D).addClass(B),s=y.url||p.editurl,r=S.oper,t="clientArray"===s&&!1!==p.keyName?p.keyName:S.id,f[r]="_empty"===$.trim(f[m+"_id"])?S.addoper:S.editoper,f[r]!==S.addoper?f[t]=f[m+"_id"]:void 0===f[t]&&(f[t]=f[m+"_id"]),delete f[m+"_id"],f=$.extend(f,y.editData,C),!0===p.treeGrid){if(f[r]===S.addoper){o=p.selrow;var k="adjacency"===p.treeGridModel?p.treeReader.parent_id_field:"parent_id";f[k]=o}for(l in p.treeReader)if(p.treeReader.hasOwnProperty(l)&&(d=p.treeReader[l],f.hasOwnProperty(d))){if(f[r]===S.addoper&&"parent_id_field"===l)continue;delete f[d]}}f[t]=jgrid.stripPref(p.idPrefix,f[t]),p.autoEncodeOnEdit&&$.each(f,function(e,t){$.isFunction(t)||(f[e]=jgrid.oldEncodePostedData(t))});var O=$.extend({url:$.isFunction(s)?s.call(c,f[t],g,f,y):s,type:$.isFunction(y.mtype)?y.mtype.call(c,g,y,f[t],f):y.mtype,data:jgrid.serializeFeedback.call(c,$.isFunction(y.serializeEditData)?y.serializeEditData:p.serializeEditData,"jqGridAddEditSerializeEditData",f),complete:function(e,n){if(u.jqGrid("progressBar",{method:"hide",loadtype:y.saveui}),$("#sData",D).removeClass(B),f[t]=$("#id_g",j).val(),e.status>=300&&304!==e.status||0===e.status&&4===e.readyState?(x[0]=!1,x[1]=u.triggerHandler("jqGridAddEditErrorTextFormat",[e,g]),$.isFunction(y.errorTextFormat)?x[1]=y.errorTextFormat.call(c,e,g):x[1]=n+" Status: '"+e.statusText+"'. Error code: "+e.status):(x=u.triggerHandler("jqGridAddEditAfterSubmit",[e,f,g]),null!=x&&!0!==x||(x=v),x[0]&&$.isFunction(y.afterSubmit)&&(null!=(x=y.afterSubmit.call(c,e,f,g))&&!0!==x||(x=v))),!1===x[0])$("#FormError>td",j).html(x[1]),$("#FormError",j).show();else{p.autoEncodeOnEdit&&$.each(f,function(e,t){f[e]=jgrid.oldDecodePostedData(t)});var a=[$.extend({},y.reloadGridOptions||{})];if(f[r]===S.addoper?(x[2]||(x[2]=jgrid.randId()),null==f[t]||"_empty"===f[t]||f[r]===S.addoper?f[t]=x[2]:x[2]=f[t],y.reloadAfterSubmit?u.trigger("reloadGrid",a):!0===p.treeGrid?base.addChildNode.call(u,x[2],o,f):base.addRowData.call(u,x[2],f,y.addedrow),y.closeAfterAdd?(!0!==p.treeGrid&&b.call(u,x[2]),N()):y.clearAfterAdd&&i("_empty",w)):(y.reloadAfterSubmit?(u.trigger("reloadGrid",a),y.closeAfterEdit||setTimeout(function(){b.call(u,f[t])},1e3)):!0===p.treeGrid?base.setTreeRow.call(u,f[t],f):base.setRowData.call(u,f[t],f),y.closeAfterEdit&&N()),$.isFunction(y.afterComplete)){var l=e;setTimeout(function(){u.triggerHandler("jqGridAddEditAfterComplete",[l,f,$(w),g]),y.afterComplete.call(c,l,f,$(w),g),l=null},50)}if((y.checkOnSubmit||y.checkOnUpdate)&&($(w).data("disabled",!1),"_empty"!==y._savedData[m+"_id"])){var s;for(s in y._savedData)y._savedData.hasOwnProperty(s)&&f[s]&&(y._savedData[s]=f[s])}}y.processing=!1;try{$(":input:visible",w).focus()}catch(e){}}},jgrid.ajaxOptions,y.ajaxEditOptions);if(O.url||y.useDataProxy||($.isFunction(p.dataProxy)?y.useDataProxy=!0:(x[0]=!1,x[1]+=" "+jgrid.errors.nourl)),x[0])if(u.jqGrid("progressBar",{method:"show",loadtype:y.saveui,htmlcontent:y.savetext}),y.useDataProxy){var I=p.dataProxy.call(c,O,"set_"+m);void 0===I&&(I=[!0,""]),!1===I[0]?(x[0]=!1,x[1]=I[1]||"Error deleting the selected row!"):(O.data.oper===S.addoper&&y.closeAfterAdd&&N(),O.data.oper===S.editoper&&y.closeAfterEdit&&N())}else"clientArray"===O.url?(y.reloadAfterSubmit=!1,f=O.data,O.complete({status:200,statusText:""},"")):$.ajax(O)}!1===x[0]&&($("#FormError>td",j).html(x[1]),$("#FormError",j).show())}function o(e,t){var r,i=!1;for(r in e)if(e.hasOwnProperty(r)&&String(e[r])!==String(t[r])){i=!0;break}return i}function l(){var e=!0;return $("#FormError",j).hide(),y.checkOnUpdate&&(f={},r(),(h=o(f,y._savedData))&&($(w).data("disabled",!0),$(".confirm",q).show(),e=!1)),e}function s(e,t){var r=t[1].length-1;0===e?$("#pData",D).addClass(A):void 0!==t[1][e-1]&&hasOneFromClasses($("#"+jqID(t[1][e-1])),A)?$("#pData",D).addClass(A):$("#pData",D).removeClass(A),e===r?$("#nData",D).addClass(A):void 0!==t[1][e+1]&&hasOneFromClasses($("#"+jqID(t[1][e+1])),A)?$("#nData",D).addClass(A):$("#nData",D).removeClass(A)}function d(){var e=base.getDataIDs.call(u),t=$("#id_g",j).val();return[$.inArray(t,e),e]}var c=this,u=$(c),p=c.p;if(c.grid&&null!=p&&e){var f,h,g,m=p.id,v=base.getGridRes,b=base.setSelection,y=$.extend(!0,{top:0,left:0,width:300,datawidth:"auto",height:"auto",dataheight:"auto",drag:!0,resize:!0,url:null,mtype:"POST",clearAfterAdd:!0,closeAfterEdit:!1,reloadAfterSubmit:!0,onInitializeForm:null,beforeInitData:null,beforeShowForm:null,afterShowForm:null,beforeSubmit:null,afterSubmit:null,onclickSubmit:null,afterComplete:null,onclickPgButtons:null,afterclickPgButtons:null,editData:{},closeOnEscape:!1,addedrow:"first",topinfo:"",bottominfo:"",savekey:[!1,13],navkeys:[!1,38,40],checkOnSubmit:!1,checkOnUpdate:!1,_savedData:{},processing:!1,onClose:null,ajaxEditOptions:{},serializeEditData:null,viewPagerButtons:!0,overlayClass:getGuiStyles.call(this,"overlay"),removemodal:!0,skipPostTypes:["image","file"],saveui:"enable",savetext:v.call(u,"defaults.savetext")||"Saving..."},v.call(u,"edit"),jgrid.edit,p.formEditing||{},t||{}),w="FrmGrid_"+m,x=w,C="TblGrid_"+m,j="#"+jqID(C),D=j+"_2",S={themodal:"editmod"+m,modalhead:"edithd"+m,modalcontent:"editcnt"+m,resizeAlso:w},q="#"+jqID(S.themodal),_=p.gBox,F=p.colModel,R=p.iColByName,k=1,O=0,I=y.commonIconClass,N=function(){jgrid.hideModal(q,{gb:_,jqm:y.jqModal,onClose:y.onClose,removemodal:y.removemodal})},G=v.call(u,"errors.errcap"),E=function(){var e=$.makeArray(arguments);return e.unshift(""),e.unshift("AddEdit"),e.unshift(y),jgridFeedback.apply(c,e)},T=getGuiStateStyles.call(c,"hover"),A=getGuiStateStyles.call(c,"disabled"),M=getGuiStateStyles.call(c,"select"),B=getGuiStateStyles.call(c,"active"),P=getGuiStateStyles.call(c,"error");$(q).remove(),w="#"+jqID(w),"new"===e?(e="_empty",g="add",y.caption=y.addCaption):(y.caption=y.editCaption,g="edit");var L=!0;!y.checkOnUpdate||!0!==y.jqModal&&void 0!==y.jqModal||y.modal||(L=!1);var z=isNaN(y.dataheight)?y.dataheight:y.dataheight+"px",H=isNaN(y.datawidth)?y.datawidth:y.datawidth+"px",V=$("<form name='FormPost' id='"+x+"' class='FormGrid' onSubmit='return false;' style='width:"+H+";overflow:auto;position:relative;height:"+z+";'></form>").data("disabled",!1),W=$("<table id='"+C+"' class='EditTable'><tbody></tbody></table>");$(F).each(function(){var e=this.formoptions;k=Math.max(k,e?e.colpos||0:0),O=Math.max(O,e?e.rowpos||0:0)}),$(V).append(W);var U=$("<tr id='FormError' style='display:none'><td class='"+P+"' colspan='"+2*k+"'>&#160;</td></tr>");if(U[0].rp=0,$(W).append(U),U=$("<tr style='display:none' class='tinfo'><td class='topinfo' colspan='"+2*k+"'>"+(y.topinfo||"&#160;")+"</td></tr>"),U[0].rp=0,$(W).append(U),E("beforeInitData",V,g)){!function(){var t=jgrid.detectRowEditing.call(c,e);if(null!=t)if("inlineEditing"===t.mode)base.restoreRow.call(u,e);else{var r=t.savedRow,i=c.rows[r.id];base.restoreCell.call(u,r.id,r.ic),$(i.cells[r.ic]).removeClass("edit-cell "+M),$(i).addClass(M).attr({"aria-selected":"true",tabindex:"0"})}}();var Y="rtl"===p.direction,X=Y?"nData":"pData",Q=Y?"pData":"nData";!function(e,t,r){var i,n=0,a=[],o=!1,l=$(t),s="";for(i=1;i<=r;i++)s+="<td class='CaptionTD'>&#160;</td><td class='DataTD'>&#160;</td>";if("_empty"!==e&&(o=base.getInd.call(u,e)),$(F).each(function(t){var i,d,u,f,h,g=this,m=g.name,v=g.editable,b=!1,x=!1,C="_empty"===e?"addForm":"editForm";switch($.isFunction(v)&&(v=v.call(c,{rowid:e,iCol:t,iRow:o,cmName:m,cm:g,mode:C})),d=!(g.editrules&&!0===g.editrules.edithidden||!0!==g.hidden&&"hidden"!==v),String(v).toLowerCase()){case"hidden":v=!0;break;case"disabled":v=!0,b=!0;break;case"readonly":v=!0,x=!0}if("cb"!==m&&"subgrid"!==m&&!0===v&&"rn"!==m){if(!1===o)f="";else{i=$(c.rows[o].cells[t]);try{f=$.unformat.call(c,i,{rowId:e,colModel:g},t)}catch(e){f=g.edittype&&"textarea"===g.edittype?i.text():i.html()}isEmptyString(f)&&(f="")}var j=$.extend({},g.editoptions||{},{id:m,name:m,rowId:e,mode:C,cm:g,iCol:t}),D=$.extend({},{elmprefix:"",elmsuffix:"",rowabove:!1,rowcontent:""},g.formoptions||{}),S=parseInt(D.rowpos,10)||n+1,q=parseInt(2*(parseInt(D.colpos,10)||1),10);if("_empty"===e&&j.defaultValue&&(f=$.isFunction(j.defaultValue)?j.defaultValue.call(c):j.defaultValue),g.edittype||(g.edittype="text"),p.autoEncodeOnEdit&&(f=jgrid.oldDecodePostedData(f)),h=jgrid.createEl.call(c,g.edittype,j,f,!1,$.extend({},jgrid.ajaxOptions,p.ajaxSelectOptions||{})),(y.checkOnSubmit||y.checkOnUpdate)&&(y._savedData[m]=f),$(h).addClass("FormElement"),$.inArray(g.edittype,["text","textarea","checkbox","password","select"])>-1&&$(h).addClass(getGuiStyles.call(c,"dialog.dataField")),u=l.find("tr[data-rowpos="+S+"]"),D.rowabove){var _=$("<tr><td class='contentinfo' colspan='"+2*r+"'>"+D.rowcontent+"</td></tr>");l.append(_),_[0].rp=S}0===u.length&&(u=$("<tr data-rowpos='"+S+"'></tr>").addClass("FormData").attr("id","tr_"+m),$(u).append(s),l.append(u),u[0].rp=S);var F=$("td:eq("+(q-2)+")",u[0]),R=$("td:eq("+(q-1)+")",u[0]);F.html(void 0===D.label?p.colNames[t]:D.label||"&#160;"),R[isEmptyString(R.html())?"html":"append"](D.elmprefix).append(h).append(D.elmsuffix),b?(F.addClass(A),R.addClass(A),$(h).prop("readonly",!0),$(h).prop("disabled",!0)):x&&$(h).prop("readonly",!0),"custom"===g.edittype&&$.isFunction(j.custom_value)&&j.custom_value.call(c,$("#"+jqID(m),w),"set",f),jgrid.bindEv.call(c,h,j),d&&F.add(R).css("visibility","hidden"),a[n]=t,n++}}),hideRowsWithoutVissibleCells(l),n>0){var d=$("<tr class='FormData' style='display:none'><td class='CaptionTD'>&#160;</td><td colspan='"+(2*r-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='"+m+"_id' value='"+e+"'/></td></tr>");d[0].rp=n+999,l.append(d),(y.checkOnSubmit||y.checkOnUpdate)&&(y._savedData[m+"_id"]=e)}}(e,W,k);var J=builderFmButon.call(c,X,"",mergeCssClasses(I,y.prevIcon),"","left"),K=builderFmButon.call(c,Q,"",mergeCssClasses(I,y.nextIcon),"","right"),Z=builderFmButon.call(c,"sData",y.bSubmit),ee=builderFmButon.call(c,"cData",y.bCancel),te="<div class='"+getGuiStyles.call(c,"dialog.footer")+"'><table class='EditTable' id='"+C+"_2'><tbody><tr><td colspan='2'><hr class='"+getGuiStyles.call(c,"dialog.hr")+"' style='margin:1px'/></td></tr><tr id='Act_Buttons'><td class='navButton navButton-"+p.direction+"'>"+(Y?K+J:J+K)+"</td><td class='EditButton EditButton-"+p.direction+"'>"+Z+"&#160;"+ee+"</td></tr>";if(te+="<tr style='display:none' class='binfo'><td class='bottominfo' colspan='2'>"+(y.bottominfo||"&#160;")+"</td></tr>",te+="</tbody></table></div>",O>0){var re=[];$.each($(W)[0].rows,function(e,t){re[e]=t}),re.sort(function(e,t){return e.rp>t.rp?1:e.rp<t.rp?-1:0}),$.each(re,function(e,t){$("tbody",W).append(t)})}y.gbox=_;var ie=!1;!0===y.closeOnEscape&&(y.closeOnEscape=!1,ie=!0);var ne=$("<div></div>").append($("<div class='"+getGuiStyles.call(c,"dialog.body")+"'></div>").append(V)).append(te);if(jgrid.createModal.call(c,S,ne,y,p.gView,$(_)[0]),y.topinfo&&$(".tinfo",j).show(),y.bottominfo&&$(".binfo",D).show(),ne=null,te=null,$(q).keydown(function(e){var t,r,i=(e.target.tagName||"").toUpperCase();if(!0===$(w).data("disabled"))return!1;if(13===e.which&&"TEXTAREA"!==i){if(t=$(D).find(":focus"),r=t.attr("id"),t.length>0&&$.inArray(r,["pData","nData","cData"])>=0)return t.trigger("click"),!1;if(!0===y.savekey[0]&&13===y.savekey[1])return $("#sData",D).trigger("click"),!1}if(!0===y.savekey[0]&&e.which===y.savekey[1]&&"TEXTAREA"!==i)return $("#sData",D).trigger("click"),!1;if(27===e.which)return!!l()&&(ie&&N(),!1);if(!0===y.navkeys[0]){if("_empty"===$("#id_g",j).val())return!0;if(e.which===y.navkeys[1])return $("#pData",D).trigger("click"),!1;if(e.which===y.navkeys[2])return $("#nData",D).trigger("click"),!1}}),y.checkOnUpdate&&($("a.ui-jqdialog-titlebar-close span",q).removeClass("jqmClose"),$("a.ui-jqdialog-titlebar-close",q).off("click").click(function(){return!!l()&&(N(),!1)})),addFormIcon($("#sData",D),y.saveicon,I),addFormIcon($("#cData",D),y.closeicon,I),y.checkOnSubmit||y.checkOnUpdate){Z=builderFmButon.call(c,"sNew",y.bYes),K=builderFmButon.call(c,"nNew",y.bNo),ee=builderFmButon.call(c,"cNew",y.bExit);var ae=y.zIndex||999;ae++,$("<div class='"+y.overlayClass+" jqgrid-overlay confirm' style='z-index:"+ae+";display:none;'>&#160;</div><div class='"+getGuiStyles.call(c,"dialog.content","confirm ui-jqconfirm")+"' style='z-index:"+(ae+1)+"'>"+y.saveData+"<br/><br/>"+Z+K+ee+"</div>").insertAfter(w),$("#sNew",q).click(function(){return a(),$(w).data("disabled",!1),$(".confirm",q).hide(),!1}),$("#nNew",q).click(function(){return $(".confirm",q).hide(),$(w).data("disabled",!1),setTimeout(function(){$(":input:visible",w).focus()},0),!1}),$("#cNew",q).click(function(){return $(".confirm",q).hide(),$(w).data("disabled",!1),N(),!1})}E("onInitializeForm",$(w),g),"_empty"!==e&&y.viewPagerButtons?$("#pData,#nData",D).show():$("#pData,#nData",D).hide(),E("beforeShowForm",$(w),g),$(q).data("onClose",y.onClose),jgrid.viewModal.call(c,q,{gbox:_,jqm:y.jqModal,overlay:y.overlay,modal:y.modal,overlayClass:y.overlayClass,toTop:y.toTop,onHide:function(e){e.w.remove(),e.o&&e.o.remove()}}),L||$("."+jqID(y.overlayClass)).click(function(){return!!l()&&(N(),!1)}),$(".fm-button",q).hover(function(){$(this).addClass(T)},function(){$(this).removeClass(T)}),$("#sData",D).click(function(){return f={},$("#FormError",j).hide(),r(),"_empty"===f[m+"_id"]?a():!0===y.checkOnSubmit?(h=o(f,y._savedData),h?($(w).data("disabled",!0),$(".confirm",q).show()):a()):a(),!1}),$("#cData",D).click(function(){return!!l()&&(N(),!1)}),$("#nData",D).click(function(){if(!l())return!1;$("#FormError",j).hide();var e=d();if(e[0]=parseInt(e[0],10),-1!==e[0]&&e[1][e[0]+1]){if(!E("onclickPgButtons","next",$(w),e[1][e[0]]))return!1;i(e[1][e[0]+1],w),b.call(u,e[1][e[0]+1]),E("afterclickPgButtons","next",$(w),e[1][e[0]+1]),s(e[0]+1,e)}return!1}),$("#pData",D).click(function(){if(!l())return!1;$("#FormError",j).hide();var e=d();if(-1!==e[0]&&e[1][e[0]-1]){if(!E("onclickPgButtons","prev",$(w),e[1][e[0]]))return!1;if(hasOneFromClasses($("#"+jqID(e[1][e[0]-1])),A))return!1;i(e[1][e[0]-1],w),b.call(u,e[1][e[0]-1]),E("afterclickPgButtons","prev",$(w),e[1][e[0]-1]),s(e[0]-1,e)}return!1}),E("afterShowForm",$(w),g);var oe=d();s(oe[0],oe)}}})},viewGridRow:function(e,t){return this.each(function(){function r(){!0!==c.closeOnEscape&&!0!==c.navkeys[0]||setTimeout(function(){$("#cData").focus()},0)}function i(e){var t,r,i=0,n=base.getInd.call(l,e,!0);n&&($("td",n).each(function(e){r=w[e],"cb"!==(t=r.name)&&"subgrid"!==t&&"rn"!==t&&(t=jqID("v_"+t),$("#"+t+" span",p).html(jgrid.getDataFieldOfCell.call(o,n,e).html()),i++)}),i>0&&$("#id_g",p).val(e))}function n(e,t){var r=t[1].length-1;0===e?$("#pData",f).addClass(q):void 0!==t[1][e-1]&&hasOneFromClasses($("#"+jqID(t[1][e-1])),q)?$("#pData",f).addClass(q):$("#pData",f).removeClass(q),e===r?$("#nData",f).addClass(q):void 0!==t[1][e+1]&&hasOneFromClasses($("#"+jqID(t[1][e+1])),q)?$("#nData",f).addClass(q):$("#nData",f).removeClass(q)}function a(){var e=base.getDataIDs.call(l),t=$("#id_g",p).val();return[$.inArray(t,e),e]}var o=this,l=$(o),s=o.p;if(o.grid&&null!=s&&e){var d=s.id,c=$.extend(!0,{top:0,left:0,width:0,datawidth:"auto",height:"auto",dataheight:"auto",drag:!0,resize:!0,closeOnEscape:!1,labelswidth:"",navkeys:[!1,38,40],onClose:null,beforeShowForm:null,beforeInitData:null,viewPagerButtons:!0,removemodal:!0},base.getGridRes.call(l,"view"),jgrid.view||{},s.formViewing||{},t||{}),u="#ViewGrid_"+jqID(d),p="#ViewTbl_"+jqID(d),f=p+"_2",h="ViewGrid_"+d,g="ViewTbl_"+d,m=c.commonIconClass,v={themodal:"viewmod"+d,modalhead:"viewhd"+d,modalcontent:"viewcnt"+d,resizeAlso:h},b="#"+jqID(v.themodal),y=s.gBox,w=s.colModel,x=1,C=0,j=function(){var e=$.makeArray(arguments);return e.unshift(""),e.unshift("View"),e.unshift(c),jgridFeedback.apply(o,e)},D=function(){jgrid.hideModal(b,{gb:y,jqm:c.jqModal,onClose:c.onClose,removemodal:c.removemodal})},S=getGuiStateStyles.call(o,"hover"),q=getGuiStateStyles.call(o,"disabled"),_=isNaN(c.dataheight)?c.dataheight:c.dataheight+"px",F=isNaN(c.datawidth)?c.datawidth:c.datawidth+"px",R=$("<div class='"+getGuiStyles.call(o,"dialog.body")+"'><form name='FormPost' id='"+h+"' class='FormGrid' style='width:"+F+";overflow:auto;position:relative;height:"+_+";'></form></div>"),k=R.children("form.FormGrid"),O=$("<table id='"+g+"' class='EditTable'><tbody></tbody></table>");if($(b).remove(),$(w).each(function(){var e=this.formoptions;x=Math.max(x,e?e.colpos||0:0),C=Math.max(C,e?e.rowpos||0:0)}),k.append(O),j("beforeInitData",k)){!function(e,t,r){var i,n,a,d,u,p,f,h,g=0,m=[],v=base.getInd.call(l,e),b=getGuiStyles.call(o,"dialog.viewData"),y=$(t),x=getGuiStyles.call(o,"dialog.viewLabel"),C=String(c.labelswidth)+(!c.labelswidth||isNaN(c.labelswidth)?"":"px"),j="<td class='"+getGuiStyles.call(o,"dialog.viewCellLabel","CaptionTD form-view-label")+(C?"' style='width:"+C+";":"")+"'>&#160;</td><td class='"+getGuiStyles.call(o,"dialog.viewCellData","DataTD form-view-data")+"'>&#160;</td>",D="",S=["integer","number","currency"],q=0,_=0;for(u=0;u<r;u++)D+=j;if($(w).each(function(){var e=this;(n=(!e.editrules||!0!==e.editrules.edithidden)&&!0===e.hidden)||"right"!==e.align||(e.formatter&&-1!==$.inArray(e.formatter,S)?q=Math.max(q,parseInt(e.width,10)):_=Math.max(_,parseInt(e.width,10)))}),p=0!==q?q:0!==_?_:0,$(w).each(function(e){var t=this;if(i=t.name,f=!1,n=(!t.editrules||!0!==t.editrules.edithidden)&&!0===t.hidden,h="boolean"!=typeof t.viewable||t.viewable,"cb"!==i&&"subgrid"!==i&&"rn"!==i&&h){d=!1===v?"":jgrid.getDataFieldOfCell.call(o,o.rows[v],e).html(),f="right"===t.align&&0!==p;var l=$.extend({},{rowabove:!1,rowcontent:""},t.formoptions||{}),c=parseInt(l.rowpos,10)||g+1,u=parseInt(2*(parseInt(l.colpos,10)||1),10);if(l.rowabove){var w=$("<tr><td class='contentinfo' colspan='"+2*r+"'>"+l.rowcontent+"</td></tr>");y.append(w),w[0].rp=c}a=y.find("tr[data-rowpos="+c+"]"),0===a.length&&(a=$("<tr data-rowpos='"+c+"'></tr>").addClass("FormData").attr("id","trv_"+i),a.append(D),y.append(a),a[0].rp=c);var C=void 0===l.label?s.colNames[e]:l.label,j=$("td:eq("+(u-1)+")",a[0]),S=$("td:eq("+(u-2)+")",a[0]);S.html("<label for='"+i+"'"+(x?" class='"+x+"'>":">")+(C||"&nbsp;")+"</label>"),j[isEmptyString(j.html())?"html":"append"]("<span id='"+i+"'"+(b?" class='"+b+"'>":">")+(d||"&nbsp;")+"</span>").attr("id","v_"+i),f&&$("td:eq("+(u-1)+") span",a[0]).css({"text-align":"right",width:p+"px"}),n&&S.add(j).css("visibility","hidden"),m[g]=e,g++}}),hideRowsWithoutVissibleCells(y),g>0){var F=$("<tr class='FormData' style='display:none'><td class='CaptionTD'>&#160;</td><td colspan='"+(2*r-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='id' value='"+e+"'/></td></tr>");F[0].rp=g+99,y.append(F)}}(e,O,x);var I="rtl"===s.direction,N=I?"nData":"pData",G=I?"pData":"nData",E=builderFmButon.call(o,N,"",mergeCssClasses(m,c.prevIcon),"","left"),T=builderFmButon.call(o,G,"",mergeCssClasses(m,c.nextIcon),"","right"),A=builderFmButon.call(o,"cData",c.bClose);if(C>0){var M=[];$.each($(O)[0].rows,function(e,t){M[e]=t}),M.sort(function(e,t){return e.rp>t.rp?1:e.rp<t.rp?-1:0}),$.each(M,function(e,t){$("tbody",O).append(t)})}c.gbox=y;var B=$("<div></div>").append(R).append("<div class='"+getGuiStyles.call(o,"dialog.footer")+"'><table border='0' class='EditTable' id='"+g+"_2'><tbody><tr id='Act_Buttons'><td class='navButton navButton-"+s.direction+"' width='"+(c.labelswidth||"auto")+"'>"+(I?T+E:E+T)+"</td><td class='EditButton EditButton-"+s.direction+"'>"+A+"</td></tr></tbody></table></div>");jgrid.createModal.call(o,v,B,c,s.gView,$(s.gView)[0]),c.viewPagerButtons||$("#pData, #nData",f).hide(),B=null,$(b).keydown(function(e){var t,r;if(!0===$(u).data("disabled"))return!1;if(13===e.which&&(t=$(f).find(":focus"),r=t.attr("id"),t.length>0&&$.inArray(r,["pData","nData","cData"])>=0))return t.trigger("click"),!1;if(27===e.which)return c.closeOnEscape&&D(),!1;if(!0===c.navkeys[0]){if(e.which===c.navkeys[1])return $("#pData",f).trigger("click"),!1;if(e.which===c.navkeys[2])return $("#nData",f).trigger("click"),!1}}),addFormIcon($("#cData",f),c.closeicon,m),j("beforeShowForm",$(u)),jgrid.viewModal.call(o,b,{gbox:y,jqm:c.jqModal,overlay:c.overlay,toTop:c.toTop,modal:c.modal,onHide:function(e){e.w.remove(),e.o&&e.o.remove()}}),$(".fm-button:not(."+q.split(" ").join(".")+")",f).hover(function(){$(this).addClass(S)},function(){$(this).removeClass(S)}),r(),$("#cData",f).click(function(){return D(),!1}),$("#nData",f).click(function(){$("#FormError",p).hide();var e=a();if(e[0]=parseInt(e[0],10),-1!==e[0]&&e[1][e[0]+1]){if(!j("onclickPgButtons","next",$(u),e[1][e[0]]))return!1;i(e[1][e[0]+1]),base.setSelection.call(l,e[1][e[0]+1]),j("afterclickPgButtons","next",$(u),e[1][e[0]+1]),n(e[0]+1,e)}return r(),!1}),$("#pData",f).click(function(){$("#FormError",p).hide();var e=a();if(-1!==e[0]&&e[1][e[0]-1]){if(!j("onclickPgButtons","prev",$(u),e[1][e[0]]))return!1;i(e[1][e[0]-1]),base.setSelection.call(l,e[1][e[0]-1]),j("afterclickPgButtons","prev",$(u),e[1][e[0]-1]),n(e[0]-1,e)}return r(),!1});var P=a();n(P[0],P)}}})},delGridRow:function(e,t){return this.each(function(){var r=this,i=r.p,n=$(r);if(r.grid&&null!=i&&e){var a,o,l,s,d=i.id,c=$.extend(!0,{top:0,left:0,width:240,removemodal:!0,height:"auto",dataheight:"auto",datawidth:"auto",drag:!0,resize:!0,url:"",mtype:"POST",reloadAfterSubmit:!0,beforeShowForm:null,beforeInitData:null,afterShowForm:null,beforeSubmit:null,onclickSubmit:null,afterSubmit:null,closeOnEscape:!1,delData:{},onClose:null,ajaxDelOptions:{},processing:!1,serializeDelData:null,useDataProxy:!1},base.getGridRes.call(n,"del"),jgrid.del||{},i.formDeleting||{},t||{}),u="DelTbl_"+d,p="#DelTbl_"+jqID(d),f={themodal:"delmod"+d,modalhead:"delhd"+d,modalcontent:"delcnt"+d,resizeAlso:u},h="#"+jqID(f.themodal),g=i.gBox,m=c.commonIconClass,v=function(){var e=$.makeArray(arguments);return e.unshift(""),e.unshift("Delete"),e.unshift(c),jgridFeedback.apply(r,e)},b=getGuiStateStyles.call(r,"hover"),y=getGuiStateStyles.call(r,"active"),w=getGuiStateStyles.call(r,"error");if($.isArray(e)||(e=[String(e)]),void 0!==$(h)[0]){if(!v("beforeInitData",$(p)))return;$("#DelData>td",p).text(e.join()).data("rowids",e),$("#DelError",p).hide(),!0===c.processing&&(c.processing=!1,$("#dData",p).removeClass(y)),v("beforeShowForm",$(p)),jgrid.viewModal.call(r,h,{gbox:g,jqm:c.jqModal,jqM:!1,overlay:c.overlay,toTop:c.toTop,modal:c.modal}),v("afterShowForm",$(p))}else{var x=isNaN(c.dataheight)?c.dataheight:c.dataheight+"px",C=isNaN(c.datawidth)?c.datawidth:c.datawidth+"px",j="<div class='"+getGuiStyles.call(r,"dialog.body")+"'><div id='"+u+"' class='formdata' style='width:"+C+";overflow:auto;position:relative;height:"+x+";'>";j+="<table class='DelTable'><tbody>",j+="<tr id='DelError' style='display:none'><td class='"+w+"'></td></tr>",j+="<tr id='DelData' style='display:none'><td >"+e.join()+"</td></tr>",j+="<tr><td class='delmsg'>"+c.msg+"</td></tr>",j+="</tbody></table></div></div>";var D=builderFmButon.call(r,"dData",c.bSubmit),S=builderFmButon.call(r,"eData",c.bCancel);if(j+="<div class='"+getGuiStyles.call(r,"dialog.footer")+"'><table class='EditTable' id='"+u+"_2'><tbody><tr><td><hr class='"+getGuiStyles.call(r,"dialog.hr")+"' style='margin:1px'/></td></tr><tr><td class='DelButton EditButton EditButton-"+i.direction+"'>"+D+"&#160;"+S+"</td></tr></tbody></table></div>",c.gbox=g,jgrid.createModal.call(r,f,j,c,i.gView,$(i.gView)[0]),$("#DelData>td",p).data("rowids",e),!v("beforeInitData",$(j)))return;$(".fm-button",p+"_2").hover(function(){$(this).addClass(b)},function(){$(this).removeClass(b)}),addFormIcon($("#dData",p+"_2"),c.delicon,m),addFormIcon($("#eData",p+"_2"),c.cancelicon,m),$("#dData",p+"_2").click(function(){var e,t=[!0,""],u=$("#DelData>td",p),f=u.text(),m=u.data("rowids"),b={};if($.isFunction(c.onclickSubmit)&&(b=c.onclickSubmit.call(r,c,f)||{}),$.isFunction(c.beforeSubmit)&&(t=c.beforeSubmit.call(r,f)||t),t[0]&&!c.processing){if(c.processing=!0,l=i.prmNames,a=$.extend({},c.delData,b),s=l.oper,a[s]=l.deloper,o=l.id,f=m.slice(),!f.length)return!1;for(e in f)f.hasOwnProperty(e)&&(f[e]=jgrid.stripPref(i.idPrefix,f[e]));a[o]=f.join(),$(this).addClass(y);var w=c.url||i.editurl,x=$.extend({url:$.isFunction(w)?w.call(r,a[o],a,c):w,type:c.mtype,data:$.isFunction(c.serializeDelData)?c.serializeDelData.call(r,a):a,complete:function(e,o){var l;if($("#dData",p+"_2").removeClass(y),e.status>=300&&304!==e.status||0===e.status&&4===e.readyState?(t[0]=!1,$.isFunction(c.errorTextFormat)?t[1]=c.errorTextFormat.call(r,e):t[1]=o+" Status: '"+e.statusText+"'. Error code: "+e.status):$.isFunction(c.afterSubmit)&&(t=c.afterSubmit.call(r,e,a)||[!0]),!1===t[0])$("#DelError>td",p).html(t[1]),$("#DelError",p).show();else{if("local"===i.datatype||!0===i.treeGrid||!c.reloadAfterSubmit)if(!0===i.treeGrid)try{base.delTreeNode.call(n,m[0])}catch(e){}else for(m=m.slice(),l=0;l<m.length;l++)base.delRowData.call(n,m[l]);c.reloadAfterSubmit&&n.trigger("reloadGrid",[$.extend({},c.reloadGridOptions||{})]),setTimeout(function(){v("afterComplete",e,f,$(p))},50)}c.processing=!1,t[0]&&jgrid.hideModal(h,{gb:g,jqm:c.jqModal,onClose:c.onClose,removemodal:c.removemodal})}},jgrid.ajaxOptions,c.ajaxDelOptions);if(x.url||c.useDataProxy||($.isFunction(i.dataProxy)?c.useDataProxy=!0:(t[0]=!1,t[1]+=" "+jgrid.errors.nourl)),t[0])if(c.useDataProxy){var C=i.dataProxy.call(r,x,"del_"+d);void 0===C&&(C=[!0,""]),!1===C[0]?(t[0]=!1,t[1]=C[1]||"Error deleting the selected row!"):jgrid.hideModal(h,{gb:g,jqm:c.jqModal,onClose:c.onClose,removemodal:c.removemodal})}else"clientArray"===x.url?(a=x.data,x.complete({status:200,statusText:""},"")):$.ajax(x)}return!1===t[0]&&($("#DelError>td",p).html(t[1]),$("#DelError",p).show()),!1}),$("#eData",p+"_2").click(function(){return jgrid.hideModal(h,{gb:g,jqm:c.jqModal,onClose:c.onClose,removemodal:c.removemodal}),!1}),v("beforeShowForm",$(p)),jgrid.viewModal.call(r,h,{gbox:g,jqm:c.jqModal,overlay:c.overlay,toTop:c.toTop,modal:c.modal}),v("afterShowForm",$(p))}!0===c.closeOnEscape&&setTimeout(function(){$(".ui-jqdialog-titlebar-close","#"+jqID(f.modalhead)).attr("tabindex","-1").focus()},0)}})},navGrid:function(e,t,r,i,n,a,o){return"object"==typeof e&&(o=a,a=n,n=i,i=r,r=t,t=e,e=void 0),i=i||{},r=r||{},o=o||{},n=n||{},a=a||{},this.each(function(){var l=this,s=l.p,d=$(l);if(l.grid&&null!=s&&!(l.nav&&$(e).find(".navtable").length>0)){var c=s.id,u=$.extend({edit:!0,add:!0,del:!0,search:!0,refresh:!0,refreshstate:"firstpage",view:!1,closeOnEscape:!0,beforeRefresh:null,afterRefresh:null,cloneToTop:!1,hideEmptyPagerParts:!0,alertwidth:200,alertheight:"auto",alerttop:null,removemodal:!0,alertleft:null,alertzIndex:null,iconsOverText:!1},base.getGridRes.call(d,"nav"),jgrid.nav||{},s.navOptions||{},t||{});u.position=u.position||("rtl"===s.direction?"right":"left");var p,f,h,g=s.idSel,m=s.gBox,v=u.commonIconClass,b={themodal:"alertmod_"+c,modalhead:"alerthd_"+c,modalcontent:"alertcnt_"+c},y=function(){return function(){var e=document.documentElement,t=window,r=1024,i=768,n=d.closest(".ui-jqgrid").offset();void 0===$("#"+jqID(b.themodal))[0]&&(u.alerttop||u.alertleft||(void 0!==t.innerWidth?(r=t.innerWidth,i=t.innerHeight):null!=e&&void 0!==e.clientWidth&&0!==e.clientWidth&&(r=e.clientWidth,i=e.clientHeight),r=r/2-parseInt(u.alertwidth,10)/2-n.left,i=i/2-25-n.top),jgrid.createModal.call(l,b,"<div class='"+getGuiStyles.call(l,"dialog.body")+"'><div>"+u.alerttext+"</div></div>",{gbox:m,jqModal:u.jqModal,drag:!0,resize:!0,caption:u.alertcap,top:null!=u.alerttop?u.alerttop:i,left:null!=u.alertleft?u.alertleft:r,width:u.alertwidth,height:u.alertheight,closeOnEscape:u.closeOnEscape,zIndex:u.alertzIndex,removemodal:u.removemodal},s.gView,$(m)[0],!1)),jgrid.viewModal.call(l,"#"+jqID(b.themodal),{gbox:m,toTop:u.alertToTop,jqm:u.jqModal});var a=$("#"+jqID(b.modalhead)).find(".ui-jqdialog-titlebar-close");a.attr({tabindex:"0",href:"#",role:"button"}),setTimeout(function(){a.focus()},50)}}(),w=function(e){var t;if(13===e.which&&(t=$(this).find(".ui-pg-button").filter(":focus"),t.length>0)){var r=t[0].id,i=r.substr(0,$(this).closest(".ui-jqgrid-toppager").length>0?r.length-c.length-5:r.length-c.length-1),n=i+"mod"+s.id,a=$(".ui-jqdialog").filter(":visible").map(function(){return this.id});if($.inArray(n,a)<0)return t.trigger("click"),!1}},x=getGuiStateStyles.call(l,"hover"),C=getGuiStateStyles.call(l,"disabled"),j=getGuiStyles.call(l,"navButton","ui-pg-button");if(l.grid){l.modalAlert=y,void 0===e&&(s.pager?(e=s.pager,s.toppager&&(u.cloneToTop=!0)):s.toppager&&(e=s.toppager));var D,S,q,_,F,R,k,O=1,I=["left","center","right"],N=getGuiStyles.call(l,"navButton","ui-pg-button "+getGuiStateStyles.call(l,"disabled")),G="<div class='"+N+"'><span class='ui-separator'></span></div>",E=function(){hasOneFromClasses(this,C)||$(this).addClass(x)},T=function(){$(this).removeClass(x)},A=function(){return hasOneFromClasses(this,C)||($.isFunction(u.addfunc)?u.addfunc.call(l,i):base.editGridRow.call(d,"new",i)),!1},M=function(e,t,r){if(!hasOneFromClasses(this,C)){var i=s.selrow;i?$.isFunction(e)?e.call(l,i,r):base[t].call(d,i,r):y()}return!1},B=function(){return M.call(this,u.editfunc,"editGridRow",r)},P=function(){return M.call(this,u.viewfunc,"viewGridRow",o)},L=function(){var e;return hasOneFromClasses(this,C)||(s.multiselect?(e=s.selarrrow,0===e.length&&(e=null)):e=s.selrow,e?$.isFunction(u.delfunc)?u.delfunc.call(l,e,n):base.delGridRow.call(d,e,n):y()),!1},z=function(){return hasOneFromClasses(this,C)||($.isFunction(u.searchfunc)?u.searchfunc.call(l,a):base.searchGrid.call(d,a)),!1},H=function(){if(!hasOneFromClasses(this,C)){$.isFunction(u.beforeRefresh)&&u.beforeRefresh.call(l),s.search=!1,s.resetsearch=!0;try{if("currentfilter"!==u.refreshstate){s.postData.filters="";try{$("#fbox_"+g).jqFilter("resetFilter")}catch(e){}$.isFunction(l.clearToolbar)&&l.clearToolbar(!1)}}catch(e){}switch(u.refreshstate){case"firstpage":d.trigger("reloadGrid",[$.extend({},u.reloadGridOptions||{},{page:1})]);break;case"current":case"currentfilter":d.trigger("reloadGrid",[$.extend({},u.reloadGridOptions||{},{current:!0})])}$.isFunction(u.afterRefresh)&&u.afterRefresh.call(l)}return!1},V=function(e,t,r){var i=$("<div class='"+j+"' tabindex='0' role='button'></div>"),n=u[e+"icon"],a=$.trim(u[e+"text"]);return i.append("<div class='ui-pg-div'><span class='"+(u.iconsOverText?mergeCssClasses("ui-pg-button-icon-over-text",v,n):mergeCssClasses(v,n))+"'></span>"+(a?"<span class='ui-pg-button-text"+(u.iconsOverText?" ui-pg-button-icon-over-text":"")+"'>"+a+"</span>":"")+"</div>"),$(h).append(i),i.attr({title:u[e+"title"]||"",id:t||e+"_"+_}).click(r).hover(E,T),i};for(u.cloneToTop&&s.toppager&&(O=2),D=0;D<O;D++){if(h=$("<div class='ui-pg-table navtable' role='toolbar' style='float:"+("rtl"===s.direction?"right":"left")+";table-layout:auto;'></div>"),0===D?(q=e,_=c,q===s.toppager&&(_+="_top",O=1)):(q=s.toppager,_=c+"_top"),u.add&&V("add",i.id,A),u.edit&&V("edit",r.id,B),u.view&&V("view",o.id,P),u.del&&V("del",n.id,L),(u.add||u.edit||u.del||u.view)&&$(h).append(G),u.search&&(S=V("search",a.id,z),a.showOnLoad&&!0===a.showOnLoad&&$(S,h).click()),u.refresh&&V("refresh","",H),f=$(".ui-jqgrid>.ui-jqgrid-view").css("font-size")||"11px",$("body").append("<div id='testpg2' class='"+getGuiStyles.call(l,"gBox","ui-jqgrid")+"' style='font-size:"+f+";visibility:hidden;' ></div>"),p=$(h).clone().appendTo("#testpg2").width(),$("#testpg2").remove(),$(q+"_"+u.position,q).append(h),u.hideEmptyPagerParts)for(F=0;F<I.length;F++)I[F]!==u.position&&(k=$(q+"_"+I[F],q),0===k.length||0===k[0].childNodes.length?k.hide():1===k[0].childNodes.length&&(R=k[0].firstChild,!$(R).is("table.ui-pg-table")||0!==R.rows&&0!==R.rows[0].cells.length||k.hide()));s._nvtd&&(p>s._nvtd[0]&&($(q+"_"+u.position,q).width(p),s._nvtd[0]=p),s._nvtd[1]=p),l.nav=!0,h.on("keydown.jqGrid",w)}d.triggerHandler("jqGridResetFrozenHeights")}}})},navButtonAdd:function(e,t){return"object"==typeof e&&(t=e,e=void 0),this.each(function(){var r=this,i=r.p;if(r.grid){var n=$.extend({caption:"newButton",title:"",onClickButton:null,position:"last",iconsOverText:!1},base.getGridRes.call($(r),"nav"),jgrid.nav||{},i.navOptions||{},t||{}),a=n.id,o=getGuiStateStyles.call(r,"hover"),l=getGuiStateStyles.call(r,"disabled"),s=getGuiStyles.call(r,"navButton","ui-pg-button");if(void 0===e)if(i.pager){if(base.navButtonAdd.call($(r),i.pager,n),!i.toppager)return;e=i.toppager,a&&(a+="_top")}else i.toppager&&(e=i.toppager);"string"==typeof e&&0!==e.indexOf("#")&&(e="#"+jqID(e));var d=$(".navtable",e),c=n.commonIconClass;if(d.length>0){if(a&&d.find("#"+jqID(a)).length>0)return;var u=$("<div tabindex='0' role='button'></div>");"NONE"===n.buttonicon.toString().toUpperCase()?$(u).addClass(s).append("<div class='ui-pg-div'>"+(n.caption?"<span class='ui-pg-button-text"+(n.iconsOverText?" ui-pg-button-icon-over-text":"")+"'>"+n.caption+"</span>":"")+"</div>"):$(u).addClass(s).append("<div class='ui-pg-div'><span class='"+(n.iconsOverText?mergeCssClasses("ui-pg-button-icon-over-text",c,n.buttonicon):mergeCssClasses(c,n.buttonicon))+"'></span>"+(n.caption?"<span class='ui-pg-button-text"+(n.iconsOverText?" ui-pg-button-icon-over-text":"")+"'>"+n.caption+"</span>":"")+"</div>"),a&&$(u).attr("id",a),"first"===n.position&&d.children("div.ui-pg-button").length>0?d.children("div.ui-pg-button").first().before(u):d.append(u),$(u,d).attr("title",n.title||"").click(function(e){return hasOneFromClasses(this,l)||$.isFunction(n.onClickButton)&&n.onClickButton.call(r,n,e),!1}).hover(function(){hasOneFromClasses(this,l)||$(this).addClass(o)},function(){$(this).removeClass(o)}),$(r).triggerHandler("jqGridResetFrozenHeights")}}})},navSeparatorAdd:function(e,t){return t=$.extend({sepclass:"ui-separator",sepcontent:"",position:"last"},t||{}),this.each(function(){if(this.grid){var r=this,i=r.p,n=getGuiStyles.call(r,"navButton","ui-pg-button "+getGuiStateStyles.call(r,"disabled"));if(void 0===e)if(i.pager){if(base.navSeparatorAdd.call($(r),i.pager,t),!i.toppager)return;e=i.toppager}else i.toppager&&(e=i.toppager);"string"==typeof e&&0!==e.indexOf("#")&&(e="#"+jqID(e));var a=$(".navtable",e);if(a.length>0){var o="<div class='"+n+"'><span class='"+t.sepclass+"'></span>"+t.sepcontent+"</div>";"first"===t.position?0===a.children("div.ui-pg-button").length?a.append(o):a.children("div.ui-pg-button").first().before(o):a.append(o)}}})},GridToForm:function(e,t){return this.each(function(){var r,i,n,a,o=this;if(o.grid){var l=base.getRowData.call($(o),e);if(l)for(r in l)if(l.hasOwnProperty(r))if(i=$("[name="+jqID(r)+"]",t),i.is("input:radio")||i.is("input:checkbox"))for(n=0;n<i.length;n++)a=$(i[n]),a.prop("checked",a.val()===String(l[r]));else i.val(isEmptyString(l[r])?"":l[r])}})},FormToGrid:function(e,t,r,i){return this.each(function(){var n=this;if(n.grid){r||(r="set"),i||(i="first");var a=$(t).serializeArray(),o={};$.each(a,function(e,t){o[t.name]=t.value}),"add"===r?base.addRowData.call($(n),e,o,i):"set"===r&&base.setRowData.call($(n),e,o)}})}}),jgrid.extend({groupingSetup:function(){return this.each(function(){var e,t,r,i,n,a=this,o=a.p,l=o.colModel,s=o.groupingView,d=function(){return""};if(null===s||"object"!=typeof s&&!$.isFunction(s))o.grouping=!1;else if(s.groupField.length){for(void 0===s.visibiltyOnNextGrouping&&(s.visibiltyOnNextGrouping=[]),s.lastvalues=[],s._locgr||(s.groups=[]),s.counters=[],e=0;e<s.groupField.length;e++)s.groupOrder[e]||(s.groupOrder[e]="asc"),s.groupText[e]||(s.groupText[e]="{0}"),"boolean"!=typeof s.groupColumnShow[e]&&(s.groupColumnShow[e]=!0),"boolean"!=typeof s.groupSummary[e]&&(s.groupSummary[e]=!1),s.groupSummaryPos[e]||(s.groupSummaryPos[e]="footer"),i=l[o.iColByName[s.groupField[e]]],!0===s.groupColumnShow[e]?(s.visibiltyOnNextGrouping[e]=!0,null!=i&&!0===i.hidden&&base.showCol.call($(a),s.groupField[e])):(s.visibiltyOnNextGrouping[e]=$("#"+jgrid.jqID(o.id+"_"+s.groupField[e])).is(":visible"),null!=i&&!0!==i.hidden&&base.hideCol.call($(a),s.groupField[e]));for(s.summary=[],s.hideFirstGroupCol&&(s.formatDisplayField[0]=function(e){return e}),t=0,r=l.length;t<r;t++)i=l[t],s.hideFirstGroupCol&&(i.hidden||s.groupField[0]!==i.name||(i.formatter=d)),i.summaryType&&(n={nm:i.name,st:i.summaryType,v:"",sr:i.summaryRound,srt:i.summaryRoundType||"round"},i.summaryDivider&&(n.sd=i.summaryDivider,n.vd=""),s.summary.push(n))}else o.grouping=!1})},groupingPrepare:function(e,t){return this.each(function(){var r,i,n,a,o,l,s,d,c,u=this,p=u.p,f=p.groupingView,h=f.groups,g=f.counters,m=f.lastvalues,v=f.isInTheSameGroup,b=f.groupField.length,y=!1,w=base.groupingCalculations.handler,x=function(e,t){if(null==e&&f.useDefaultValuesOnGrouping){var r,i=void 0!==p.iColByName[t]?p.colModel[p.iColByName[t]]:p.additionalProperties[p.iPropByName[t]];null!=i&&null!=i.formatter&&(null!=i.formatoptions&&void 0!==i.formatoptions.defaultValue?e=i.formatoptions.defaultValue:"string"==typeof i.formatter&&void 0!==(r=$(u).jqGrid("getGridRes","formatter."+i.formatter+".defaultValue"))&&(e=r))}return e};for(r=0;r<b;r++)if(l=f.groupField[r],s=x(e[l],l),s,d=f.displayField[r],c=null==d?null:x(e[d],d),null==c&&(c=s),void 0!==s){for(n=[],i=0;i<=r;i++)n.push(e[f.groupField[i]]);for(a={idx:r,dataIndex:l,value:s,displayValue:c,startRow:t,cnt:1,keys:n,summary:[]},o={cnt:1,pos:h.length,summary:$.extend(!0,[],f.summary)},0===t?(h.push(a),m[r]=s,g[r]=o):"object"==typeof s||($.isArray(v)&&$.isFunction(v[r])?v[r].call(u,m[r],s,r,f):m[r]===s)?y?(h.push(a),m[r]=s,g[r]=o):(o=g[r],o.cnt+=1,h[o.pos].cnt=o.cnt):(h.push(a),m[r]=s,y=!0,g[r]=o),h[o.pos].summary=function(){var t,r,i;for(t=0;t<o.summary.length;t++)r=o.summary[t],i=$.isArray(r.st)?r.st[a.idx]:r.st,$.isFunction(i)?r.v=i.call(u,r.v,r.nm,e,a):(r.v=w.call($(u),i,r.v,r.nm,r.sr,r.srt,e),"avg"===i.toLowerCase()&&r.sd&&(r.vd=w.call($(u),i,r.vd,r.sd,r.sr,r.srt,e)));return o.summary}(),i=o.pos-1;i>=0;i--)if(h[i].idx<h[o.pos].idx){h[o.pos].parentGroupIndex=i,h[o.pos].parentGroup=h[i];break}}}),this},getGroupHeaderIndex:function(e,t){var r=this,i=r[0],n=i.p,a=t?$(t).closest("tr.jqgroup"):$("#"+jgrid.jqID(e)),o=parseInt(a.data("jqgrouplevel"),10),l=n.id+"ghead_"+o+"_";return isNaN(o)||!a.hasClass("jqgroup")||e.length<=l.length?-1:parseInt(e.substring(l.length),10)},groupingToggle:function(e,t){return this.each(function(){var r,i,n,a=this,o=a.p,l=o.groupingView,s=l.minusicon,d=l.plusicon,c=t?$(t).closest("tr.jqgroup"):$("#"+jgrid.jqID(e)),u=function(e){return e.find(">td>span.tree-wrap")},p=!0,f=!1,h=[],g=function(e){var t,r=e.length;for(t=0;t<r;t++)h.push(e[t])},m=parseInt(c.data("jqgrouplevel"),10);for(o.frozenColumns&&c.length>0&&(i=c[0].rowIndex,c=$(a.rows[i]),c=c.add(a.grid.fbRows[i])),n=u(c),jgrid.hasAllClasses(n,s)?(n.removeClass(s).addClass(d),f=!0):n.removeClass(d).addClass(s),c=c.next();c.length;c=c.next())if(c.hasClass("jqfoot")){if(r=parseInt(c.data("jqfootlevel"),10),f){if(r=parseInt(c.data("jqfootlevel"),10),(!l.showSummaryOnHide&&r===m||r>m)&&g(c),r<m)break}else if((r===m||l.showSummaryOnHide&&r===m+1)&&g(c),r<=m)break}else if(c.hasClass("jqgroup"))if(r=parseInt(c.data("jqgrouplevel"),10),f){if(r<=m)break;g(c)}else{if(r<=m)break;r===m+1&&(u(c).removeClass(s).addClass(d),g(c)),p=!1}else(f||p)&&g(c);$(h).css("display",f?"none":""),o.frozenColumns&&$(a).triggerHandler("jqGridResetFrozenHeights",[{header:{resizeDiv:!1,resizedRows:{iRowStart:-1,iRowEnd:-1}},resizeFooter:!1,body:{resizeDiv:!0,resizedRows:{iRowStart:i,iRowEnd:c.length?c[0].rowIndex-1:-1}}}]),a.fixScrollOffsetAndhBoxPadding(),$(a).triggerHandler("jqGridGroupingClickGroup",[e,f]),$.isFunction(o.onClickGroup)&&o.onClickGroup.call(a,e,f)}),!1},groupingRender:function(e,t){function r(e,t,r,i,o){var l,d,c,h,g,m,v,b,y,w,x,C,j,D=u[e],S="",q=0,_=!0;if(0!==t&&0!==u[e].idx)for(l=e;l>=0;l--)if(u[l].idx===u[e].idx-t){D=u[l];break}for(d=D.cnt,x=void 0===o?i:0;x<f;x++){for(c="&#160;",w=p[x],b=0;b<D.summary.length;b++)if(y=D.summary[b],C=$.isArray(y.st)?y.st[r.idx]:y.st,j=$.isArray(w.summaryTpl)?w.summaryTpl[r.idx]:w.summaryTpl||"{0}",y.nm===w.name){"string"==typeof C&&"avg"===C.toLowerCase()&&(y.sd&&y.vd?y.v=y.v/y.vd:y.v&&d>0&&(y.v=y.v/d));try{y.groupCount=D.cnt,y.groupIndex=D.dataIndex,y.groupValue=D.value,m=n.formatter("",y.v,x,y)}catch(e){m=y.v}c=jgrid.format(j,m),w.summaryFormat&&(c=w.summaryFormat.call(n,r,c,m,w,y));break}h=!1,g=!1,void 0!==o&&_&&(w.hidden||(c=o,_=!1,i>1&&(h=!0,q=i-1),g=w.align,w.align="rtl"===a.direction?"right":"left",s.iconColumnName=w.name)),v=!1,q>0&&!w.hidden&&"&#160;"===c?(v=!0,g&&(w.align=g),q--):(S+="<td role='gridcell' "+n.formatCol(x,1,"")+(h?"colspan='"+i+"'":"")+">"+c+"</td>",h=!1,g&&(w.align=g),v&&(w.hidden=!1,q--))}return S}var i="",n=this[0],a=n.p,o=0,l=[],s=a.groupingView,d=$.makeArray(s.groupSummary),c=s.groupField.length,u=s.groups,p=a.colModel,f=p.length,h=a.page,g="jqGridShowHideCol.groupingRender",m=function(e){return base.getGuiStyles.call(n,"gridRow",e)},v=m("jqgroup ui-row-"+a.direction),b=m("jqfoot ui-row-"+a.direction);return $.each(p,function(e,t){var r;for(r=0;r<c;r++)if(s.groupField[r]===t.name){l[r]=e;break}}),d.reverse(),$.each(u,function(g,m){var y,w,x,C,j,D,S,q,_=a.id+"ghead_"+m.idx,F=_+"_"+g,R=$.isFunction(s.groupCollapse)?s.groupCollapse.call(n,{group:m,rowid:F}):s.groupCollapse,k=1,O=0,I=c-1===m.idx,N=null!=m.parentGroup&&m.parentGroup.collapsed,G="<span style='cursor:pointer;margin-"+("rtl"===a.direction?"right:":"left:")+12*m.idx+"px;' class='"+s.commonIconClass+" "+(R?s.plusicon:s.minusicon)+" tree-wrap' onclick=\"jQuery('#"+jgrid.jqID(a.id).replace("\\","\\\\")+"').jqGrid('groupingToggle','"+F+"', this);return false;\"></span>";if(s._locgr&&!(m.startRow+m.cnt>(h-1)*t&&m.startRow<h*t))return!0;N&&(R=!0),void 0!==R&&(m.collapsed=R),o++;try{$.isArray(s.formatDisplayField)&&$.isFunction(s.formatDisplayField[m.idx])?(m.displayValue=s.formatDisplayField[m.idx].call(n,m.displayValue,m.value,p[l[m.idx]],m.idx,s),y=m.displayValue):y=n.formatter(F,m.displayValue,l[m.idx],m.value)}catch(e){y=m.displayValue}if(i+="<tr id='"+F+"' data-jqgrouplevel='"+m.idx+"' "+(R&&N?"style='display:none;' ":"")+"role='row' class='"+v+" "+_+"'>",q=$.isFunction(s.groupText[m.idx])?s.groupText[m.idx].call(n,y,m.cnt,m.summary):jgrid.template(s.groupText[m.idx],y,m.cnt,m.summary),"string"!=typeof q&&"number"!=typeof q&&(q=y),"header"===s.groupSummaryPos[m.idx]?(k=1,"cb"!==p[0].name&&"cb"!==p[1].name||k++,"subgrid"!==p[0].name&&"subgrid"!==p[1].name||k++,i+=r(g,0,m,k,G+"<span class='cell-wrapper'>"+q+"</span>")):i+="<td role='gridcell' style='padding-left:"+12*m.idx+"px;' colspan='"+f+"'>"+G+q+"</td>",i+="</tr>",I){for(D=u[g+1],j=m.startRow,S=void 0!==D?D.startRow:u[g].startRow+u[g].cnt,s._locgr&&(O=(h-1)*t)>m.startRow&&(j=O),x=j;x<S&&e[x-O];x++)i+=e[x-O].join("");if("header"!==s.groupSummaryPos[m.idx]){if(void 0!==D){for(w=0;w<s.groupField.length&&D.dataIndex!==s.groupField[w];w++);o=s.groupField.length-w}for(C=0;C<o;C++)d[C]&&(i+="<tr data-jqfootlevel='"+(m.idx-C)+(R&&(m.idx-C>0||!s.showSummaryOnHide)?"' style='display:none;'":"'")+" role='row' class='"+b+"'>",i+=r(g,C,u[m.idx-C],0),i+="</tr>");o=w}}}),this.off(g).on(g,function(){var e,t,r,i,o=a.iColByName[s.iconColumnName];if($.inArray("header",s.groupSummaryPos)>=0){for(i=0;i<p.length;i++)if(!p[i].hidden){r=i;break}if(void 0===r||o===r)return;for(e=0;e<n.rows.length;e++)t=n.rows[e],$(t).hasClass("jqgroup")&&($(t.cells[r]).html(t.cells[o].innerHTML),$(t.cells[o]).html("&nbsp;"));s.iconColumnName=p[r].name}}),i},groupingGroupBy:function(e,t){return this.each(function(){var r,i,n=this,a=n.p,o=a.groupingView;for("string"==typeof e&&(e=[e]),a.grouping=!0,o._locgr=!1,void 0===o.visibiltyOnNextGrouping&&(o.visibiltyOnNextGrouping=[]),r=0;r<o.groupField.length;r++)i=a.colModel[a.iColByName[o.groupField[r]]],!o.groupColumnShow[r]&&o.visibiltyOnNextGrouping[r]&&null!=i&&!0===i.hidden&&base.showCol.call($(n),o.groupField[r]);for(r=0;r<e.length;r++)o.visibiltyOnNextGrouping[r]=$(a.idSel+"_"+jgrid.jqID(e[r])).is(":visible");a.groupingView=$.extend(a.groupingView,t||{}),o.groupField=e,$(n).trigger("reloadGrid")})},groupingRemove:function(e){return this.each(function(){var t,r=this,i=r.p,n=r.tBodies[0],a=i.groupingView;if(void 0===e&&(e=!0),i.grouping=!1,!0===e){for(t=0;t<a.groupField.length;t++)!a.groupColumnShow[t]&&a.visibiltyOnNextGrouping[t]&&base.showCol.call($(r),a.groupField);$("tr.jqgroup, tr.jqfoot",n).remove(),$("tr.jqgrow",n).filter(":hidden").show()}else $(r).trigger("reloadGrid")})},groupingCalculations:{handler:function(e,t,r,i,n,a){var o,l,s={sum:function(){return parseFloat(t||0)+parseFloat(a[r]||0)},min:function(){return""===t?parseFloat(a[r]||0):Math.min(parseFloat(t),parseFloat(a[r]||0))},max:function(){return""===t?parseFloat(a[r]||0):Math.max(parseFloat(t),parseFloat(a[r]||0))},count:function(){return""===t&&(t=0),a.hasOwnProperty(r)?t+1:0},avg:function(){return s.sum()}};if(!s[e])throw"jqGrid Grouping No such method: "+e;return o=s[e](),null!=i&&("fixed"===n?o=o.toFixed(i):(l=Math.pow(10,i),o=Math.round(o*l)/l)),o}}}),$.jgrid.extend({jqGridImport:function(e){return e=$.extend({imptype:"xml",impstring:"",impurl:"",mtype:"GET",impData:{},xmlGrid:{config:"roots>grid",data:"roots>rows"},jsonGrid:{config:"grid",data:"data"},ajaxOptions:{}},e||{}),this.each(function(){var t,r=this,i=function(e,t){var i,n,a,o,l=$(t.xmlGrid.config,e)[0],s=$(t.xmlGrid.data,e)[0];if(xmlJsonClass.xml2json){i=xmlJsonClass.xml2json(l," "),i=$.parseJSON(i);for(a in i)i.hasOwnProperty(a)&&(n=i[a]);void 0!==n&&(s?(o=i.grid.datatype,i.grid.datatype="xmlstring",i.grid.datastr=e,$(r).jqGrid(n).jqGrid("setGridParam",{datatype:o})):$(r).jqGrid(n))}else(null!=jgrid.defaults&&$.isFunction(jgrid.defaults.fatalError)?jgrid.defaults.fatalError:alert)("xml2json or parse are not present")},n=function(e,t){if(e&&"string"==typeof e){var i,n=$.parseJSON(e),a=n[t.jsonGrid.config],o=n[t.jsonGrid.data];o?(i=a.datatype,a.datatype="jsonstring",a.datastr=o,$(r).jqGrid(a).jqGrid("setGridParam",{datatype:i})):$(r).jqGrid(a)}};switch(e.imptype){case"xml":$.ajax($.extend({url:e.impurl,type:e.mtype,data:e.impData,dataType:"xml",context:e,complete:function(e){!(e.status<300||304===e.status)||0===e.status&&4===e.readyState||(i(e.responseXML,this),$(r).triggerHandler("jqGridImportComplete",[e,this]),$.isFunction(this.importComplete)&&this.importComplete(e))}},e.ajaxOptions));break;case"xmlstring":e.impstring&&"string"==typeof e.impstring&&(t=$.parseXML(e.impstring))&&(i(t,e),$(r).triggerHandler("jqGridImportComplete",[t,e]),$.isFunction(e.importComplete)&&e.importComplete(t),e.impstring=null);break;case"json":$.ajax($.extend({url:e.impurl,type:e.mtype,data:e.impData,dataType:"json",context:e,complete:function(e){try{!(e.status<300||304===e.status)||0===e.status&&4===e.readyState||(n(e.responseText,this),$(r).triggerHandler("jqGridImportComplete",[e,this]),$.isFunction(this.importComplete)&&this.importComplete(e))}catch(e){}}},e.ajaxOptions));break;case"jsonstring":e.impstring&&"string"==typeof e.impstring&&(n(e.impstring,e),$(r).triggerHandler("jqGridImportComplete",[e.impstring,e]),$.isFunction(e.importComplete)&&e.importComplete(e.impstring),e.impstring=null)}})},jqGridExport:function(e){e=$.extend({exptype:"xmlstring",root:"grid",ident:"\t"},e||{});var t=null;return this.each(function(){if(this.grid){var r,i=$.extend(!0,{},$(this).jqGrid("getGridParam"));if(i.rownumbers&&(i.colNames.splice(0,1),i.colModel.splice(0,1)),i.multiselect&&(i.colNames.splice(0,1),i.colModel.splice(0,1)),i.subGrid&&(i.colNames.splice(0,1),i.colModel.splice(0,1)),i.knv=null,i.treeGrid)for(r in i.treeReader)i.treeReader.hasOwnProperty(r)&&(i.colNames.splice(i.colNames.length-1),i.colModel.splice(i.colModel.length-1));switch(e.exptype){case"xmlstring":t="<"+e.root+">"+xmlJsonClass.json2xml(i,e.ident)+"</"+e.root+">";break;case"jsonstring":t="{"+xmlJsonClass.toJson(i,e.root,e.ident,!1)+"}",void 0!==i.postData.filters&&(t=t.replace(/filters":"/,'filters":'),t=t.replace(/\}\]\}"/,"}]}"))}}}),t},excelExport:function(e){return e=$.extend({exptype:"remote",url:null,oper:"oper",tag:"excel",exportOptions:{}},e||{}),this.each(function(){var t;this.grid&&"remote"===e.exptype&&(t=$.extend({},this.p.postData,e.exportOptions),t[e.oper]=e.tag,window.location=e.url+(null!=e.url&&e.url.indexOf("?")>=0?"&":"?")+$.param(t))})}});var editFeedback=function(e){var t=$.makeArray(arguments).slice(1);return t.unshift(""),t.unshift("Inline"),t.unshift(e),jgrid.feedback.apply(this,t)};jgrid.inlineEdit=jgrid.inlineEdit||{},jgrid.extend({editRow:function(e,t,r,i,n,a,o,l,s,d){var c={},u=$.makeArray(arguments).slice(1);return"object"===$.type(u[0])?c=u[0]:(void 0!==t&&(c.keys=t),$.isFunction(r)&&(c.oneditfunc=r),$.isFunction(i)&&(c.successfunc=i),void 0!==n&&(c.url=n),null!=a&&(c.extraparam=a),$.isFunction(o)&&(c.aftersavefunc=o),$.isFunction(l)&&(c.errorfunc=l),$.isFunction(s)&&(c.afterrestorefunc=s),$.isFunction(d)&&(c.beforeEditRow=d)),this.each(function(){var t=this,r=$(t),i=t.p,n=0,a=null,o={},l=i.colModel,s=i.prmNames;if(t.grid){var d=$.extend(!0,{keys:!1,oneditfunc:null,successfunc:null,url:null,extraparam:{},aftersavefunc:null,errorfunc:null,afterrestorefunc:null,restoreAfterError:!0,beforeEditRow:null,focusField:!0},jgrid.inlineEdit,i.inlineEditing||{},c),u=r.jqGrid("getInd",e,!0),p=d.focusField,f="object"==typeof p&&null!=p?$(p.target||p).closest("tr.jqgrow>td")[0]:null;if(!1!==u&&(d.extraparam[s.oper]===s.addoper||editFeedback.call(t,d,"beforeEditRow",d,e))&&"0"===($(u).attr("editable")||"0")&&!$(u).hasClass("not-editable-row")){var h=jgrid.detectRowEditing.call(t,e);if(null!=h&&"cellEditing"===h.mode){var g=h.savedRow,m=t.rows[g.id],v=getGuiStateStyles.call(t,"select");r.jqGrid("restoreCell",g.id,g.ic),$(m.cells[g.ic]).removeClass("edit-cell "+v),$(m).addClass(v).attr({"aria-selected":"true",tabindex:"0"})}if(jgrid.enumEditableCells.call(t,u,$(u).hasClass("jqgrid-new-row")?"add":"edit",function(r){var l,s,d,c=r.cm,u=$(r.dataElement),p=r.dataWidth,f=c.name,h=c.edittype,g=r.iCol,m=c.editoptions||{};if("hidden"!==r.editable){try{l=$.unformat.call(this,r.td,{rowId:e,colModel:c},g)}catch(e){l="textarea"===h?u.text():u.html()}o[f]=l,u.html(""),s=$.extend({},m,{id:e+"_"+f,name:f,rowId:e,mode:r.mode,cm:c,iCol:g}),("&nbsp;"===l||"&#160;"===l||1===l.length&&160===l.charCodeAt(0))&&(l=""),d=jgrid.createEl.call(t,h,s,l,!0,$.extend({},jgrid.ajaxOptions,i.ajaxSelectOptions||{})),$(d).addClass("editable"),u.append(d),p&&$(d).width(r.dataWidth),jgrid.bindEv.call(t,d,s),"select"===h&&!0===m.multiple&&void 0===m.dataUrl&&jgrid.msie&&$(d).width($(d).width()),null===a&&(a=g),n++}}),n>0){if(o.id=e,i.savedRow.push(o),$(u).attr("editable","1"),p&&("number"==typeof p&&parseInt(p,10)<=l.length?a=p:"string"==typeof p?a=i.iColByName[p]:null!=f&&(a=f.cellIndex),setTimeout(function(){var e=r.jqGrid("getNumberOfFrozenColumns"),n=function(r){return i.frozenColumns&&e>0&&a<e?t.grid.fbRows[u.rowIndex].cells[r]:u.cells[r]},o=function(e){return $(e).find("input,textarea,select,button,object,*[tabindex]").filter(":input:visible:not(:disabled)")},l=function(){return o(i.frozenColumns&&e>0?t.grid.fbRows[u.rowIndex]:u).first()},s=o(n(a));s.length>0?s.first().focus():"number"==typeof d.defaultFocusField||"string"==typeof d.defaultFocusField?(s=o(n("number"==typeof d.defaultFocusField?d.defaultFocusField:i.iColByName[d.defaultFocusField])),0===s.length&&(s=l()),s.first().focus()):l().focus()},0)),!0===d.keys){var b=$(u);i.frozenColumns&&(b=b.add(t.grid.fbRows[u.rowIndex])),b.on("keydown",function(t){if(27===t.keyCode)return r.jqGrid("restoreRow",e,d.afterrestorefunc),!1;if(13===t.keyCode){return"TEXTAREA"===t.target.tagName||(r.jqGrid("saveRow",e,d),!1)}})}fullBoolFeedback.call(t,d.oneditfunc,"jqGridInlineEditRow",e,d)}}}})},saveRow:function(e,t,r,i,n,a,o,l){var s,d=$.makeArray(arguments).slice(1),c={},u=this[0],p=$(u),f=null!=u?u.p:null,h=jgrid.info_dialog,g=$.isFunction,m=null!=jgrid.defaults&&g(jgrid.defaults.fatalError)?jgrid.defaults.fatalError:alert;if(u.grid&&null!=f){"object"===$.type(d[0])?c=d[0]:(g(t)&&(c.successfunc=t),void 0!==r&&(c.url=r),void 0!==i&&(c.extraparam=i),g(n)&&(c.aftersavefunc=n),g(a)&&(c.errorfunc=a),g(o)&&(c.afterrestorefunc=o),g(l)&&(c.beforeSaveRow=l));var v=function(e){return p.jqGrid("getGridRes",e)};c=$.extend(!0,{successfunc:null,url:null,extraparam:{},aftersavefunc:null,errorfunc:null,afterrestorefunc:null,restoreAfterError:!0,beforeSaveRow:null,ajaxSaveOptions:{},serializeSaveData:null,mtype:"POST",saveui:"enable",savetext:v("defaults.savetext")||"Saving..."},jgrid.inlineEdit,f.inlineEditing||{},c);var b,y,w,x,C,j,D,S,q={},_={},F={},R=p.jqGrid("getInd",e,!0),k=$(R),O=f.prmNames,I=v("errors.errcap"),N=v("edit.bClose"),G=function(e,t){try{var r=jgrid.getRelativeRect.call(u,t);h.call(u,I,e,N,{top:r.top,left:r.left+$(u).closest(".ui-jqgrid").offset().left})}catch(t){m(e)}};if(!1!==R&&(s=c.extraparam[O.oper]===O.addoper?"add":"edit",editFeedback.call(u,c,"beforeSaveRow",c,e,s)&&(b=k.attr("editable"),c.url=c.url||f.editurl,D="clientArray"!==c.url,"1"===b))){if(j=($.jgrid.detectRowEditing.call(u,e)||{}).savedRow,jgrid.enumEditableCells.call(u,R,k.hasClass("jqgrid-new-row")?"add":"edit",function(e){var t=e.cm,r=t.formatter,i=t.editoptions||{},n=t.formatoptions||{},a={},o=jgrid.getEditedValue.call(u,$(e.dataElement),t,a,e.editable);if("select"===t.edittype&&"select"!==t.formatter&&(_[t.name]=a.text),null!=(C=jgrid.checkValues.call(u,o,e.iCol,void 0,void 0,$.extend(e,{oldValue:null!=j?j[t.name]:null,newValue:o,oldRowData:j})))&&!1===C[0])return S=!0,G(C[1],e.td),!1;"date"===r&&!0!==n.sendFormatted&&(o=$.unformat.date.call(u,o,t)),D&&!0===i.NullIfEmpty&&""===o&&(o="null"),q[t.name]=o}),S)return;var E;O=f.prmNames,E=!1===f.keyName?O.id:f.keyName,q&&(q[O.oper]=O.editoper,void 0!==q[E]&&""!==q[E]||(q[E]=jgrid.stripPref(f.idPrefix,e)),q=$.extend({},q,f.inlineData||{},c.extraparam));var T={options:c,rowid:e,tr:R,iRow:R.rowIndex,savedRow:j,newData:q,mode:s};if(!editFeedback.call(u,c,"saveRowValidation",T))return void(T.errorText&&G(T.errorText,R));if(D)p.jqGrid("progressBar",{method:"show",loadtype:c.saveui,htmlcontent:c.savetext}),F=$.extend({},q,F),F[E]=jgrid.stripPref(f.idPrefix,F[E]),f.autoEncodeOnEdit&&$.each(F,function(e,t){g(t)||(F[e]=jgrid.oldEncodePostedData(t))}),R.id===f.idPrefix+F[E]||null==O.idold||F.hasOwnProperty(O.idold)||(F[O.idold]=jgrid.stripPref(f.idPrefix,R.id)),$.ajax($.extend({url:g(c.url)?c.url.call(u,F[E],s,F,c):c.url,data:jgrid.serializeFeedback.call(u,g(c.serializeSaveData)?c.serializeSaveData:f.serializeRowData,"jqGridInlineSerializeSaveData",F),type:g(c.mtype)?c.mtype.call(u,s,c,F[E],F):c.mtype,complete:function(t,r){if(p.jqGrid("progressBar",{method:"hide",loadtype:c.saveui}),(t.status<300||304===t.status)&&(0!==t.status||4!==t.readyState)){var i,n,a;if(n=p.triggerHandler("jqGridInlineSuccessSaveRow",[t,e,c,s,F]),null!=n&&!0!==n||(n=[!0,q]),n[0]&&g(c.successfunc)&&(n=c.successfunc.call(u,t,e,c,s,F)),$.isArray(n)?(i=n[0],q=n[1]||q):i=n,!0===i){for(f.autoEncodeOnEdit&&$.each(q,function(e,t){q[e]=jgrid.oldDecodePostedData(t)}),q=$.extend({},q,_),p.jqGrid("setRowData",e,q),k.attr("editable","0"),a=0;a<f.savedRow.length;a++)if(String(f.savedRow[a].id)===String(e)){w=a;break}w>=0&&f.savedRow.splice(w,1),fullBoolFeedback.call(u,c.aftersavefunc,"jqGridInlineAfterSaveRow",e,t,q,c),null!=n[2]?p.jqGrid("changeRowid",e,f.idPrefix+n[2]):R.id!==f.idPrefix+q[E]&&p.jqGrid("changeRowid",R.id,f.idPrefix+q[E]),k.removeClass("jqgrid-new-row").off("keydown")}else fullBoolFeedback.call(u,c.errorfunc,"jqGridInlineErrorSaveRow",e,t,r,null,c),!0===c.restoreAfterError&&p.jqGrid("restoreRow",e,c.afterrestorefunc)}},error:function(t,r,i){if(p.triggerHandler("jqGridInlineErrorSaveRow",[e,t,r,i,c]),g(c.errorfunc))c.errorfunc.call(u,e,t,r,i);else{var n=t.responseText||t.statusText;try{h.call(u,I,'<div class="'+getGuiStateStyles.call(u,"error")+'">'+n+"</div>",N,{buttonalign:"right"})}catch(e){m(n)}}!0===c.restoreAfterError&&p.jqGrid("restoreRow",e,c.afterrestorefunc)}},jgrid.ajaxOptions,f.ajaxRowOptions,c.ajaxSaveOptions||{}));else{for(q=$.extend({},q,_),x=p.jqGrid("setRowData",e,q),k.attr("editable","0"),y=0;y<f.savedRow.length;y++)if(String(f.savedRow[y].id)===String(e)){w=y;break}w>=0&&f.savedRow.splice(w,1),fullBoolFeedback.call(u,c.aftersavefunc,"jqGridInlineAfterSaveRow",e,x,q,c),k.removeClass("jqgrid-new-row").off("keydown"),R.id!==f.idPrefix+q[E]&&p.jqGrid("changeRowid",R.id,f.idPrefix+q[E])}}}},restoreRow:function(e,t){var r=$.makeArray(arguments).slice(1),i={};return"object"===$.type(r[0])?i=r[0]:$.isFunction(t)&&(i.afterrestorefunc=t),this.each(function(){var t,r=this,n=$(r),a=r.p,o=-1,l={};if(r.grid){var s=$.extend(!0,{},jgrid.inlineEdit,a.inlineEditing||{},i),d=n.jqGrid("getInd",e,!0);if(!1!==d&&editFeedback.call(r,s,"beforeCancelRow",s,e)){for(t=0;t<a.savedRow.length;t++)if(String(a.savedRow[t].id)===String(e)){o=t;break}if(o>=0){if($.isFunction($.fn.datepicker))try{$("input.hasDatepicker","#"+jgrid.jqID(d.id)).datepicker("hide")}catch(e){}$.each(a.colModel,function(){var e=this.name;a.savedRow[o].hasOwnProperty(e)&&(l[e]=a.savedRow[o][e],!this.formatter||"date"!==this.formatter||null!=this.formatoptions&&!0===this.formatoptions.sendFormatted||(l[e]=$.unformat.date.call(r,l[e],this)))}),n.jqGrid("setRowData",e,l),$(d).attr("editable","0").off("keydown"),a.savedRow.splice(o,1),$("#"+jgrid.jqID(e),r).hasClass("jqgrid-new-row")&&setTimeout(function(){n.jqGrid("delRowData",e),n.jqGrid("showAddEditButtons",!1)},0)}fullBoolFeedback.call(r,s.afterrestorefunc,"jqGridInlineAfterRestoreRow",e)}}})},addRow:function(e){return this.each(function(){if(this.grid){var t=this,r=$(t),i=t.p,n=$.extend(!0,{rowID:null,initdata:{},position:"first",useDefValues:!0,useFormatter:!1,beforeAddRow:null,addRowParams:{extraparam:{}}},jgrid.inlineEdit,i.inlineEditing||{},e||{});if(editFeedback.call(t,n,"beforeAddRow",n.addRowParams))if(n.rowID=$.isFunction(n.rowID)?n.rowID.call(t,n):null!=n.rowID?n.rowID:jgrid.randId(),!0===n.useDefValues&&$(i.colModel).each(function(){if(this.editoptions&&this.editoptions.defaultValue){var e=this.editoptions.defaultValue;n.initdata[this.name]=$.isFunction(e)?e.call(t):e}}),n.rowID=i.idPrefix+n.rowID,r.jqGrid("addRowData",n.rowID,n.initdata,n.position),$("#"+jgrid.jqID(n.rowID),t).addClass("jqgrid-new-row"),n.useFormatter)$("#"+jgrid.jqID(n.rowID)+" .ui-inline-edit",t).click();else{var a=i.prmNames,o=a.oper;n.addRowParams.extraparam[o]=a.addoper,r.jqGrid("editRow",n.rowID,n.addRowParams),r.jqGrid("setSelection",n.rowID)}}})},inlineNav:function(e,t){return"object"==typeof e&&(t=e,e=void 0),this.each(function(){var r=this,i=$(r),n=r.p;if(this.grid&&null!=n){var a,o=e===n.toppager?n.idSel+"_top":n.idSel,l=e===n.toppager?n.id+"_top":n.id,s=getGuiStateStyles.call(r,"disabled"),d=$.extend(!0,{edit:!0,editicon:"ui-icon-pencil",add:!0,addicon:"ui-icon-plus",save:!0,saveicon:"ui-icon-disk",cancel:!0,cancelicon:"ui-icon-cancel",commonIconClass:"ui-icon",iconsOverText:!1,addParams:{addRowParams:{extraparam:{}}},editParams:{},restoreAfterSelect:!0},i.jqGrid("getGridRes","nav"),jgrid.nav||{},n.navOptions||{},jgrid.inlineNav||{},n.inlineNavOptions||{},t||{}),c=function(){r.modalAlert()};if(void 0===e)if(n.pager){if(i.jqGrid("inlineNav",n.pager,d),!n.toppager)return;e=n.toppager,o=n.idSel+"_top",l=n.id+"_top"}else n.toppager&&(e=n.toppager,o=n.idSel+"_top",l=n.id+"_top");if(void 0!==e&&(a=$(e),!(a.length<=0))){if(a.find(".navtable").length<=0&&i.jqGrid("navGrid",e,{add:!1,edit:!1,del:!1,search:!1,refresh:!1,view:!1}),n._inlinenav=!0,!0===d.addParams.useFormatter){var u,p,f,h=n.colModel;for(u=0;u<h.length;u++)if(h[u].formatter&&"actions"===h[u].formatter){h[u].formatoptions&&(p={keys:!1,onEdit:null,onSuccess:null,afterSave:null,onError:null,afterRestore:null,extraparam:{},url:null},f=$.extend(p,h[u].formatoptions),d.addParams.addRowParams={keys:f.keys,oneditfunc:f.onEdit,successfunc:f.onSuccess,url:f.url,extraparam:f.extraparam,aftersavefunc:f.afterSave,errorfunc:f.onError,afterrestorefunc:f.afterRestore});break}}d.add&&i.jqGrid("navButtonAdd",e,{caption:d.addtext,title:d.addtitle,commonIconClass:d.commonIconClass,buttonicon:d.addicon,iconsOverText:d.iconsOverText,id:l+"_iladd",onClickButton:function(){hasOneFromClasses(this,s)||i.jqGrid("addRow",d.addParams)}}),d.edit&&i.jqGrid("navButtonAdd",e,{caption:d.edittext,title:d.edittitle,commonIconClass:d.commonIconClass,buttonicon:d.editicon,iconsOverText:d.iconsOverText,id:l+"_iledit",onClickButton:function(){if(!hasOneFromClasses(this,s)){var e=n.selrow;e?i.jqGrid("editRow",e,d.editParams):c()}}}),d.save&&(i.jqGrid("navButtonAdd",e,{caption:d.savetext,title:d.savetitle,commonIconClass:d.commonIconClass,buttonicon:d.saveicon,iconsOverText:d.iconsOverText,id:l+"_ilsave",onClickButton:function(){if(!hasOneFromClasses(this,s)){var e=n.savedRow[0].id;if(e){var t=n.prmNames,a=t.oper,o=d.editParams;$("#"+jgrid.jqID(e),r).hasClass("jqgrid-new-row")?(d.addParams.addRowParams.extraparam[a]=t.addoper,o=d.addParams.addRowParams):(d.editParams.extraparam||(d.editParams.extraparam={}),d.editParams.extraparam[a]=t.editoper),i.jqGrid("saveRow",e,o)}else c()}}}),$(o+"_ilsave").addClass(s)),d.cancel&&(i.jqGrid("navButtonAdd",e,{caption:d.canceltext,title:d.canceltitle,commonIconClass:d.commonIconClass,buttonicon:d.cancelicon,iconsOverText:d.iconsOverText,id:l+"_ilcancel",onClickButton:function(){if(!hasOneFromClasses(this,s)){var e=n.savedRow[0].id,t=d.editParams;e?($("#"+jgrid.jqID(e),r).hasClass("jqgrid-new-row")&&(t=d.addParams.addRowParams),i.jqGrid("restoreRow",e,t)):c()}}}),$(o+"_ilcancel").addClass(s)),!0===d.restoreAfterSelect&&i.on("jqGridSelectRow",function(e,t){if(n.savedRow.length>0&&!0===n._inlinenav){var r=n.savedRow[0].id;t!==r&&"number"!=typeof r&&i.jqGrid("restoreRow",r,d.editParams)}}),i.on("jqGridInlineAfterRestoreRow jqGridInlineAfterSaveRow",function(){i.jqGrid("showAddEditButtons",!1)}),i.on("jqGridInlineEditRow",function(e,t){i.jqGrid("showAddEditButtons",!0,t)})}}})},showAddEditButtons:function(e){return this.each(function(){var t=this;if(t.grid){var r=t.p,i=r.idSel,n=getGuiStateStyles.call(t,"disabled"),a=i+"_ilsave,"+i+"_ilcancel"+(r.toppager?","+i+"_top_ilsave,"+i+"_top_ilcancel":""),o=i+"_iladd,"+i+"_iledit"+(r.toppager?","+i+"_top_iladd,"+i+"_top_iledit":"");$(e?o:a).addClass(n),$(e?a:o).removeClass(n)}})}});var $UiMultiselect=null!=$.ui?$.ui.multiselect:null,reorderSelectedColumns=function(e){if(null!=this.grid&&null!=this.grid.p){var t,r,i,n,a,o=this,l=this.grid.p,s=this.gh,d=this.selectedList,c=this.inGroup,u=d.find("li"),p=u.length-1,f=function(e,t,r){var i,n,a=d.find("li");for(void 0===t&&(t=r?a.length-1:0),i=t;r?i>=0:i<a.length;r?i--:i++)if((n=$(a[i]).data("optionLink"))&&e.call(a[i],parseInt(n.val(),10),i))return i},h=function(){r=$.inArray(l.colModel[e].name,o.newColOrder),r>=0&&o.newColOrder.splice(r,1),u=d.find("li"),t=0,f(function(r,i){if(r===e){for(p=i;t>=0&&t<l.colModel.length&&(l.colModel[t].hidden||l.colModel[t].hidedlg)&&null!=c&&c[t]===c[e];)t++;return o.newColOrder.splice(t,0,l.colModel[e].name),!0}t=$.inArray(l.colModel[r].name,o.newColOrder,t),t<0&&(t=$.inArray(l.colModel[r].name,o.newColOrder)),t++})},g=function(t){if(c[t]===c[e])return $(this).after(u[p]),h(),!0},m=function(t){if(c[t]===c[e])return $(this).before(u[p]),h(),!0},v=function(t){if(c[t]===c[e]&&void 0!==c[t])return s[c[t]].startColumnName=l.colModel[t].name,!0};if(h(),s&&void 0!==s[c[e]]){for(n=s[c[e]],r=0;r<n.numberOfColumns;r++)if(t=l.iColByName[n.startColumnName]+r,!l.colModel[t].hidden&&!l.colModel[t].hidedlg){f(g,p-1,!0),f(m,p+1),f(v);break}}else if(s){if(u=d.find("li"),(r=f(function(t){if(t===e)return!0}))+1>=u.length||r<0)return;if((a=$(u[r+1]).data("optionLink"))&&void 0!==(i=c[parseInt(a.val(),10)])&&(a=$(u[r-1]).data("optionLink"))&&c[parseInt(a.val(),10)]===i){var b=f(function(e){if(c[e]!==i)return!0},r+1);$(u[void 0===b||b>=u.length?u.length-1:b-1]).after(u[p]),h()}}}};if(jgrid.msie&&8===jgrid.msiever()&&($.expr[":"].hidden=function(e){return 0===e.offsetWidth||0===e.offsetHeight||"none"===e.style.display}),jgrid._multiselect=!1,$UiMultiselect){if($UiMultiselect.prototype._setSelected){var setSelected=$UiMultiselect.prototype._setSelected;$UiMultiselect.prototype._setSelected=function(e,t){var r=setSelected.call(this,e,t),i=this.element,n=parseInt(e.data("optionLink").val(),10);return t&&this.selectedList&&(reorderSelectedColumns.call(this,n),this.selectedList.find("li").each(function(){$(this).data("optionLink")&&$(this).data("optionLink").remove().appendTo(i)})),r}}$UiMultiselect.prototype.destroy&&($UiMultiselect.prototype.destroy=function(){var e=this;e.element.show(),e.container.remove(),void 0===$.Widget?$.widget.prototype.destroy.apply(e,arguments):$.Widget.prototype.destroy.apply(e,arguments)}),jgrid._multiselect=!0}jgrid.extend({sortableColumns:function(e){return this.each(function(){function t(){i.disableClick=!0}var r=this,i=r.p,n=jqID(i.id);if(i&&i.sortable&&$.isFunction($.fn.sortable)){var a={tolerance:"pointer",axis:"x",scrollSensitivity:"1",items:">th:not(:has(#jqgh_"+n+"_cb,#jqgh_"+n+"_rn,#jqgh_"+n+"_subgrid),:hidden)",placeholder:{element:function(e){return $(document.createElement(e[0].nodeName)).addClass(e[0].className+" ui-sortable-placeholder ui-state-highlight").removeClass("ui-sortable-helper")[0]},update:function(e,t){t.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),t.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10))}},start:function(){r.grid.hDiv.scrollLeft=r.grid.bDiv.scrollLeft},update:function(e,t){var n=$(">th",$(t.item).parent()),a=i.id+"_",o=[];n.each(function(){var e=$(">div",this).get(0).id.replace(/^jqgh_/,"").replace(a,""),t=i.iColByName[e];void 0!==t&&o.push(t)}),$(r).jqGrid("remapColumns",o,!0,!0),$.isFunction(i.sortable.update)&&i.sortable.update(o),setTimeout(function(){i.disableClick=!1},50)}};if(i.sortable.options?$.extend(a,i.sortable.options):$.isFunction(i.sortable)&&(i.sortable={update:i.sortable}),a.start){var o=a.start;a.start=function(e,r){t(),o.call(this,e,r)}}else a.start=t;i.sortable.exclude&&(a.items+=":not("+i.sortable.exclude+")");var l=e.sortable(a),s=l.data("sortable")||l.data("uiSortable")||l.data("ui-sortable");null!=s&&(s.floating=!0)}})},columnChooser:function(e){function t(e,t){e&&("string"==typeof e?$.fn[e]&&$.fn[e].apply(t,$.makeArray(arguments).slice(2)):$.isFunction(e)&&e.apply(t,$.makeArray(arguments).slice(2)))}var r,i,n,a,o,l,s,d=this,c=d[0],u=c.p,p=u.colModel,f=p.length,h=u.colNames,g=function(e){return $UiMultiselect&&$UiMultiselect.prototype&&e.data($UiMultiselect.prototype.widgetFullName||$UiMultiselect.prototype.widgetName)||e.data("ui-multiselect")||e.data("multiselect")};if(!$("#colchooser_"+jqID(u.id)).length){if(r=$('<div id="colchooser_'+u.id+'" style="position:relative;overflow:hidden"><div><select multiple="multiple"></select></div></div>'),i=$("select",r),e=$.extend({width:400,height:240,classname:null,done:function(e){e&&d.jqGrid("remapColumns",e,!0)},msel:"multiselect",dlog:"dialog",dialog_opts:{minWidth:470,dialogClass:"ui-jqdialog"},dlog_opts:function(e){var t={};return t[e.bSubmit]=function(){e.apply_perm(),e.cleanup(!1)},t[e.bCancel]=function(){e.cleanup(!0)},$.extend(!0,{buttons:t,close:function(){e.cleanup(!0)},modal:e.modal||!1,resizable:e.resizable||!0,width:e.width+70,resize:function(){var e=g(i),t=e.container.closest(".ui-dialog-content");t.length>0&&"object"==typeof t[0].style?t[0].style.width="":t.css("width",""),e.selectedList.height(Math.max(e.selectedContainer.height()-e.selectedActions.outerHeight()-1,1)),e.availableList.height(Math.max(e.availableContainer.height()-e.availableActions.outerHeight()-1,1))}},e.dialog_opts||{})},apply_perm:function(){var t,r,n=new Array(u.colModel.length),a={notSkipFrozen:void 0!==e.notSkipFrozen&&e.notSkipFrozen,skipSetGridWidth:!0,skipSetGroupHeaders:!0};for(t=0;t<u.colModel.length;t++)n[t]=u.iColByName[l.newColOrder[t]];if($("option",i).each(function(){$(this).is(":selected")?d.jqGrid("showCol",p[this.value].name,a):d.jqGrid("hideCol",p[this.value].name,a)}),e.done&&e.done.call(d,n),u.groupHeader&&("object"==typeof u.groupHeader||$.isFunction(u.groupHeader)))if(d.jqGrid("destroyGroupHeader",!1),u.groupHeader.groupHeaders=l.gh,null!=u.pivotOptions&&null!=u.pivotOptions.colHeaders&&u.pivotOptions.colHeaders.length>1)for(r=u.pivotOptions.colHeaders,t=0;t<r.length;t++)r[t]&&r[t].groupHeaders.length&&d.jqGrid("setGroupHeaders",r[t]);else d.jqGrid("setGroupHeaders",u.groupHeader);var o=u.autowidth||void 0!==u.widthOrg&&"auto"!==u.widthOrg&&"100%"!==u.widthOrg?u.width:u.tblwidth;o!==u.width&&d.jqGrid("setGridWidth",o,u.shrinkToFit)},cleanup:function(n){t(e.dlog,r,"destroy"),t(e.msel,i,"destroy"),r.remove(),n&&e.done&&e.done.call(d)},msel_opts:{}},d.jqGrid("getGridRes","col"),jgrid.col,e||{}),$.ui&&$UiMultiselect&&$UiMultiselect.defaults){if(!jgrid._multiselect)return void(null!=jgrid.defaults&&$.isFunction(jgrid.defaults.fatalError)?jgrid.defaults.fatalError:alert)("Multiselect plugin loaded after jqGrid. Please load the plugin before the jqGrid!");e.msel_opts=$.extend($UiMultiselect.defaults,e.msel_opts)}e.caption&&r.attr("title",e.caption),e.classname&&(r.addClass(e.classname),i.addClass(e.classname)),e.width&&($(">div",r).css({width:e.width,margin:"0 auto"}),i.css("width",e.width)),e.height&&($(">div",r).css("height",e.height),i.css("height",e.height-10)),i.empty();var m,v,b,y,w=null!=u.groupHeader?u.groupHeader.groupHeaders:0,x={};if(w)for(m=0;m<w.length;m++)for(y=w[m],v=0;v<y.numberOfColumns;v++)b=u.iColByName[y.startColumnName]+v,x[b]=$.isFunction(e.buildItemText)?e.buildItemText.call(d[0],{iCol:b,cm:p[b],cmName:p[b].name,colName:h[b],groupTitleText:y.titleText}):$.jgrid.stripHtml(y.titleText)+": "+$.jgrid.stripHtml(""===h[b]?p[b].name:h[b]);for(b=0;b<f;b++)void 0===x[b]&&(x[b]=$.isFunction(e.buildItemText)?e.buildItemText.call(d[0],{iCol:b,cm:p[b],cmName:p[b].name,colName:h[b],groupTitleText:null}):$.jgrid.stripHtml(h[b]));if($.each(p,function(e){this.hidedlg||i.append("<option value='"+e+"'"+(u.headertitles||this.headerTitle?" title='"+jgrid.stripHtml("string"==typeof this.headerTitle?this.headerTitle:x[e])+"'":"")+(this.hidden?"":" selected='selected'")+">"+x[e]+"</option>")}),n=$.isFunction(e.dlog_opts)?e.dlog_opts.call(d,e):e.dlog_opts,t(e.dlog,r,n),a=$.isFunction(e.msel_opts)?e.msel_opts.call(d,e):e.msel_opts,t(e.msel,i,a),o=$("#colchooser_"+jqID(u.id)),o.css({margin:"auto"}),o.find(">div").css({width:"100%",height:"100%",margin:"auto"}),l=g(i)){if(l.grid=c,w){l.gh=$.extend(!0,[],w),l.inGroup=new Array(u.colModel.length);var C,j;for(C=0;C<w.length;C++)for(j=w[C],b=0;b<j.numberOfColumns;b++)l.inGroup[u.iColByName[j.startColumnName]+b]=C}l.newColOrder=$.map(p,function(e){return e.name}),l.container.css({width:"100%",height:"100%",margin:"auto"}),l.selectedContainer.css({width:100*l.options.dividerLocation+"%",height:"100%",margin:"auto",boxSizing:"border-box"}),l.availableContainer.css({width:100-100*l.options.dividerLocation+"%",height:"100%",margin:"auto",boxSizing:"border-box"}),l.selectedList.css("height","auto"),l.availableList.css("height","auto"),s=Math.max(l.selectedList.height(),l.availableList.height()),s=Math.min(s,$(window).height()),l.selectedList.css("height",s),l.availableList.css("height",s),null!=l.options&&l.options.sortable&&l.selectedList.on("sortupdate",function(t,r){reorderSelectedColumns.call(l,parseInt(r.item.data("optionLink").val(),10)),r.item.css({width:"",height:""}),$.isFunction(e.sortUpdate)&&e.sortUpdate.call(c,t,r)}),$.isFunction(e.init)&&e.init.call(c,l)}}},sortableRows:function(e){return this.each(function(){var t=this,r=t.grid,i=t.p;r&&(i.treeGrid||$.fn.sortable&&(e=$.extend({cursor:"move",axis:"y",items:">tbody>.jqgrow"},e||{}),e.start&&$.isFunction(e.start)?(e._start_=e.start,delete e.start):e._start_=!1,e.update&&$.isFunction(e.update)?(e._update_=e.update,delete e.update):e._update_=!1,e.start=function(n,a){if($(a.item).css("border-width","0"),$("td",a.item).each(function(e){this.style.width=r.cols[e].style.width}),i.subGrid){var o=$(a.item).attr("id");try{$(t).jqGrid("collapseSubGridRow",o)}catch(e){}}e._start_&&e._start_.apply(this,[n,a])},e.update=function(r,n){$(n.item).css("border-width",""),!0===i.rownumbers&&$("td.jqgrid-rownum",t.rows).each(function(e){$(this).html(e+1+(parseInt(i.page,10)-1)*parseInt(i.rowNum,10))}),e._update_&&e._update_.apply(this,[r,n])},$(t).sortable(e)))})},gridDnD:function(e){return this.each(function(){function t(){var e=$.data(n,"dnd");$("tr.jqgrow:not(.ui-draggable)",n).draggable($.isFunction(e.drag)?e.drag.call($(n),e):e.drag)}var r,i,n=this;if(n.grid&&!n.p.treeGrid&&$.fn.draggable&&$.fn.droppable){if(void 0===$("#jqgrid_dnd")[0]&&$("body").append("<table id='jqgrid_dnd' class='ui-jqgrid-dnd'></table>"),"string"==typeof e&&"updateDnD"===e&&!0===n.p.jqgdnd)return void t();if(e=$.extend({drag:function(e){return $.extend({start:function(t,r){var i,a;if(n.p.subGrid){a=$(r.helper).attr("id");try{$(n).jqGrid("collapseSubGridRow",a)}catch(e){}}for(i=0;i<$.data(n,"dnd").connectWith.length;i++)0===$($.data(n,"dnd").connectWith[i]).jqGrid("getGridParam","reccount")&&$($.data(n,"dnd").connectWith[i]).jqGrid("addRowData","jqg_empty_row",{});r.helper.addClass("ui-state-highlight"),$("td",r.helper).each(function(e){this.style.width=n.grid.headers[e].width+"px"}),e.onstart&&$.isFunction(e.onstart)&&e.onstart.call($(n),t,r)},stop:function(t,r){var i,a;for(r.helper.dropped&&!e.dragcopy&&(a=$(r.helper).attr("id"),void 0===a&&(a=$(this).attr("id")),$(n).jqGrid("delRowData",a)),i=0;i<$.data(n,"dnd").connectWith.length;i++)$($.data(n,"dnd").connectWith[i]).jqGrid("delRowData","jqg_empty_row");e.onstop&&$.isFunction(e.onstop)&&e.onstop.call($(n),t,r)}},e.drag_opts||{})},drop:function(e){return $.extend({accept:function(e){if(!$(e).hasClass("jqgrow"))return e;var t=$(e).closest("table.ui-jqgrid-btable");if(t.length>0&&void 0!==$.data(t[0],"dnd")){var r=$.data(t[0],"dnd").connectWith;return-1!==$.inArray("#"+jqID(this.id),r)}return!1},drop:function(t,r){if($(r.draggable).hasClass("jqgrow")){var i=$(r.draggable).attr("id"),a=r.draggable.parent().parent().jqGrid("getRowData",i);if(!e.dropbyname){var o,l,s=0,d={},c=$("#"+jqID(this.id)).jqGrid("getGridParam","colModel");try{for(l in a)a.hasOwnProperty(l)&&(o=c[s].name,"cb"!==o&&"rn"!==o&&"subgrid"!==o&&a.hasOwnProperty(l)&&c[s]&&(d[o]=a[l]),s++);a=d}catch(e){}}if(r.helper.dropped=!0,e.beforedrop&&$.isFunction(e.beforedrop)){var u=e.beforedrop.call(this,t,r,a,$("#"+jqID(n.p.id)),$(this));void 0!==u&&null!==u&&"object"==typeof u&&(a=u)}if(r.helper.dropped){var p;e.autoid&&($.isFunction(e.autoid)?p=e.autoid.call(this,a):(p=Math.ceil(1e3*Math.random()),p=e.autoidprefix+p)),$("#"+jqID(this.id)).jqGrid("addRowData",p,a,e.droppos),a[n.p.localReader.id]=p}e.ondrop&&$.isFunction(e.ondrop)&&e.ondrop.call(this,t,r,a)}}},e.drop_opts||{})},onstart:null,onstop:null,beforedrop:null,ondrop:null,drop_opts:{},drag_opts:{revert:"invalid",helper:"clone",cursor:"move",appendTo:"#jqgrid_dnd",zIndex:5e3},dragcopy:!1,dropbyname:!1,droppos:"first",autoid:!0,autoidprefix:"dnd_"},e||{}),e.connectWith)for(e.connectWith=e.connectWith.split(","),e.connectWith=$.map(e.connectWith,function(e){return $.trim(e)}),$.data(n,"dnd",e),0===n.p.reccount||n.p.jqgdnd||t(),n.p.jqgdnd=!0,r=0;r<e.connectWith.length;r++)i=e.connectWith[r],$(i).droppable($.isFunction(e.drop)?e.drop.call($(n),e):e.drop)}})},gridResize:function(e){return this.each(function(){var t,r=this,i=r.grid,n=r.p,a=n.gView+">.ui-jqgrid-bdiv",o=!1,l=n.height;if(i&&$.fn.resizable){if(e=$.extend({},e||{}),e.alsoResize?(e._alsoResize_=e.alsoResize,delete e.alsoResize):e._alsoResize_=!1,e.stop&&$.isFunction(e.stop)?(e._stop_=e.stop,delete e.stop):e._stop_=!1,e.stop=function(s,d){$(r).jqGrid("setGridWidth",d.size.width,e.shrinkToFit),$(n.gView+">.ui-jqgrid-titlebar").css("width",""),o?($(t).each(function(){$(this).css("height","")}),"auto"!==l&&"100%"!==l||$(i.bDiv).css("height",l)):$(r).jqGrid("setGridParam",{height:$(a).height()}),r.fixScrollOffsetAndhBoxPadding&&r.fixScrollOffsetAndhBoxPadding(),e._stop_&&e._stop_.call(r,s,d)},t=a,"auto"!==l&&"100%"!==l||void 0!==e.handles||(e.handles="e,w"),e.handles){var s=$.map(String(e.handles).split(","),function(e){return $.trim(e)});2===s.length&&("e"===s[0]&&"w"===s[1]||"e"===s[1]&&"w"===s[1])&&(t=n.gView+">div:not(.frozen-div)",o=!0,n.pager&&(t+=","+n.pager))}e._alsoResize_?e.alsoResize=t+","+e._alsoResize_:e.alsoResize=t,delete e._alsoResize_,$(n.gBox).resizable(e)}})}}),Aggregation.prototype.calc=function(e,t,r,i,n){var a=this;if(void 0!==e)switch(a.result=a.result||0,e=parseFloat(e),a.aggregator){case"sum":a.result+=e;break;case"count":a.result++;break;case"avg":a.finilized?(a.count=a.count||0,a.result=(a.result*a.count+e)/(a.count+1),a.count++):(a.result+=e,a.count=a.count||0,a.count++);break;case"min":a.result=Math.min(a.result,e);break;case"max":a.result=Math.max(a.result,e);break;default:$.isFunction(a.aggregator)&&(a.result=a.aggregator.call(a.context,{previousResult:a.result,value:e,fieldName:t,item:r,iItem:i,items:n}))}},Aggregation.prototype.getResult=function(e,t,r){var i=this;(void 0!==i.result||r)&&(r&&void 0!==i.result&&(i.result=0,i.count=0),void 0===i.result||i.finilized||"avg"!==i.aggregator||(i.result=i.result/i.count,i.finilized=!0),e[t]=i.result)},ArrayOfFieldsets.prototype.compareVectorsEx=function(e,t){var r,i,n=this,a=n.fieldLength;for(r=0;r<a;r++)if(0!==(i=n.fieldCompare[r](e[r],t[r])))return{index:r,result:i};return{index:-1,result:0}},ArrayOfFieldsets.prototype.getIndexOfDifferences=function(e,t){return null===t||null===e?0:this.compareVectorsEx(e,t).index},ArrayOfFieldsets.prototype.compareVectors=function(e,t){var r=this.compareVectorsEx(e,t);return(r.index>=0?this.fieldSortDirection[r.index]:1)>0?r.result:-r.result},ArrayOfFieldsets.prototype.getItem=function(e){return this.items[e]},ArrayOfFieldsets.prototype.getIndexLength=function(){return this.items.length},ArrayOfFieldsets.prototype.getIndexesOfSourceData=function(e){return this.indexesOfSourceData[e]},ArrayOfFieldsets.prototype.createDataIndex=function(e){var t,r,i,n,a,o,l,s,d,c=this,u=e.length,p=c.fieldLength,f=c.fieldNames,h=c.indexesOfSourceData,g=c.items;for(t=0;t<u;t++){for(l=e[t],r=new Array(p),n=0;n<p;n++)void 0!==(i=l[f[n]])&&("string"==typeof i&&c.trimByCollect&&(i=$.trim(i)),r[n]=i);if(s=0,(d=g.length-1)<0)g.push(r),h.push([t]);else if(0!==(a=c.compareVectors(r,g[d])))if(1===a||c.skipSort)g.push(r),h.push([t]);else if(1!==(a=c.compareVectors(g[0],r)))if(0!==a)for(;;){if(d-s<2){g.splice(d,0,r),h.splice(d,0,[t]);break}if(o=Math.floor((s+d)/2),0===(a=c.compareVectors(g[o],r))){h[o].push(t);break}1===a?d=o:s=o}else h[0].push(t);else g.unshift(r),h.unshift([t]);else h[d].push(t)}},jgrid.extend({pivotSetup:function(e,t){var r,i,n,a,o,l,s,d,c,u,p,f,h,g,m,v,b,y,w,x,C,j,D,S,q,_,F,R,k,O=this[0],I=$.isArray,N={},G={groupField:[],groupSummary:[],groupSummaryPos:[]},E={grouping:!0,groupingView:G},T=$.extend({totals:!1,useColSpanStyle:!1,trimByCollect:!0,skipSortByX:!1,skipSortByY:!1,caseSensitive:!1,footerTotals:!1,groupSummary:!0,groupSummaryPos:"header",frozenStaticCols:!1,defaultFormatting:!0,data:e},t||{}),A=e.length,M=T.xDimension,B=T.yDimension,P=T.aggregates,L=T.totalText||T.totals||T.rowTotals||T.totalHeader,z=I(M)?M.length:0,H=I(B)?B.length:0,V=I(P)?P.length:0,W=H-(1===V?1:0),U=[],Y=[],X=[],Q=[],J=["pivotInfos"],K=new Array(V),Z=new Array(H),ee=function(t,r,i){var n=new ArrayOfFieldsets(T.trimByCollect,T.caseSensitive,r,t);return $.isFunction(i)&&(n.compareVectorsEx=i),n.createDataIndex(e),n},te=function(e,t,r,i,n){var a,o,l;switch(e){case 1:a=B[i].totalText||"{0} {1} {2}",o="y"+n+"t"+i;break;case 2:a=T.totalText||"{0}",o="t";break;default:a=V>1?t.label||"{0}":$.isFunction(B[i].label)?B[i].label:R.getItem(n)[i],o="y"+n}return l=$.extend({},t,{name:o+(V>1?"a"+r:""),label:$.isFunction(a)?a.call(O,2===e?{aggregate:t,iAggregate:r,pivotOptions:T}:1===e?{yIndex:R.getItem(n),aggregate:t,iAggregate:r,yLevel:i,pivotOptions:T}:{yData:R.getItem(n)[i],yIndex:R.getItem(n),yLevel:i,pivotOptions:T}):jgrid.template.apply(O,2===e?[String(a),t.aggregator,t.member,r]:[String(a),t.aggregator,t.member,R.getItem(n)[i],i])}),delete l.member,delete l.aggregator,l},re=function(e,t,r){var i,n;for(i=0;i<V;i++)n=P[i],void 0===n.template&&void 0===n.formatter&&T.defaultFormatting&&(n.template="count"===n.aggregator?"integer":"number"),X.push(te(e,n,i,t,r))},ie=function(e,t,r){var i,n,a,l;for(i=W-1;i>=t;i--)if(Y[i]){for(n=0;n<=i;n++)q=U[n].groupHeaders,q[q.length-1].numberOfColumns+=V;for(o=B[i],a=o.totalHeader,l=o.headerOnTop,n=i+1;n<=W-1;n++)U[n].groupHeaders.push({titleText:l&&n===i+1||!l&&n===W-1?$.isFunction(a)?a.call(O,r,i):jgrid.template.call(O,String(a||""),r[i],i):"",startColumnName:"y"+(e-1)+"t"+i+(1===V?"":"a0"),numberOfColumns:V})}},ne=function(e){var r=new Aggregation("count"===P[e].aggregator?"sum":P[e].aggregator,O,t);return r.groupInfo={iRows:[],rows:[],ys:[],iYs:[]},r},ae=function(e,t,r,i){var n,a,o,l=R.getIndexOfDifferences(t,r);if(null!==r)for(l=Math.max(l,0),n=W-1;n>=l;n--)a="y"+e+"t"+n+(V>1?"a"+i:""),Y[n]&&void 0===D[a]&&(o=Z[n][i],o.getResult(D,a),D.pivotInfos[a]={colType:1,iA:i,a:P[i],level:n,iRows:o.groupInfo.iRows,rows:o.groupInfo.rows,ys:o.groupInfo.ys,iYs:o.groupInfo.iYs},t!==r&&(Z[n][i]=ne(i)))};if(0===z||0===V)throw"xDimension or aggregates options are not set!";for(F=ee(M,T.skipSortByX,T.compareVectorsByX),R=ee(B,T.skipSortByY,T.compareVectorsByY),t.xIndex=F,t.yIndex=R,i=0;i<z;i++)a=M[i],l={name:"x"+i,label:null!=a.label?$.isFunction(a.label)?a.label.call(O,a,i,T):a.label:a.dataName,frozen:T.frozenStaticCols},i<z-1&&!a.skipGrouping&&!a.additionalProperty&&(G.groupField.push(l.name),G.groupSummary.push(T.groupSummary),G.groupSummaryPos.push(T.groupSummaryPos)),l=$.extend(l,a),delete l.dataName,delete l.footerText,a.additionalProperty?J.push(l.name):(X.push(l),E.sortname=l.name);for(z<2&&(E.grouping=!1),G.hideFirstGroupCol=!0,i=0;i<H;i++)o=B[i],Y.push(!!(o.totals||o.rowTotals||o.totalText||o.totalHeader));for(S=R.getItem(0),re(0,H-1,0),k=R.getIndexLength(),y=1;y<k;y++){for(w=R.getItem(y),i=R.getIndexOfDifferences(w,S),n=W-1;n>=i;n--)Y[n]&&re(1,n,y-1);S=w,re(0,H-1,y)}for(i=W-1;i>=0;i--)Y[i]&&re(1,i,k-1);for(L&&re(2),S=R.getItem(0),n=0;n<W;n++)U.push({useColSpanStyle:T.useColSpanStyle,groupHeaders:[{titleText:$.isFunction(B[n].label)?B[n].label.call(O,{yData:S[n],yIndex:S,yLevel:n,pivotOptions:T}):S[n],startColumnName:1===V?"y0":"y0a0",numberOfColumns:V}]});for(y=1;y<k;y++){for(w=R.getItem(y),i=R.getIndexOfDifferences(w,S),ie(y,i,S),n=W-1;n>=i;n--)U[n].groupHeaders.push({titleText:$.isFunction(B[n].label)?B[n].label.call(O,{yData:w[n],yIndex:w,yLevel:n,pivotOptions:T}):w[n],startColumnName:"y"+y+(1===V?"":"a0"),numberOfColumns:V});for(n=0;n<i;n++)q=U[n].groupHeaders,q[q.length-1].numberOfColumns+=V;S=w}if(ie(k,0,S),L)for(i=0;i<W;i++)U[i].groupHeaders.push({titleText:i<W-1?"":T.totalHeader||"",startColumnName:"t"+(1===V?"":"a0"),numberOfColumns:V});for(v=F.getIndexLength(),c=0;c<v;c++){for(u=F.getItem(c),p={iX:c,x:u},D={pivotInfos:p},i=0;i<z;i++)D["x"+i]=u[i];if(b=F.getIndexesOfSourceData(c),L)for(n=0;n<V;n++)K[n]=ne(n);for(S=null,function(){var e,t;for(e=W-1;e>=0;e--)if(Y[e])for(null==Z[e]&&(Z[e]=new Array(V)),t=0;t<V;t++)Z[e][t]=ne(t)}(),y=0;y<k;y++){for(w=R.getItem(y),x=R.getIndexesOfSourceData(y),n=0;n<V;n++){for(null!==S&&ae(y-1,w,S,n),C=[],i=0;i<x.length;i++)_=x[i],$.inArray(_,b)>=0&&C.push(_);if(C.length>0){for(f=new Array(C.length),j=P[n],h=new Aggregation(j.aggregator,O,t),s=0;s<C.length;s++)i=C[s],r=e[i],f[s]=r,h.calc(r[j.member],j.member,r,i,e),L&&(g=K[n],g.calc(r[j.member],j.member,r,i,e),m=g.groupInfo,$.inArray(i,m.iYs)<0&&(m.iYs.push(y),m.ys.push(w)),$.inArray(i,m.iRows)<0&&(m.iRows.push(i),m.rows.push(r))),function(t,r,i,n,a,o,l){var s,d,c;if(t!==r)for(s=W-1;s>=0;s--)Y[s]&&(d=Z[s][n],d.calc(a[i.member],i.member,a,o,e),c=d.groupInfo,$.inArray(l,c.iYs)<0&&(c.iYs.push(l),c.ys.push(t)),$.inArray(o,c.iRows)<0&&(c.iRows.push(o),c.rows.push(a)))}(w,S,j,n,r,i,y);d="y"+y+(1===V?"":"a"+n),h.getResult(D,d),p[d]={colType:0,iY:y,y:w,iA:n,a:j,iRows:C,rows:f}}}S=w}if(null!==S)for(n=0;n<V;n++)ae(k-1,S,S,n);if(L)for(n=0;n<V;n++)d="t"+(1===V?"":"a"+n),g=K[n],g.getResult(D,d),m=g.groupInfo,p[d]={colType:2,iA:n,a:P[n],iRows:m.iRows,rows:m.rows,iYs:m.iYs,ys:m.ys};Q.push(D)}if(T.footerTotals||T.colTotals){for(A=Q.length,i=0;i<z;i++)N["x"+i]=M[i].footerText||"";for(i=z;i<X.length;i++){for(d=X[i].name,h=new Aggregation(T.footerAggregator||"sum",O,t),s=0;s<A;s++)D=Q[s],h.calc(D[d],d,D,s,Q);h.getResult(N,d)}}return t.colHeaders=U,{colModel:X,additionalProperties:J,options:t,rows:Q,groupOptions:E,groupHeaders:U,summary:N}},jqPivot:function(e,t,r,i){return this.each(function(){function n(){var i,n=l.pivotSetup.call(o,e,t),s=n.groupHeaders,d=function(e){var t,r=0;for(t in e)e.hasOwnProperty(t)&&r++;return r}(n.summary)>0,c=n.groupOptions.groupingView,u=jgrid.from.call(a,n.rows);if(!t.skipSortByX)for(i=0;i<c.groupField.length;i++)u.orderBy(c.groupField[i],null!=r&&r.groupingView&&null!=r.groupingView.groupOrder&&"desc"===r.groupingView.groupOrder[i]?"d":"a","text","");if(t.data=e,l.call(o,$.extend(!0,{datastr:$.extend(u.select(),d?{userdata:n.summary}:{}),datatype:"jsonstring",footerrow:d,userDataOnFooter:d,colModel:n.colModel,additionalProperties:n.additionalProperties,pivotOptions:n.options,viewrecords:!0,sortname:t.xDimension[0].dataName},n.groupOptions,r||{})),s.length)for(i=0;i<s.length;i++)s[i]&&s[i].groupHeaders.length&&l.setGroupHeaders.call(o,s[i]);t.frozenStaticCols&&l.setFrozenColumns.call(o)}var a=this,o=$(a),l=$.fn.jqGrid;"string"==typeof e?$.ajax($.extend({url:e,dataType:"json",success:function(t){e=jgrid.getAccessor(t,i&&i.reader?i.reader:"rows"),n()}},i||{})):n()})}});var subGridFeedback=function(){var e=$.makeArray(arguments);return e[0]="subGrid"+e[0].charAt(0).toUpperCase()+e[0].substring(1),e.unshift(""),e.unshift(""),e.unshift(this.p),jgrid.feedback.apply(this,e)},collapseOrExpand=function(e,t){return this.each(function(){if(this.grid&&null!=e&&!0===this.p.subGrid){var r=$(this).jqGrid("getInd",e,!0);$(r).find(">td."+t).trigger("click")}})};jgrid.extend({setSubGrid:function(){return this.each(function(){var e,t=this.p,r=$(this),i=t.subGridModel[0],n=function(e){return r.jqGrid("getIconRes",e)};if(t.subGridOptions=$.extend({commonIconClass:n("subgrid.common"),plusicon:n("subgrid.plus"),minusicon:n("subgrid.minus"),openicon:n("rtl"===t.direction?"subgrid.openRtl":"subgrid.openLtr"),expandOnLoad:!1,delayOnLoad:50,selectOnExpand:!1,selectOnCollapse:!1,reloadOnExpand:!0},t.subGridOptions||{}),t.colNames.unshift(""),t.colModel.unshift({name:"subgrid",width:jgrid.cell_width?t.subGridWidth+t.cellLayout:t.subGridWidth,labelClasses:"jqgh_subgrid",sortable:!1,resizable:!1,hidedlg:!0,search:!1,fixed:!0,frozen:!0}),i)for(i.align=$.extend([],i.align||[]),e=0;e<i.name.length;e++)i.align[e]=i.align[e]||"left"})},addSubGridCell:function(e,t,r,i){var n=this[0],a=n.p.subGridOptions,o=!$.isFunction(a.hasSubgrid)||a.hasSubgrid.call(n,{rowid:r,iRow:t,iCol:e,data:i});return null==n.p?"":"<td role='gridcell' class='"+base.getGuiStyles.call(this,"subgrid.tdStart",o?"ui-sgcollapsed sgcollapsed":"")+"' "+n.formatCol(e,t)+">"+(o?"<div class='"+base.getGuiStyles.call(this,"subgrid.buttonDiv","sgbutton-div")+"'><a role='button' class='"+base.getGuiStyles.call(this,"subgrid.button","sgbutton")+"'><span class='"+jgrid.mergeCssClasses(a.commonIconClass,a.plusicon)+"'></span></a></div>":"&nbsp;")+"</td>"},addSubGrid:function(e,t){return this.each(function(){var r,i,n,a=this,o=a.p,l=o.subGridModel[0],s=function(e,t){return base.getGuiStyles.call(a,"subgrid."+e,t||"")},d=s("thSubgrid","ui-th-subgrid ui-th-column ui-th-"+o.direction),c=s("rowSubTable","ui-subtblcell"),u=s("row","ui-subgrid ui-row-"+o.direction),p=s("tdWithIcon","subgrid-cell"),f=s("tdData","subgrid-data"),h=function(e,t,r){var i=l.align[r],n=$("<td"+(i?" style='text-align:"+i+";'":"")+"></td>").html(t);e.append(n)},g=function(e,t){var r=o.xmlReader.subgrid;$(r.root+" "+r.row,e).each(function(){var e,i,n=$("<tr class='"+c+"'></tr>");if(!0===r.repeatitems)$(r.cell,this).each(function(e){h(n,$(this).text()||"&#160;",e)});else if(e=l.mapping||l.name)for(i=0;i<e.length;i++)h(n,$(e[i],this).text()||"&#160;",i);t.append(n)})},m=function(e,t){var r,i,n,a,s,d=o.jsonReader.subgrid,u=jgrid.getAccessor(e,d.root);if(null!=u)for(i=0;i<u.length;i++){if(s=u[i],r=$("<tr class='"+c+"'></tr>"),!0===d.repeatitems)for(d.cell&&(s=s[d.cell]),n=0;n<s.length;n++)h(r,s[n]||"&#160;",n);else if(a=l.mapping||l.name,a.length)for(n=0;n<a.length;n++)h(r,s[a[n]]||"&#160;",n);t.append(r)}},v=function(e,t,r){var i,n,c=s("legacyTable","ui-jqgrid-legacy-subgrid"+(!0===o.altRows&&$(a).jqGrid("isBootstrapGuiStyle")?" table-striped":"")),u=$("<table"+(c?" style='width:1px' role='presentation' class='"+c+"'":"")+"><thead></thead><tbody></tbody></table>"),p=$("<tr></tr>");for(a.grid.endReq.call(a),n=0;n<l.name.length;n++)i=$("<th class='"+d+"'></th>").html(l.name[n]).width(l.width[n]),p.append(i);return p.appendTo(u[0].tHead),r(e,$(u[0].tBodies[0])),$("#"+jqID(o.id+"_"+t)).append(u),!1},b=function(e){var t,r,i=$(e).attr("id"),n={nd_:(new Date).getTime()};if(n[o.prmNames.subgridid]=i,!l)return!1;if(l.params)for(r=0;r<l.params.length;r++)void 0!==(t=o.iColByName[l.params[r]])&&(n[o.colModel[t].name]=$(e.cells[t]).text().replace(/\&#160\;/gi,""));if(!a.grid.hDiv.loading)switch(a.grid.beginReq.call(a),o.subgridtype||(o.subgridtype=o.datatype),$.isFunction(o.subgridtype)?o.subgridtype.call(a,n):o.subgridtype=o.subgridtype.toLowerCase(),o.subgridtype){case"xml":case"json":$.ajax($.extend({type:o.mtype,url:$.isFunction(o.subGridUrl)?o.subGridUrl.call(a,n):o.subGridUrl,dataType:o.subgridtype,context:i,data:jgrid.serializeFeedback.call(a,o.serializeSubGridData,"jqGridSerializeSubGridData",n),success:function(e){v(e,this,"xml"===o.subgridtype?g:m)},error:function(e,t,r){var i=void 0===o.loadSubgridError?o.loadError:o.loadSubgridError;a.grid.endReq.call(a),$.isFunction(i)&&i.call(a,e,t,r),o.subGridOptions.noEmptySubgridOnError||v(null,this,"xml"===o.subgridtype?g:m)}},jgrid.ajaxOptions,o.ajaxSubgridOptions||{}))}return!1},y=function(){var t,r=$(this).parent("tr")[0],i=r.nextSibling,n=r.id,l=o.id+"_"+n,s=function(e){return jgrid.mergeCssClasses(o.subGridOptions.commonIconClass,o.subGridOptions[e])},d=1;if($.each(o.colModel,function(){!0!==this.hidden&&"rn"!==this.name&&"cb"!==this.name||d++}),$(this).hasClass("sgcollapsed")){if(!0===o.subGridOptions.reloadOnExpand||!1===o.subGridOptions.reloadOnExpand&&!$(i).hasClass("ui-subgrid")){if(t=e>=1?"<td colspan='"+e+"'>&#160;</td>":"",!subGridFeedback.call(a,"beforeExpand",l,n))return;$(r).after("<tr role='row' class='"+u+"'>"+t+"<td class='"+p+"'><span class='"+s("openicon")+"'></span></td><td colspan='"+parseInt(o.colNames.length-d,10)+"' class='"+f+"'><div id='"+l+"' class='tablediv'></div></td></tr>"),$(a).triggerHandler("jqGridSubGridRowExpanded",[l,n]),$.isFunction(o.subGridRowExpanded)?o.subGridRowExpanded.call(a,l,n):b(r)}else $(i).show();$(this).html("<div class='"+base.getGuiStyles.call(a,"subgrid.buttonDiv","sgbutton-div")+"'><a role='button' class='"+base.getGuiStyles.call(a,"subgrid.button","sgbutton")+"'><span class='"+s("minusicon")+"'></span></a></div>").removeClass("sgcollapsed").addClass("sgexpanded"),o.subGridOptions.selectOnExpand&&$(a).jqGrid("setSelection",n)}else if($(this).hasClass("sgexpanded")){if(!subGridFeedback.call(a,"beforeCollapse",l,n))return;!0===o.subGridOptions.reloadOnExpand?$(i).remove(".ui-subgrid"):$(i).hasClass("ui-subgrid")&&$(i).hide(),$(this).html("<div class='"+base.getGuiStyles.call(a,"subgrid.buttonDiv","sgbutton-div")+"'><a role='button' class='"+base.getGuiStyles.call(a,"subgrid.button","sgbutton")+"'><span class='"+s("plusicon")+"'></span></a></div>").removeClass("sgexpanded").addClass("sgcollapsed"),o.subGridOptions.selectOnCollapse&&$(a).jqGrid("setSelection",n)}return!1},w=1;if(a.grid){for(r=a.rows.length,void 0!==t&&t>0&&(w=t,r=t+1);w<r;)i=a.rows[w],$(i).hasClass("jqgrow")&&(n=$(i.cells[e]),n.hasClass("ui-sgcollapsed")&&(o.scroll&&n.off("click"),n.on("click",y))),w++;!0===o.subGridOptions.expandOnLoad&&$(a.rows).filter(".jqgrow").each(function(e,t){$(t.cells[0]).click()}),a.subGridXml=function(e,t){return v(e,t,g)},a.subGridJson=function(e,t){return v(e,t,m)}}})},expandSubGridRow:function(e){return collapseOrExpand.call(this,e,"sgcollapsed")},collapseSubGridRow:function(e){return collapseOrExpand.call(this,e,"sgexpanded")},toggleSubGridRow:function(e){return collapseOrExpand.call(this,e,"ui-sgcollapsed")}}),window.tableToGrid=function(e,t){$(e).each(function(){var e,r,i,n,a,o,l,s,d=this,c=$(this),u=[],p=[],f=[],h=[],g=[];if(!d.grid){for(c.width("99%"),e=c.width(),r=$("tr td:first-child input[type=checkbox]:first",c),i=$("tr td:first-child input[type=radio]:first",c),n=r.length>0,a=!n&&i.length>0,o=n||a,$("th",c).each(function(){0===u.length&&o?(u.push({name:"__selection__",index:"__selection__",width:0,hidden:!0}),p.push("__selection__")):(u.push({name:$(this).attr("id")||$.trim($.jgrid.stripHtml($(this).html())).split(" ").join("_"),index:$(this).attr("id")||$.trim($.jgrid.stripHtml($(this).html())).split(" ").join("_"),width:$(this).width()||150}),p.push($(this).html()))}),$("tbody > tr",c).each(function(){var e={},t=0;$("td",$(this)).each(function(){if(0===t&&o){var r=$("input",$(this)),i=r.attr("value");h.push(i||f.length),r.is(":checked")&&g.push(i),e[u[t].name]=r.attr("value")}else e[u[t].name]=$(this).html();t++}),t>0&&f.push(e)}),c.empty(),c.jqGrid($.extend({datatype:"local",width:e,colNames:p,colModel:u,multiselect:n},t||{})),l=0;l<f.length;l++)s=null,h.length>0&&(s=h[l])&&s.replace&&(s=encodeURIComponent(s).replace(/[.\-%]/g,"_")),null===s&&(s=$.jgrid.randId()),c.jqGrid("addRowData",s,f[l]);for(l=0;l<g.length;l++)c.jqGrid("setSelection",g[l])}})};var treeGridFeedback=function(){var e=$.makeArray(arguments);return e[0]="treeGrid"+e[0].charAt(0).toUpperCase()+e[0].substring(1),e.unshift(""),e.unshift(""),e.unshift(this.p),jgrid.feedback.apply(this,e)};jgrid.extend({setTreeNode:function(){return this.each(function(){var e=this,t=$(e),r=e.p;if(e.grid&&r.treeGrid){var i=r.treeReader.expanded_field,n=r.treeReader.leaf_field,a=function(e,a,o){if(null!=o){var l=$(o.target),s=l.closest("tr.jqgrow>td"),d=s.parent(),c=function(){var e=r.data[r._index[stripPref(r.idPrefix,a)]],o=e[i]?"collapse":"expand";e[n]||(base[o+"Row"].call(t,e,d),base[o+"Node"].call(t,e,d))};return l.is("div.treeclick")?c():r.ExpandColClick&&s.length>0&&l.closest("span.cell-wrapper",s).length>0&&c(),!0}};t.off("jqGridBeforeSelectRow.setTreeNode"),t.on("jqGridBeforeSelectRow.setTreeNode",a)}})},setTreeGrid:function(){return this.each(function(){var e,t,r,i=this,n=i.p,a=[],o=["leaf_field","expanded_field","loaded"];if(n.treeGrid){n.treedatatype||$.extend(i.p,{treedatatype:n.datatype}),n.subGrid=!1,n.altRows=!1,n.pgbuttons=!1,n.pginput=!1,n.gridview=!0,null===n.rowTotal&&(n.rowNum=n.maxRowNum),n.rowList=[],n.treeIcons.plus="rtl"===n.direction?n.treeIcons.plusRtl:n.treeIcons.plusLtr,"nested"===n.treeGridModel?n.treeReader=$.extend({level_field:"level",left_field:"lft",right_field:"rgt",leaf_field:"isLeaf",expanded_field:"expanded",loaded:"loaded",icon_field:"icon"},n.treeReader):"adjacency"===n.treeGridModel&&(n.treeReader=$.extend({level_field:"level",parent_id_field:"parent",leaf_field:"isLeaf",expanded_field:"expanded",loaded:"loaded",icon_field:"icon"},n.treeReader));for(t in n.colModel)if(n.colModel.hasOwnProperty(t)){e=n.colModel[t].name;for(r in n.treeReader)n.treeReader.hasOwnProperty(r)&&n.treeReader[r]===e&&a.push(e)}$.each(n.treeReader,function(e){var t=String(this);t&&-1===$.inArray(t,a)&&($.inArray(e,o)>=0?n.additionalProperties.push({name:t,search:!1,convert:function(e){return!0===e||"true"===String(e).toLowerCase()||"1"===String(e)||e}}):n.additionalProperties.push(t))})}})},expandRow:function(e){this.each(function(){var t=this,r=$(t),i=t.p;if(t.grid&&i.treeGrid){var n=i.treeReader.expanded_field,a=e[i.localReader.id];if(treeGridFeedback.call(t,"beforeExpandRow",{rowid:a,item:e})){var o=base.getNodeChildren.call(r,e);$(o).each(function(){var e=i.idPrefix+getAccessor(this,i.localReader.id);$(base.getGridRowById.call(r,e)).css("display",""),this[n]&&base.expandRow.call(r,this)}),treeGridFeedback.call(t,"afterExpandRow",{rowid:a,item:e})}}})},collapseRow:function(e){this.each(function(){var t=this,r=$(t),i=t.p;if(t.grid&&i.treeGrid){var n=i.treeReader.expanded_field,a=e[i.localReader.id];if(treeGridFeedback.call(t,"beforeCollapseRow",{rowid:a,item:e})){var o=base.getNodeChildren.call(r,e);$(o).each(function(){var e=i.idPrefix+getAccessor(this,i.localReader.id);$(base.getGridRowById.call(r,e)).css("display","none"),this[n]&&base.collapseRow.call(r,this)}),treeGridFeedback.call(t,"afterCollapseRow",{rowid:a,item:e})}}})},getRootNodes:function(){var e=[];return this.each(function(){var t=this,r=t.p;if(t.grid&&r.treeGrid)switch(r.treeGridModel){case"nested":var i=r.treeReader.level_field;$(r.data).each(function(){parseInt(this[i],10)===parseInt(r.tree_root_level,10)&&e.push(this)});break;case"adjacency":var n=r.treeReader.parent_id_field;$(r.data).each(function(){null!==this[n]&&"null"!==String(this[n]).toLowerCase()||e.push(this)})}}),e},getNodeDepth:function(e){var t=null;return this.each(function(){var r=this,i=r.p;if(r.grid&&i.treeGrid)switch(i.treeGridModel){case"nested":var n=i.treeReader.level_field;t=parseInt(e[n],10)-parseInt(i.tree_root_level,10);break;case"adjacency":t=base.getNodeAncestors.call($(r),e).length}}),t},getNodeParent:function(e){var t=this[0];if(!t||!t.grid||null==t.p||!t.p.treeGrid||null==e)return null;var r=t.p,i=r.treeReader,n=i.parent_id_field,a=e[n];if("nested"===r.treeGridModel){var o=null,l=i.left_field,s=i.right_field,d=i.level_field,c=parseInt(e[l],10),u=parseInt(e[s],10),p=parseInt(e[d],10);return $(r.data).each(function(){if(parseInt(this[d],10)===p-1&&parseInt(this[l],10)<c&&parseInt(this[s],10)>u)return o=this,!1}),o}if(null===a||"null"===a)return null;var f=r._index[a];return void 0!==f?r.data[f]:null},getNodeChildren:function(e){var t=[];return this.each(function(){var r=this,i=r.p;if(r.grid&&i.treeGrid)switch(i.treeGridModel){case"nested":var n=i.treeReader.left_field,a=i.treeReader.right_field,o=i.treeReader.level_field,l=parseInt(e[n],10),s=parseInt(e[a],10),d=parseInt(e[o],10);$(i.data).each(function(){parseInt(this[o],10)===d+1&&parseInt(this[n],10)>l&&parseInt(this[a],10)<s&&t.push(this)});break;case"adjacency":var c=i.treeReader.parent_id_field,u=i.localReader.id;$(i.data).each(function(){String(this[c])===String(e[u])&&t.push(this)})}}),t},getFullTreeNode:function(e){var t=[];return this.each(function(){var r,i=this,n=i.p;if(i.grid&&n.treeGrid)switch(n.treeGridModel){case"nested":var a=n.treeReader.left_field,o=n.treeReader.right_field,l=n.treeReader.level_field,s=parseInt(e[a],10),d=parseInt(e[o],10),c=parseInt(e[l],10);$(n.data).each(function(){parseInt(this[l],10)>=c&&parseInt(this[a],10)>=s&&parseInt(this[a],10)<=d&&t.push(this)});break;case"adjacency":if(e){t.push(e);var u=n.treeReader.parent_id_field,p=n.localReader.id;$(n.data).each(function(){var e;for(r=t.length,e=0;e<r;e++)if(String(t[e][p])===String(this[u])){t.push(this);break}})}}}),t},getNodeAncestors:function(e){var t=[];return this.each(function(){var r=this,i=$(r),n=base.getNodeParent;if(r.grid&&r.p.treeGrid)for(var a=n.call(i,e);a;)t.push(a),a=n.call(i,a)}),t},isVisibleNode:function(e){var t=!0;return this.each(function(){var r=this,i=r.p;if(r.grid&&i.treeGrid){var n=base.getNodeAncestors.call($(r),e),a=i.treeReader.expanded_field;$(n).each(function(){if(!(t=t&&this[a]))return!1})}}),t},isNodeLoaded:function(e){var t;return this.each(function(){var r=this,i=r.p;if(r.grid&&i.treeGrid){var n=i.treeReader.leaf_field,a=i.treeReader.loaded;t=void 0!==e&&(void 0!==e[a]?e[a]:!!(e[n]||base.getNodeChildren.call($(r),e).length>0))}}),t},expandNode:function(e){return this.each(function(){var t=this,r=t.p;if(t.grid&&r.treeGrid){var i=r.treeReader.expanded_field,n=r.treeReader.parent_id_field,a=r.treeReader.loaded,o=r.treeReader.level_field,l=r.treeReader.left_field,s=r.treeReader.right_field;if(!e[i]){var d=getAccessor(e,r.localReader.id);if(!treeGridFeedback.call(t,"beforeExpandNode",{rowid:d,item:e}))return;var c=$("#"+r.idPrefix+jqID(d),t.grid.bDiv)[0],u=r._index[d];"local"===r.treedatatype||base.isNodeLoaded.call($(t),r.data[u])?(e[i]=!0,$("div.treeclick",c).removeClass(r.treeIcons.plus+" tree-plus").addClass(r.treeIcons.commonIconClass).addClass(r.treeIcons.minus+" tree-minus")):t.grid.hDiv.loading||(e[i]=!0,$("div.treeclick",c).removeClass(r.treeIcons.plus+" tree-plus").addClass(r.treeIcons.commonIconClass).addClass(r.treeIcons.minus+" tree-minus"),r.treeANode=c.rowIndex,r.datatype=r.treedatatype,base.setGridParam.call($(t),{postData:"nested"===r.treeGridModel?{nodeid:d,n_level:e[o],n_left:e[l],n_right:e[s]}:{nodeid:d,n_level:e[o],parentid:e[n]}}),$(t).trigger("reloadGrid"),e[a]=!0,base.setGridParam.call($(t),{postData:"nested"===r.treeGridModel?{nodeid:"",n_level:"",n_left:"",n_right:""}:{nodeid:"",n_level:"",parentid:""}})),treeGridFeedback.call(t,"afterExpandNode",{rowid:d,item:e})}}})},collapseNode:function(e){return this.each(function(){var t=this,r=t.p;if(t.grid&&r.treeGrid){var i=r.treeReader.expanded_field;if(e[i]){var n=getAccessor(e,r.localReader.id);if(!treeGridFeedback.call(t,"beforeCollapseNode",{rowid:n,item:e}))return;e[i]=!1,$("#"+r.idPrefix+jqID(n),t.grid.bDiv).find("div.treeclick").removeClass(r.treeIcons.minus+" tree-minus").addClass(r.treeIcons.commonIconClass).addClass(r.treeIcons.plus+" tree-plus"),(!0===r.unloadNodeOnCollapse||$.isFunction(r.unloadNodeOnCollapse)&&r.unloadNodeOnCollapse.call(t,e))&&(e[r.treeReader.loaded]=!1,$(t).jqGrid("delTreeNode",n,!0)),treeGridFeedback.call(t,"afterCollapseNode",{rowid:n,item:e})}}})},SortTree:function(e,t,r,i){return this.each(function(){var n=this,a=n.p,o=$(n);if(n.grid&&a.treeGrid){var l,s,d,c=[],u=base.getRootNodes.call(o),p=jgrid.from.call(n,u);p.orderBy(e,t,r,i);var f=p.select();for(l=0,s=f.length;l<s;l++)d=f[l],c.push(d),base.collectChildrenSortTree.call(o,c,d,e,t,r,i);$.each(c,function(e){var t=getAccessor(this,a.localReader.id);$(n.rows[e]).after(o.find(">tbody>tr#"+jqID(t)))})}})},collectChildrenSortTree:function(e,t,r,i,n,a){return this.each(function(){var o=this,l=$(o);if(o.grid&&o.p.treeGrid){var s,d,c,u=base.getNodeChildren.call(l,t),p=jgrid.from.call(o,u);p.orderBy(r,i,n,a);var f=p.select();for(s=0,d=f.length;s<d;s++)c=f[s],e.push(c),base.collectChildrenSortTree.call(l,e,c,r,i,n,a)}})},setTreeRow:function(e,t){var r=!1;return this.each(function(){var i=this;i.grid&&i.p.treeGrid&&(r=base.setRowData.call($(i),e,t))}),r},delTreeNode:function(e,t){return this.each(function(){var r,i,n,a,o,l=this,s=l.p,d=s.localReader.id,c=$(l),u=s.treeReader.left_field,p=s.treeReader.right_field;if(l.grid&&s.treeGrid){var f=s._index[e];if(void 0!==f){r=parseInt(s.data[f][p],10),i=r-parseInt(s.data[f][u],10)+1;var h=base.getFullTreeNode.call(c,s.data[f]);if(h.length>0)for(o=0;o<h.length;o++)t&&e===h[o][d]||base.delRowData.call(c,h[o][d]);if("nested"===s.treeGridModel){if(n=jgrid.from.call(l,s.data).greater(u,r,{stype:"integer"}).select(),n.length)for(a in n)n.hasOwnProperty(a)&&(n[a][u]=parseInt(n[a][u],10)-i);if(n=jgrid.from.call(l,s.data).greater(p,r,{stype:"integer"}).select(),n.length)for(a in n)n.hasOwnProperty(a)&&(n[a][p]=parseInt(n[a][p],10)-i)}}}})},addChildNode:function(e,t,r,i){return this.each(function(){if(r){var n,a,o,l,s,d,c,u=this,p=u.p,f=$(u),h=base.getInd,g=t,m=p.treeReader.expanded_field,v=p.treeReader.leaf_field,b=p.treeReader.level_field,y=p.treeReader.parent_id_field,w=p.treeReader.left_field,x=p.treeReader.right_field,C=p.treeReader.loaded;void 0===i&&(i=!1),null==e&&(e=jgrid.randId());var j=h.call(f,t);if(d=!1,void 0===t||null===t||""===t)t=null,g=null,n="last",l=p.tree_root_level;else{n="after",a=p._index[t],o=p.data[a],t=o[p.localReader.id],s=h.call(f,t),l=parseInt(o[b],10)+1;var D=base.getFullTreeNode.call(f,o);if(D.length){var S,q,_;for(S=0;S<D.length;S++)_=D[S][p.localReader.id],(q=h.call(f,_))>s&&(s=q,g=_)}o[v]&&(d=!0,o[m]=!0,$(u.rows[j]).find("span.cell-wrapperleaf").removeClass("cell-wrapperleaf").addClass("cell-wrapper").end().find("div.tree-leaf").removeClass(p.treeIcons.leaf+" tree-leaf").addClass(p.treeIcons.commonIconClass).addClass(p.treeIcons.minus+" tree-minus"),p.data[a][v]=!1,o[C]=!0)}if(void 0===r[m]&&(r[m]=!1),void 0===r[C]&&(r[C]=!1),r[b]=l,void 0===r[v]&&(r[v]=!0),"adjacency"===p.treeGridModel&&(r[y]=t),"nested"===p.treeGridModel){var F,R,k;if(null!==t){if(c=parseInt(o[x],10),F=jgrid.from.call(u,p.data),F=F.greaterOrEquals(x,c,{stype:"integer"}),R=F.select(),R.length)for(k in R)R.hasOwnProperty(k)&&(R[k][w]=R[k][w]>c?parseInt(R[k][w],10)+2:R[k][w],R[k][x]=R[k][x]>=c?parseInt(R[k][x],10)+2:R[k][x]);r[w]=c,r[x]=c+1}else{if(c=parseInt(base.getCol.call(f,x,!1,"max"),10),R=jgrid.from.call(u,p.data).greater(w,c,{stype:"integer"}).select(),R.length)for(k in R)R.hasOwnProperty(k)&&(R[k][w]=parseInt(R[k][w],10)+2);if(R=jgrid.from.call(u,p.data).greater(x,c,{stype:"integer"}).select(),R.length)for(k in R)R.hasOwnProperty(k)&&(R[k][x]=parseInt(R[k][x],10)+2);r[w]=c+1,r[x]=c+2}}(null===t||base.isNodeLoaded.call(f,o)||d)&&base.addRowData.call(f,e,r,n,g),o&&!o[m]&&i&&$(u.rows[j]).find("div.treeclick").click()}})}});var namespace=".jqGrid",mouseDown="mousedown",mouseMove="mousemove",mouseUp="mouseup",getMouseCoordinates=function(e){var t=e.originalEvent,r=t.targetTouches;return r?(r=r[0],{x:r.pageX,y:r.pageY}):{x:e.pageX,y:e.pageY}},jqDnR={drag:function(e){var t=e.data,r=t.e,i=t.dnr,n=t.ar,a=t.dnrAr,o=getMouseCoordinates(e);return"move"===i.k?r.css({left:i.X+o.x-i.pX,top:i.Y+o.y-i.pY}):(r.css({width:Math.max(o.x-i.pX+i.W,0),height:Math.max(o.y-i.pY+i.H,0)}),a&&n.css({width:Math.max(o.x-a.pX+a.W,0),height:Math.max(o.y-a.pY+a.H,0)})),!1},stop:function(){$(document).off(mouseMove,jqDnR.drag).off(mouseUp,jqDnR.stop)}},init=function(e,t,r,i){return e.each(function(){t=t?$(t,e):e,t.on(mouseDown,{e:e,k:r},function(e){var t,r,n,a,o,l,s=e.data,d={},c=function(e,t){return parseInt(e.css(t),10)||!1},u=function(e){return c(r,e)},p=function(e){return c(a,e)},f=getMouseCoordinates(e);if(!$(e.target).hasClass("ui-jqdialog-titlebar-close")&&!$(e.target).parent().hasClass("ui-jqdialog-titlebar-close")){if(r=s.e,a=!!i&&$(i),"relative"!==r.css("position"))try{r.position(d)}catch(e){}if(n={X:d.left||u("left")||0,Y:d.top||u("top")||0,W:u("width")||r[0].scrollWidth||0,H:u("height")||r[0].scrollHeight||0,pX:f.x,pY:f.y,k:s.k},o=!(!a||"move"===s.k)&&{X:d.left||p("left")||0,Y:d.top||p("top")||0,W:a[0].offsetWidth||p("width")||0,H:a[0].offsetHeight||p("height")||0,pX:f.x,pY:f.y,k:s.k},t=r.find("input.hasDatepicker"),t.length>0)try{t.datepicker("hide")}catch(e){}return l={e:r,dnr:n,ar:a,dnrAr:o},$(document).on(mouseMove,l,jqDnR.drag),$(document).on(mouseUp,l,jqDnR.stop),!1}})})};window.PointerEvent?(mouseDown+=namespace+" pointerdown"+namespace,mouseMove+=namespace+" pointermove"+namespace,mouseUp+=namespace+" pointerup"+namespace):window.MSPointerEvent?(mouseDown+=namespace+" mspointerdown"+namespace,mouseMove+=namespace+" mspointermove"+namespace,mouseUp+=namespace+" mspointerup"):(mouseDown+=namespace+" touchstart"+namespace,mouseMove+=namespace+" touchmove"+namespace,mouseUp+=namespace+" touchend"+namespace),$.jqDnR=jqDnR,$.fn.jqDrag=function(e){return init(this,e,"move")},$.fn.jqResize=function(e,t){return init(this,e,"resize",t)};var jqmHashLength=0,jqmHash,createdModals=[],setFocusOnFirstVisibleInput=function(e){try{$(":input:visible",e.w).first().focus()}catch(e){}},setFocus=function(e){setFocusOnFirstVisibleInput(e)},keyOrMouseEventHandler=function(e){var t=jqmHash[createdModals[createdModals.length-1]],r=!$(e.target).parents(".jqmID"+t.s)[0],i=$(e.target).offset(),n=void 0!==e.pageX?e.pageX:i.left,a=void 0!==e.pageY?e.pageY:i.top,o=function(){var e=!1;return $(".jqmID"+t.s).each(function(){var t=$(this),r=t.offset();if(r.top<=a&&a<=r.top+t.height()&&r.left<=n&&n<=r.left+t.width())return e=!0,!1}),e};return!("mousedown"===e.type||!o())||("mousedown"===e.type&&r&&(o()&&(r=!1),r&&!$(e.target).is(":input")&&setFocusOnFirstVisibleInput(t)),!r)},bindOrUnbindEvents=function(e){$(document)[e]("keypress keydown mousedown",keyOrMouseEventHandler)},registerHideOrShow=function(e,t,r){return e.each(function(){var e=this._jqm;$(t).each(function(){this[r]||(this[r]=[],$(this).click(function(){var e,t,r,i=["jqmShow","jqmHide"];for(e=0;e<i.length;e++){t=i[e];for(r in this[t])this[t].hasOwnProperty(r)&&jqmHash[this[t][r]]&&jqmHash[this[t][r]].w[t](this)}return!1})),this[r].push(e)})})};$.fn.jqm=function(e){var t={overlay:50,closeoverlay:!1,overlayClass:"jqmOverlay",closeClass:"jqmClose",trigger:".jqModal",ajax:!1,ajaxText:"",target:!1,modal:!1,toTop:!1,onShow:!1,onHide:!1,onLoad:!1};return this.each(function(){if(this._jqm)return jqmHash[this._jqm].c=$.extend({},jqmHash[this._jqm].c,e),jqmHash[this._jqm].c;jqmHashLength++,this._jqm=jqmHashLength,jqmHash[jqmHashLength]={c:$.extend(t,$.jqm.params,e),a:!1,w:$(this).addClass("jqmID"+jqmHashLength),s:jqmHashLength},t.trigger&&$(this).jqmAddTrigger(t.trigger)})},$.fn.jqmAddClose=function(e){return registerHideOrShow(this,e,"jqmHide")},$.fn.jqmAddTrigger=function(e){return registerHideOrShow(this,e,"jqmShow")},$.fn.jqmShow=function(e){return this.each(function(){$.jqm.open(this._jqm,e)})},$.fn.jqmHide=function(e){return this.each(function(){$.jqm.close(this._jqm,e)})},$.jqm={hash:{},open:function(e,t){var r,i,n,a,o,l=jqmHash[e],s=l.c,d=l.w.parent().offset(),c="."+s.closeClass,u=parseInt(l.w.css("z-index"),10);return u=u>0?u:3e3,r=$("<div></div>").css({height:"100%",width:"100%",position:"fixed",left:0,top:0,"z-index":u-1,opacity:s.overlay/100}),!l.a&&(l.t=t,l.a=!0,l.w.css("z-index",u),$(l.w[0].ownerDocument).data("ui-dialog-overlays")&&l.w.addClass("ui-dialog"),s.modal?(createdModals[0]||setTimeout(function(){bindOrUnbindEvents("bind")},1),createdModals.push(e)):s.overlay>0?s.closeoverlay&&l.w.jqmAddClose(r):r=!1,l.o=!!r&&r.addClass(s.overlayClass).prependTo("body"),s.ajax?(i=s.target||l.w,n=s.ajax,i="string"==typeof i?$(i,l.w):$(i),n="@"===n.substr(0,1)?$(t).attr(n.substring(1)):n,i.html(s.ajaxText).load(n,function(){s.onLoad&&s.onLoad.call(this,l),c&&l.w.jqmAddClose($(c,l.w)),setFocus(l)})):c&&l.w.jqmAddClose($(c,l.w)),s.toTop&&l.o&&(d=l.w.parent().offset(),a=parseFloat(l.w.css("left")||0),o=parseFloat(l.w.css("top")||0),l.w.before('<span id="jqmP'+l.w[0]._jqm+'"></span>').insertAfter(l.o),l.w.css({top:d.top+o,left:d.left+a})),s.onShow?s.onShow(l):l.w.show(),setFocus(l),!1)},close:function(e){var t=jqmHash[e];return!!t.a&&(t.a=!1,createdModals[0]&&(createdModals.pop(),createdModals[0]||bindOrUnbindEvents("unbind")),t.c.toTop&&t.o&&$("#jqmP"+t.w[0]._jqm).after(t.w).remove(),t.c.onHide?t.c.onHide(t):(t.w.hide(),t.o&&t.o.remove()),!1)},params:{}},jqmHash=$.jqm.hash,$.fmatter=$.fmatter||{};var fmatter=$.fmatter,getOptionByName=function(e,t){var r=e.formatoptions||{};return r.hasOwnProperty(t)?r[t]:(e.editoptions||{})[t]},encodeAttr=function(e){return String(e).replace(/\'/g,"&#39;")},parseCheckboxOptions=function(e){var t,r,i=e.colModel||e.cm,n=!1!==i.title?" title='"+encodeAttr(e.colName||i.name)+"'":"",a=function(e){return getOptionByName(i,e)},o=a("checkedClass"),l=a("uncheckedClass"),s=a("value"),d="string"==typeof s?s.split(":")[0]||"Yes":"Yes",c="string"==typeof s?s.split(":")[1]||"No":"No",u=function(e){return"<i class='"+encodeAttr(e)+"'"+n+"></i>"},p=a("disabled");return void 0===p&&(p=jgrid.formatter.checkbox.disabled),!0===p&&base.isInCommonIconClass.call(this,"fa")?(o=o||"fa fa-check-square-o fa-lg",t=u(o),r=u(l||"fa fa-square-o fa-lg")):!0===p&&base.isInCommonIconClass.call(this,"glyphicon")?(o=o||"glyphicon glyphicon-check",t=u(o),r=u(l||"glyphicon glyphicon-unchecked")):(o="",n+=!0===p?" disabled='disabled'":"",t="<input type='checkbox' checked='checked'"+n+" />",r="<input type='checkbox'"+n+" />"),{checkedClasses:o,checked:t,unchecked:r,yes:d,no:c}},yesObject={1:1,x:1,true:1,yes:1,y:1,on:1},noObject={0:1,false:1,no:1,n:1,off:1};$.extend(!0,jgrid,{formatter:{date:{parseRe:/[#%\\\/:_;.,\t\s\-]/,masks:{ISO8601Long:"Y-m-d H:i:s",ISO8601Short:"Y-m-d",SortableDateTime:"Y-m-d\\TH:i:s",UniversalSortableDateTime:"Y-m-d H:i:sO"},reformatAfterEdit:!0,userLocalTime:!1},baseLinkUrl:"",showAction:"",target:"",checkbox:{disabled:!0,defaultValue:!1},idName:"id"},cmTemplate:{integerStr:{formatter:"integer",align:"right",sorttype:"integer",searchoptions:{sopt:["eq","ne","lt","le","gt","ge"]}},integer:{formatter:"integer",align:"right",sorttype:"integer",convertOnSave:function(e){var t=e.newValue;return isNaN(t)?t:parseInt(t,10)},searchoptions:{sopt:["eq","ne","lt","le","gt","ge"]}},numberStr:{formatter:"number",align:"right",sorttype:"number",searchoptions:{sopt:["eq","ne","lt","le","gt","ge"]}},number:{formatter:"number",align:"right",sorttype:"number",convertOnSave:function(e){var t=e.newValue;return isNaN(t)?t:parseFloat(t)},searchoptions:{sopt:["eq","ne","lt","le","gt","ge"]}},booleanCheckbox:{align:"center",formatter:"checkbox",sorttype:"boolean",edittype:"checkbox",editoptions:{value:"true:false",defaultValue:"false"},convertOnSave:function(e){var t=e.newValue,r=parseCheckboxOptions.call(this,e),i=String(t).toLowerCase();return yesObject[i]||i===r.yes.toLowerCase()?t=!0:(noObject[i]||i===r.no.toLowerCase())&&(t=!1),t},stype:"checkbox",searchoptions:{sopt:["eq"],value:"true:false"}},actions:function(){return{formatter:"actions",width:(null!=this.p&&(base.isInCommonIconClass.call(this,"fa")||base.isInCommonIconClass.call(this,"glyphicon"))?$(this).jqGrid("isBootstrapGuiStyle")?45:39:40)+(jgrid.cellWidth()?5:0),align:"center",label:"",autoResizable:!1,frozen:!0,fixed:!0,hidedlg:!0,resizable:!1,sortable:!1,search:!1,editable:!1,viewable:!1}}}}),jgrid.cmTemplate.booleanCheckboxFa=jgrid.cmTemplate.booleanCheckbox,$.extend(fmatter,{isObject:function(e){return e&&("object"==typeof e||$.isFunction(e))||!1},isNumber:function(e){return"number"==typeof e&&isFinite(e)},isValue:function(e){return this.isObject(e)||"string"==typeof e||this.isNumber(e)||"boolean"==typeof e},isEmpty:function(e){return("string"==typeof e||!this.isValue(e))&&(!this.isValue(e)||""===(e=$.trim(e).replace(/&nbsp;/gi,"").replace(/&#160;/gi,"")))},NumberFormat:function(e,t){var r=fmatter.isNumber;if(r(e)||(e*=1),r(e)){var i,n=e<0,a=String(e),o=t.decimalSeparator||".";if(r(t.decimalPlaces)){var l=t.decimalPlaces,s=Math.pow(10,l);if(a=String(Math.round(e*s)/s),i=a.lastIndexOf("."),l>0)for(i<0?(a+=o,i=a.length-1):"."!==o&&(a=a.replace(".",o));a.length-1-i<l;)a+="0"}if(t.thousandsSeparator){var d=t.thousandsSeparator;i=a.lastIndexOf(o),i=i>-1?i:a.length;var c,u=void 0===t.decimalSeparator?"":a.substring(i),p=-1;for(c=i;c>0;c--)p++,p%3==0&&c!==i&&(!n||c>1)&&(u=d+u),u=a.charAt(c-1)+u;a=u}return a}return e}});var $FnFmatter=function(e,t,r,i,n){var a=t;r=$.extend({},getGridRes.call($(this),"formatter"),r);try{a=$.fn.fmatter[e].call(this,t,r,i,n)}catch(e){}return a};$.fn.fmatter=$FnFmatter,$FnFmatter.getCellBuilder=function(e,t,r){var i=null!=$.fn.fmatter[e]?$.fn.fmatter[e].getCellBuilder:null;return $.isFunction(i)?i.call(this,$.extend({},getGridRes.call($(this),"formatter"),t),r):null},$FnFmatter.defaultFormat=function(e,t){return fmatter.isValue(e)&&""!==e?e:t.defaultValue||"&#160;"};var defaultFormat=$FnFmatter.defaultFormat,formatCheckboxValue=function(e,t,r){if(void 0===e||fmatter.isEmpty(e)){var i=getOptionByName(r,"defaultValue");void 0===i&&(i=t.no),e=i}return e=String(e).toLowerCase(),yesObject[e]||e===t.yes.toLowerCase()?t.checked:t.unchecked};$FnFmatter.email=function(e,t){return fmatter.isEmpty(e)?defaultFormat(e,t):"<a href='mailto:"+encodeAttr(e)+"'>"+e+"</a>"},$FnFmatter.checkbox=function(e,t){var r=parseCheckboxOptions.call(this,t);return formatCheckboxValue(e,r,t.colModel)},$FnFmatter.checkbox.getCellBuilder=function(e){var t,r=e.colModel;return e.colName=e.colName||this.p.colNames[e.pos],t=parseCheckboxOptions.call(this,e),function(e){return formatCheckboxValue(e,t,r)}},$FnFmatter.checkbox.unformat=function(e,t,r){var i=parseCheckboxOptions.call(this,t),n=$(r);return(i.checkedClasses?jgrid.hasAllClasses(n.children("i"),i.checkedClasses):n.children("input").is(":checked"))?i.yes:i.no},$FnFmatter.checkboxFontAwesome4=$FnFmatter.checkbox,$FnFmatter.checkboxFontAwesome4.getCellBuilder=$FnFmatter.checkbox.getCellBuilder,$FnFmatter.checkboxFontAwesome4.unformat=$FnFmatter.checkbox.unformat,$FnFmatter.link=function(e,t){var r=t.colModel,i="",n={target:t.target};return null!=r&&(n=$.extend({},n,r.formatoptions||{})),n.target&&(i="target="+n.target),fmatter.isEmpty(e)?defaultFormat(e,n):"<a "+i+" href='"+encodeAttr(e)+"'>"+e+"</a>"},$FnFmatter.showlink=function(e,t,r){var i,n,a,o=this,l=t.colModel,s={baseLinkUrl:t.baseLinkUrl,showAction:t.showAction,addParam:t.addParam||"",target:t.target,idName:t.idName,hrefDefaultValue:"#"},d="",c=function(i){return $.isFunction(i)?i.call(o,{cellValue:e,rowid:t.rowId,rowData:r,options:s}):i||""};return null!=l&&(s=$.extend({},s,l.formatoptions||{})),s.target&&(d="target="+c(s.target)),i=c(s.baseLinkUrl)+c(s.showAction),n=s.idName?encodeURIComponent(c(s.idName))+"="+encodeURIComponent(c(s.rowId)||t.rowId):"",a=c(s.addParam),"object"==typeof a&&null!==a&&(a=(""!==n?"&":"")+$.param(a)),i+=n||a?"?"+n+a:"",""===i&&(i=c(s.hrefDefaultValue)),"string"==typeof e||fmatter.isNumber(e)||$.isFunction(s.cellValue)?"<a "+d+" href='"+encodeAttr(i)+"'>"+($.isFunction(s.cellValue)?c(s.cellValue):e)+"</a>":defaultFormat(e,s)},$FnFmatter.showlink.getCellBuilder=function(e){var t={baseLinkUrl:e.baseLinkUrl,showAction:e.showAction,addParam:e.addParam||"",target:e.target,idName:e.idName,hrefDefaultValue:"#"},r=e.colModel;return null!=r&&(t=$.extend({},t,r.formatoptions||{})),function(e,r,i){var n,a,o,l=this,s=r.rowId,d="",c=function(r){return $.isFunction(r)?r.call(l,{cellValue:e,rowid:s,rowData:i,options:t}):r||""};return t.target&&(d="target="+c(t.target)),n=c(t.baseLinkUrl)+c(t.showAction),a=t.idName?encodeURIComponent(c(t.idName))+"="+encodeURIComponent(c(s)||r.rowId):"",o=c(t.addParam),"object"==typeof o&&null!==o&&(o=(""!==a?"&":"")+$.param(o)),n+=a||o?"?"+a+o:"",""===n&&(n=c(t.hrefDefaultValue)),"string"==typeof e||fmatter.isNumber(e)||$.isFunction(t.cellValue)?"<a "+d+" href='"+encodeAttr(n)+"'>"+($.isFunction(t.cellValue)?c(t.cellValue):e)+"</a>":defaultFormat(e,t)}},$FnFmatter.showlink.pageFinalization=function(e){var t,r,i,n=$(this),a=this.p,o=a.colModel,l=o[e],s=this.rows,d=s.length,c=function(t){var r=$(this).closest(".jqgrow");if(r.length>0)return l.formatoptions.onClick.call(n[0],{iCol:e,iRow:r[0].rowIndex,rowid:r.attr("id"),cm:l,cmName:l.name,cellValue:$(this).text(),a:this,event:t})};if(null!=l.formatoptions&&$.isFunction(l.formatoptions.onClick))for(t=0;t<d;t++)r=s[t],$(r).hasClass("jqgrow")&&(i=r.cells[e],l.autoResizable&&null!=i&&$(i.firstChild).hasClass(a.autoResizing.wrapperClassName)&&(i=i.firstChild),null!=i&&$(i.firstChild).on("click",c))};var insertPrefixAndSuffix=function(e,t){return e=t.prefix?t.prefix+e:e,t.suffix?e+t.suffix:e},numberHelper=function(e,t,r){var i=t.colModel,n=$.extend({},t[r]);return null!=i&&(n=$.extend({},n,i.formatoptions||{})),fmatter.isEmpty(e)?insertPrefixAndSuffix(n.defaultValue,n):insertPrefixAndSuffix(fmatter.NumberFormat(e,n),n)};$FnFmatter.integer=function(e,t){return numberHelper(e,t,"integer")},$FnFmatter.number=function(e,t){return numberHelper(e,t,"number")},$FnFmatter.currency=function(e,t){return numberHelper(e,t,"currency")};var numberCellBuilder=function(e,t){var r=e.colModel,i=$.extend({},e[t]);null!=r&&(i=$.extend({},i,r.formatoptions||{}));var n=fmatter.NumberFormat,a=i.defaultValue?insertPrefixAndSuffix(i.defaultValue,i):"";return function(e){return fmatter.isEmpty(e)?a:insertPrefixAndSuffix(n(e,i),i)}};$FnFmatter.integer.getCellBuilder=function(e){return numberCellBuilder(e,"integer")},$FnFmatter.number.getCellBuilder=function(e){return numberCellBuilder(e,"number")},$FnFmatter.currency.getCellBuilder=function(e){return numberCellBuilder(e,"currency")},$FnFmatter.date=function(e,t,r,i){var n=t.colModel,a=$.extend({},t.date);return null!=n&&(a=$.extend({},a,n.formatoptions||{})),a.reformatAfterEdit||"edit"!==i?fmatter.isEmpty(e)?defaultFormat(e,a):jgrid.parseDate.call(this,a.srcformat,e,a.newformat,a):defaultFormat(e,a)},$FnFmatter.date.getCellBuilder=function(e,t){var r=$.extend({},e.date);null!=e.colModel&&(r=$.extend({},r,e.colModel.formatoptions||{}));var i=jgrid.parseDate,n=r.srcformat,a=r.newformat;return r.reformatAfterEdit||"edit"!==t?function(e){return fmatter.isEmpty(e)?defaultFormat(e,r):i.call(this,n,e,a,r)}:function(e){return defaultFormat(e,r)}},$FnFmatter.select=function(e,t){var r,i=[],n=t.colModel,a=$.extend({},n.editoptions||{},n.formatoptions||{}),o=a.value,l=a.separator||":",s=a.delimiter||";";if(o){var d,c=!0===a.multiple,u=[],p=function(e,t){if(t>0)return e};if(c&&(u=$.map(String(e).split(","),function(e){return $.trim(e)})),"string"==typeof o){var f,h,g=o.split(s);for(f=0;f<g.length;f++)if(d=g[f].split(l),d.length>2&&(d[1]=$.map(d,p).join(l)),h=$.trim(d[0]),a.defaultValue===h&&(r=d[1]),c)$.inArray(h,u)>-1&&i.push(d[1]);else if(h===$.trim(e)){i=[d[1]];break}}else fmatter.isObject(o)&&(r=o[a.defaultValue],i=c?$.map(u,function(e){return o[e]}):[void 0===o[e]?"":o[e]])}return e=i.join(", "),""!==e?e:void 0!==a.defaultValue?r:defaultFormat(e,a)},$FnFmatter.select.getCellBuilder=function(e){var t,r,i,n,a,o=e.colModel,l=$FnFmatter.defaultFormat,s=$.extend({},o.editoptions||{},o.formatoptions||{}),d=s.value,c=s.separator||":",u=s.delimiter||";",p=void 0!==s.defaultValue,f=!0===s.multiple,h={},g=function(e,t){if(t>0)return e};if("string"==typeof d)for(i=d.split(u),a=i.length,n=a-1;n>=0;n--)r=i[n].split(c),r.length>2&&(r[1]=$.map(r,g).join(c)),h[$.trim(r[0])]=r[1];else{if(!fmatter.isObject(d))return function(e){return e?String(e):l(e,s)};h=d}return p&&(t=h[s.defaultValue]),f?function(e){var r,i=[],n=$.map(String(e).split(","),function(e){return $.trim(e)});for(r=0;r<n.length;r++)e=n[r],h.hasOwnProperty(e)&&i.push(h[e]);return e=i.join(", "),""!==e?e:p?t:l(e,s)}:function(e){var r=h[String(e)];return""!==r&&void 0!==r?r:p?t:l(e,s)}},$FnFmatter.rowactions=function(e,t){var r,i,n,a,o=$(this).closest("tr.jqgrow"),l=o.attr("id"),s=$(this).closest("table.ui-jqgrid-btable").attr("id").replace(/_frozen([^_]*)$/,"$1"),d=$("#"+jgrid.jqID(s)),c=d[0],u=c.p,p=jgrid.getRelativeRect.call(c,o).top,f=u.colModel[jgrid.getCellIndex(this)],h=$.extend(!0,{extraparam:{}},jgrid.actionsNav||{},u.actionsNavOptions||{},f.formatoptions||{});switch(void 0!==u.editOptions&&(h.editOptions=$.extend(!0,h.editOptions||{},u.editOptions)),void 0!==u.delOptions&&(h.delOptions=u.delOptions),o.hasClass("jqgrid-new-row")&&(h.extraparam[u.prmNames.oper]=u.prmNames.addoper),a={keys:h.keys,oneditfunc:h.onEdit,successfunc:h.onSuccess,url:h.url,extraparam:h.extraparam,aftersavefunc:h.afterSave,errorfunc:h.onError,afterrestorefunc:h.afterRestore,restoreAfterError:h.restoreAfterError,mtype:h.mtype},!u.multiselect&&l!==u.selrow||u.multiselect&&$.inArray(l,u.selarrrow)<0?d.jqGrid("setSelection",l,!0,e):jgrid.fullBoolFeedback.call(c,"onSelectRow","jqGridSelectRow",l,!0,e),t){case"edit":d.jqGrid("editRow",l,a);break;case"save":d.jqGrid("saveRow",l,a);break;case"cancel":d.jqGrid("restoreRow",l,h.afterRestore);break;case"del":h.delOptions=h.delOptions||{},void 0===h.delOptions.top&&(h.delOptions.top=p),d.jqGrid("delGridRow",l,h.delOptions);break;case"formedit":h.editOptions=h.editOptions||{},void 0===h.editOptions.top&&(h.editOptions.top=p,h.editOptions.recreateForm=!0),d.jqGrid("editGridRow",l,h.editOptions);break;default:if(null!=h.custom&&h.custom.length>0)for(i=h.custom.length,r=0;r<i;r++)n=h.custom[r],n.action===t&&$.isFunction(n.onClick)&&n.onClick.call(c,{rowid:l,event:e,action:t,options:n})}return e.stopPropagation&&e.stopPropagation(),!1},$FnFmatter.actions=function(e,t,r,i){var n,a,o,l=t.rowId,s="",d=this,c=d.p,u=$(d),p={},f=getGridRes.call(u,"edit")||{},h=$.extend({editbutton:!0,delbutton:!0,editformbutton:!1,commonIconClass:"ui-icon",editicon:"ui-icon-pencil",delicon:"ui-icon-trash",saveicon:"ui-icon-disk",cancelicon:"ui-icon-cancel",savetitle:f.bSubmit||"",canceltitle:f.bCancel||""},getGridRes.call(u,"nav")||{},jgrid.nav||{},c.navOptions||{},getGridRes.call(u,"actionsNav")||{},jgrid.actionsNav||{},c.actionsNavOptions||{},t.colModel.formatoptions||{}),g=function(e){return jgrid.mergeCssClasses(h.commonIconClass,h[e+"icon"])},m=u.jqGrid("getGuiStyles","states.hover"),v="onmouseover=\"jQuery(this).addClass('"+m+"');\" onmouseout=\"jQuery(this).removeClass('"+m+"');\"",b=[{action:"edit",actionName:"formedit",display:h.editformbutton},{action:"edit",display:!h.editformbutton&&h.editbutton},{action:"del",idPrefix:"Delete",display:h.delbutton},{action:"save",display:h.editformbutton||h.editbutton,hidden:!0},{action:"cancel",display:h.editformbutton||h.editbutton,hidden:!0}],y=null!=h.custom?h.custom.length-1:-1;if(void 0===l||fmatter.isEmpty(l))return"";if($.isFunction(h.isDisplayButtons))try{p=h.isDisplayButtons.call(d,t,r,i)||{}}catch(e){}for(;y>=0;)a=h.custom[y--],b["first"===a.position?"unshift":"push"](a);for(n=0,y=b.length;n<y;n++)o=$.extend({},b[n],p[b[n].action]||{}),!1!==o.display&&(s+=function(e){var t=e.action,r=e.actionName||t,i=void 0!==e.idPrefix?e.idPrefix:t.charAt(0).toUpperCase()+t.substring(1);return"<div title='"+encodeAttr(h[t+"title"])+(e.hidden?"' style='display:none;":"")+"' class='"+encodeAttr(u.jqGrid("getGuiStyles","actionsButton","ui-pg-div ui-inline-"+t))+"' "+(null!==i?"id='j"+encodeAttr(i+"Button_"+l):"")+"' onclick=\"return jQuery.fn.fmatter.rowactions.call(this,event,'"+r+"');\" "+(e.noHovering?"":v)+"><span class='"+encodeAttr(g(t))+"'></span></div>"}(o));return"<div class='"+encodeAttr(u.jqGrid("getGuiStyles","actionsDiv","ui-jqgrid-actions"))+"'>"+s+"</div>"},$FnFmatter.actions.pageFinalization=function(e){var t=$(this),r=this.p,i=r.colModel,n=i[e],a=function(a,o){var l,s,d,c=0,u=i.length;for(d=0;d<u&&!0===i[d].frozen;d++)c=d;null!=(l=t.jqGrid("getGridRowById",o))&&null!=l.cells&&(e=r.iColByName[n.name],s=$(l.cells[e]).children(".ui-jqgrid-actions"),n.frozen&&r.frozenColumns&&e<=c&&(s=s.add($(t[0].grid.fbRows[l.rowIndex].cells[e]).children(".ui-jqgrid-actions"))),a?(s.find(">.ui-inline-edit,>.ui-inline-del").show(),s.find(">.ui-inline-save,>.ui-inline-cancel").hide()):(s.find(">.ui-inline-edit,>.ui-inline-del").hide(),s.find(">.ui-inline-save,>.ui-inline-cancel").show()))},o=function(e,t){return a(!0,t),!1},l=function(e,t){return a(!1,t),!1};null!=n.formatoptions&&n.formatoptions.editformbutton||(t.off("jqGridInlineAfterRestoreRow.jqGridFormatter jqGridInlineAfterSaveRow.jqGridFormatter",o),t.on("jqGridInlineAfterRestoreRow.jqGridFormatter jqGridInlineAfterSaveRow.jqGridFormatter",o),t.off("jqGridInlineEditRow.jqGridFormatter",l),t.on("jqGridInlineEditRow.jqGridFormatter",l))},$.unformat=function(e,t,r,i){var n,a=t.colModel,o=a.formatter,l=this.p,s=a.formatoptions||{},d=a.unformat||$FnFmatter[o]&&$FnFmatter[o].unformat;if(e instanceof jQuery&&e.length>0&&(e=e[0]),l.treeGrid&&null!=e&&$(e.firstChild).hasClass("tree-wrap")&&($(e.lastChild).hasClass("cell-wrapper")||$(e.lastChild).hasClass("cell-wrapperleaf"))&&(e=e.lastChild),a.autoResizable&&null!=e&&$(e.firstChild).hasClass(l.autoResizing.wrapperClassName)&&(e=e.firstChild),void 0!==d&&$.isFunction(d))n=d.call(this,$(e).text(),t,e);else if(void 0!==o&&"string"==typeof o){var c=$(this),u=function(e,t){return void 0!==s[t]?s[t]:getGridRes.call(c,"formatter."+e+"."+t)},p=function(e,t){var r=u(e,"thousandsSeparator").replace(/([\.\*\_\'\(\)\{\}\+\?\\])/g,"\\$1");return t.replace(new RegExp(r,"g"),"")};switch(o){case"integer":n=p("integer",$(e).text());break;case"number":n=p("number",$(e).text()).replace(u("number","decimalSeparator"),".");break;case"currency":n=$(e).text();var f=u("currency","prefix"),h=u("currency","suffix");f&&f.length&&(n=n.substr(f.length)),h&&h.length&&(n=n.substr(0,n.length-h.length)),n=p("number",n).replace(u("number","decimalSeparator"),".");break;case"checkbox":n=$FnFmatter.checkbox.unformat(e,t,e);break;case"select":n=$.unformat.select(e,t,r,i);break;case"actions":return"";default:n=$(e).text()}}return n=void 0!==n?n:!0===i?$(e).text():jgrid.htmlDecode($(e).html())},$.unformat.select=function(e,t,r,i){var n=[],a=$(e).text(),o=t.colModel;if(!0===i)return a;var l=$.extend({},o.editoptions||{},o.formatoptions||{}),s=void 0===l.separator?":":l.separator,d=void 0===l.delimiter?";":l.delimiter;if(l.value){var c,u=l.value,p=!0===l.multiple,f=[],h=function(e,t){if(t>0)return e};if(p&&(f=a.split(","),f=$.map(f,function(e){return $.trim(e)})),"string"==typeof u){var g,m=u.split(d),v=0;for(g=0;g<m.length;g++)if(c=m[g].split(s),c.length>2&&(c[1]=$.map(c,h).join(s)),p)$.inArray($.trim(c[1]),f)>-1&&(n[v]=c[0],v++);else if($.trim(c[1])===$.trim(a)){n[0]=c[0];break}}else(fmatter.isObject(u)||$.isArray(u))&&(p||(f[0]=a),n=$.map(f,function(e){var t;if($.each(u,function(r,i){if(i===e)return t=r,!1}),void 0!==t)return t}));return n.join(", ")}return a||""},$.unformat.date=function(e,t){var r=$.extend(!0,{},getGridRes.call($(this),"formatter.date"),jgrid.formatter.date||{},t.formatoptions||{});return fmatter.isEmpty(e)?"":jgrid.parseDate.call(this,r.newformat,e,r.srcformat,r)}})}],[3]);