<!DOCTYPE html>
<html>
    <head>
		<title>TypeScript Greeter</title>
		<script src="http://libs.baidu.com/jquery/2.0.3/jquery.min.js"></script>
        <script>
            $(function(){
                $("#btnSend").click(function() {
                    $("#request-process-patent").html("正在提交数据，请勿关闭当前窗口...");
                    $.ajax({
                        type: "POST",
                        url: "RequestData.ashx",
                        contentType: "application/json; charset=utf-8",
                        data: JSON.stringify(GetJsonData()),
                        dataType: "json",
                        success: function (message) {
                            if (message > 0) {
                                alert("请求已提交！我们会尽快与您取得联系");
                            }
                        },
                        error: function (message) {
                            $("#request-process-patent").html("提交数据失败！");
                        }
                    });
                });

                function GetJsonData() {
                    var json = {
                        "classid": 2,
                        "name": $("#tb_name").val(),
                        "zlclass": "测试类型1,测试类型2,测试类型3",
                        "pname": $("#tb_contact_people").val(),
                        "tel": $("#tb_contact_phone").val()
                    };
                    return json;
                }
            });
        </script>
	</head>
    <body>
        <input id="btnSend" type="button" value="Send"/>        
    </body>
</html>
